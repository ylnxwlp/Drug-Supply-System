2024-10-07T00:34:50.282+08:00  INFO 1968 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 1968 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T00:34:50.284+08:00  INFO 1968 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T00:34:50.817+08:00  INFO 1968 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T00:34:50.819+08:00  INFO 1968 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T00:34:50.843+08:00  INFO 1968 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2024-10-07T00:34:51.011+08:00  INFO 1968 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T00:34:51.011+08:00  INFO 1968 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T00:34:51.012+08:00  INFO 1968 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T00:34:51.013+08:00  INFO 1968 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T00:34:51.013+08:00  INFO 1968 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T00:34:51.013+08:00  INFO 1968 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T00:34:51.014+08:00  INFO 1968 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T00:34:51.014+08:00  INFO 1968 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T00:34:51.014+08:00  INFO 1968 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T00:34:51.030+08:00  INFO 1968 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T00:34:51.037+08:00  INFO 1968 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T00:34:51.038+08:00  INFO 1968 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T00:34:51.334+08:00  INFO 1968 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T00:34:51.346+08:00  INFO 1968 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T00:34:51.346+08:00  INFO 1968 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T00:34:51.387+08:00  INFO 1968 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T00:34:51.388+08:00  INFO 1968 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1076 ms
2024-10-07T00:34:51.618+08:00  INFO 1968 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T00:34:51.627+08:00  INFO 1968 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T00:34:51.628+08:00  INFO 1968 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T00:34:51.628+08:00  INFO 1968 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T00:34:51.629+08:00  INFO 1968 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T00:34:51.629+08:00  INFO 1968 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T00:34:51.630+08:00  INFO 1968 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T00:34:51.630+08:00  INFO 1968 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T00:34:52.307+08:00  INFO 1968 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@19f1f330, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@143fe09c, org.springframework.security.web.context.SecurityContextHolderFilter@35b58254, org.springframework.security.web.header.HeaderWriterFilter@27d6467, org.springframework.security.web.authentication.logout.LogoutFilter@1860b107, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@446dacf9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13018f00, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41463c56, org.springframework.security.web.session.SessionManagementFilter@259c6ab8, org.springframework.security.web.access.ExceptionTranslationFilter@73c09a98, org.springframework.security.web.access.intercept.AuthorizationFilter@47994b51]
2024-10-07T00:34:52.631+08:00  INFO 1968 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T00:34:52.633+08:00  INFO 1968 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T00:34:52.633+08:00  INFO 1968 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T00:34:52.633+08:00  INFO 1968 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T00:34:52.633+08:00  INFO 1968 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T00:34:52.633+08:00  INFO 1968 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T00:34:52.633+08:00  INFO 1968 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T00:34:52.633+08:00  INFO 1968 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T00:34:52.633+08:00  INFO 1968 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T00:34:52.633+08:00  INFO 1968 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T00:34:52.634+08:00  INFO 1968 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T00:34:52.660+08:00  INFO 1968 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#c6bf8d9:0/SimpleConnection@6fe77a97 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=56534]
2024-10-07T00:34:52.710+08:00  INFO 1968 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.704 seconds (process running for 3.014)
2024-10-07T00:34:57.046+08:00  INFO 1968 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T00:34:57.047+08:00  INFO 1968 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T00:34:57.047+08:00  INFO 1968 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2024-10-07T00:34:57.393+08:00  INFO 1968 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 5 验证通过
2024-10-07T00:34:57.410+08:00 ERROR 1968 --- [http-nio-10102-exec-1] o.a.coyote.http11.Http11NioProtocol      : Error reading request, ignored

java.lang.IllegalArgumentException: jakarta.websocket.DeploymentException: Endpoint instance creation failed
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:134) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:938) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: jakarta.websocket.DeploymentException: Endpoint instance creation failed
	at org.apache.tomcat.websocket.WsSession.<init>(WsSession.java:264) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:124) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	... 7 common frames omitted
Caused by: java.lang.NoSuchMethodException: com.supply.websocket.ChatEndPoint.<init>()
	at java.base/java.lang.Class.getConstructor0(Class.java:3585) ~[na:na]
	at java.base/java.lang.Class.getConstructor(Class.java:2271) ~[na:na]
	at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:136) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.WsSession.<init>(WsSession.java:261) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	... 8 common frames omitted

2024-10-07T00:42:16.232+08:00  INFO 1968 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T00:42:16.234+08:00  INFO 1968 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T00:42:17.191+08:00  INFO 1968 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T00:42:17.222+08:00  INFO 1968 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T00:42:20.165+08:00  INFO 12248 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 12248 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T00:42:20.167+08:00  INFO 12248 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T00:42:20.695+08:00  INFO 12248 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T00:42:20.696+08:00  INFO 12248 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T00:42:20.714+08:00  INFO 12248 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2024-10-07T00:42:20.865+08:00  INFO 12248 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T00:42:20.866+08:00  INFO 12248 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T00:42:20.867+08:00  INFO 12248 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T00:42:20.867+08:00  INFO 12248 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T00:42:20.868+08:00  INFO 12248 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T00:42:20.868+08:00  INFO 12248 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T00:42:20.868+08:00  INFO 12248 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T00:42:20.868+08:00  INFO 12248 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T00:42:20.868+08:00  INFO 12248 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T00:42:20.882+08:00  INFO 12248 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T00:42:20.888+08:00  INFO 12248 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T00:42:20.889+08:00  INFO 12248 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T00:42:21.173+08:00  INFO 12248 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T00:42:21.180+08:00  INFO 12248 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T00:42:21.180+08:00  INFO 12248 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T00:42:21.225+08:00  INFO 12248 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T00:42:21.226+08:00  INFO 12248 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1032 ms
2024-10-07T00:42:21.457+08:00  INFO 12248 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T00:42:21.463+08:00  INFO 12248 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T00:42:21.463+08:00  INFO 12248 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T00:42:21.463+08:00  INFO 12248 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T00:42:21.463+08:00  INFO 12248 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T00:42:21.463+08:00  INFO 12248 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T00:42:21.463+08:00  INFO 12248 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T00:42:21.465+08:00  INFO 12248 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T00:42:22.094+08:00  INFO 12248 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@19f1f330, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@143fe09c, org.springframework.security.web.context.SecurityContextHolderFilter@35b58254, org.springframework.security.web.header.HeaderWriterFilter@27d6467, org.springframework.security.web.authentication.logout.LogoutFilter@1860b107, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@446dacf9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13018f00, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41463c56, org.springframework.security.web.session.SessionManagementFilter@259c6ab8, org.springframework.security.web.access.ExceptionTranslationFilter@73c09a98, org.springframework.security.web.access.intercept.AuthorizationFilter@47994b51]
2024-10-07T00:42:22.441+08:00  INFO 12248 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T00:42:22.443+08:00  INFO 12248 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T00:42:22.443+08:00  INFO 12248 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T00:42:22.443+08:00  INFO 12248 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T00:42:22.443+08:00  INFO 12248 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T00:42:22.443+08:00  INFO 12248 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T00:42:22.443+08:00  INFO 12248 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T00:42:22.443+08:00  INFO 12248 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T00:42:22.443+08:00  INFO 12248 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T00:42:22.443+08:00  INFO 12248 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T00:42:22.444+08:00  INFO 12248 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T00:42:22.472+08:00  INFO 12248 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#c6bf8d9:0/SimpleConnection@6fe77a97 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=56874]
2024-10-07T00:42:22.512+08:00  INFO 12248 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.602 seconds (process running for 2.922)
2024-10-07T00:42:24.113+08:00  INFO 12248 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T00:42:24.113+08:00  INFO 12248 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T00:42:24.114+08:00  INFO 12248 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-07T00:42:24.457+08:00  INFO 12248 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 5 验证通过
2024-10-07T00:42:24.475+08:00 ERROR 12248 --- [http-nio-10102-exec-1] o.a.coyote.http11.Http11NioProtocol      : Error reading request, ignored

java.lang.IllegalArgumentException: jakarta.websocket.DeploymentException: Endpoint instance creation failed
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:134) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:938) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: jakarta.websocket.DeploymentException: Endpoint instance creation failed
	at org.apache.tomcat.websocket.WsSession.<init>(WsSession.java:264) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:124) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	... 7 common frames omitted
Caused by: java.lang.NoSuchMethodException: com.supply.websocket.ChatEndPoint.<init>()
	at java.base/java.lang.Class.getConstructor0(Class.java:3585) ~[na:na]
	at java.base/java.lang.Class.getConstructor(Class.java:2271) ~[na:na]
	at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:136) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.WsSession.<init>(WsSession.java:261) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	... 8 common frames omitted

2024-10-07T00:43:14.131+08:00  INFO 12248 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T00:43:14.132+08:00  INFO 12248 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T00:43:14.989+08:00  INFO 12248 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T00:43:15.020+08:00  INFO 12248 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T00:43:18.620+08:00  INFO 4436 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 4436 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T00:43:18.621+08:00  INFO 4436 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T00:43:19.175+08:00  INFO 4436 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T00:43:19.176+08:00  INFO 4436 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T00:43:19.197+08:00  INFO 4436 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2024-10-07T00:43:19.361+08:00  INFO 4436 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T00:43:19.362+08:00  INFO 4436 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T00:43:19.364+08:00  INFO 4436 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T00:43:19.364+08:00  INFO 4436 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T00:43:19.365+08:00  INFO 4436 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T00:43:19.365+08:00  INFO 4436 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T00:43:19.365+08:00  INFO 4436 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T00:43:19.365+08:00  INFO 4436 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T00:43:19.365+08:00  INFO 4436 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T00:43:19.382+08:00  INFO 4436 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T00:43:19.390+08:00  INFO 4436 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T00:43:19.391+08:00  INFO 4436 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T00:43:19.700+08:00  INFO 4436 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T00:43:19.707+08:00  INFO 4436 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T00:43:19.707+08:00  INFO 4436 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T00:43:19.747+08:00  INFO 4436 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T00:43:19.747+08:00  INFO 4436 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1098 ms
2024-10-07T00:43:20.002+08:00  INFO 4436 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T00:43:20.013+08:00  INFO 4436 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T00:43:20.013+08:00  INFO 4436 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T00:43:20.013+08:00  INFO 4436 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T00:43:20.014+08:00  INFO 4436 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T00:43:20.014+08:00  INFO 4436 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T00:43:20.015+08:00  INFO 4436 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T00:43:20.015+08:00  INFO 4436 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T00:43:20.691+08:00  INFO 4436 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4d66cb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c79f2cf, org.springframework.security.web.context.SecurityContextHolderFilter@2ef1fc8a, org.springframework.security.web.header.HeaderWriterFilter@2634d000, org.springframework.security.web.authentication.logout.LogoutFilter@51e1e058, com.supply.filter.JwtAuthenticationTokenFilter@93ce24d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@76b019c4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@221961af, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63551c66, org.springframework.security.web.session.SessionManagementFilter@7d5d77a6, org.springframework.security.web.access.ExceptionTranslationFilter@3892802b, org.springframework.security.web.access.intercept.AuthorizationFilter@2eea4441]
2024-10-07T00:43:21.053+08:00  INFO 4436 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T00:43:21.055+08:00  INFO 4436 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T00:43:21.055+08:00  INFO 4436 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T00:43:21.055+08:00  INFO 4436 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T00:43:21.055+08:00  INFO 4436 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T00:43:21.055+08:00  INFO 4436 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T00:43:21.055+08:00  INFO 4436 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T00:43:21.055+08:00  INFO 4436 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T00:43:21.055+08:00  INFO 4436 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T00:43:21.055+08:00  INFO 4436 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T00:43:21.056+08:00  INFO 4436 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T00:43:21.083+08:00  INFO 4436 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#2d8087da:0/SimpleConnection@8a7cd7c [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=56943]
2024-10-07T00:43:21.134+08:00  INFO 4436 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.782 seconds (process running for 3.681)
2024-10-07T00:43:22.641+08:00  INFO 4436 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T00:43:22.641+08:00  INFO 4436 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T00:43:22.642+08:00  INFO 4436 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-07T00:43:23.009+08:00  INFO 4436 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 5 验证通过
2024-10-07T00:43:23.028+08:00 ERROR 4436 --- [http-nio-10102-exec-1] o.a.coyote.http11.Http11NioProtocol      : Error reading request, ignored

java.lang.IllegalArgumentException: jakarta.websocket.DeploymentException: Endpoint instance creation failed
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:134) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:938) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: jakarta.websocket.DeploymentException: Endpoint instance creation failed
	at org.apache.tomcat.websocket.WsSession.<init>(WsSession.java:264) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:124) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	... 7 common frames omitted
Caused by: java.lang.NoSuchMethodException: com.supply.websocket.ChatEndPoint.<init>()
	at java.base/java.lang.Class.getConstructor0(Class.java:3585) ~[na:na]
	at java.base/java.lang.Class.getConstructor(Class.java:2271) ~[na:na]
	at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:136) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.WsSession.<init>(WsSession.java:261) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	... 8 common frames omitted

2024-10-07T00:43:38.482+08:00  INFO 4436 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T00:43:38.483+08:00  INFO 4436 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T00:43:39.308+08:00  INFO 4436 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T00:43:39.308+08:00  INFO 4436 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T00:43:41.278+08:00  INFO 24308 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 24308 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T00:43:41.280+08:00  INFO 24308 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T00:43:41.865+08:00  INFO 24308 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T00:43:41.867+08:00  INFO 24308 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T00:43:41.885+08:00  INFO 24308 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2024-10-07T00:43:42.053+08:00  INFO 24308 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T00:43:42.054+08:00  INFO 24308 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T00:43:42.054+08:00  INFO 24308 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T00:43:42.055+08:00  INFO 24308 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T00:43:42.055+08:00  INFO 24308 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T00:43:42.055+08:00  INFO 24308 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T00:43:42.055+08:00  INFO 24308 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T00:43:42.055+08:00  INFO 24308 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T00:43:42.055+08:00  INFO 24308 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T00:43:42.069+08:00  INFO 24308 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T00:43:42.077+08:00  INFO 24308 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T00:43:42.078+08:00  INFO 24308 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T00:43:42.391+08:00  INFO 24308 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T00:43:42.398+08:00  INFO 24308 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T00:43:42.399+08:00  INFO 24308 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T00:43:42.438+08:00  INFO 24308 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T00:43:42.438+08:00  INFO 24308 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1130 ms
2024-10-07T00:43:42.713+08:00  INFO 24308 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T00:43:42.721+08:00  INFO 24308 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T00:43:42.721+08:00  INFO 24308 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T00:43:42.721+08:00  INFO 24308 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T00:43:42.721+08:00  INFO 24308 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T00:43:42.721+08:00  INFO 24308 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T00:43:42.722+08:00  INFO 24308 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T00:43:42.722+08:00  INFO 24308 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T00:43:43.392+08:00  INFO 24308 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4d66cb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c79f2cf, org.springframework.security.web.context.SecurityContextHolderFilter@2ef1fc8a, org.springframework.security.web.header.HeaderWriterFilter@2634d000, org.springframework.security.web.authentication.logout.LogoutFilter@51e1e058, com.supply.filter.JwtAuthenticationTokenFilter@93ce24d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@76b019c4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@221961af, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63551c66, org.springframework.security.web.session.SessionManagementFilter@7d5d77a6, org.springframework.security.web.access.ExceptionTranslationFilter@3892802b, org.springframework.security.web.access.intercept.AuthorizationFilter@2eea4441]
2024-10-07T00:43:43.761+08:00  INFO 24308 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T00:43:43.763+08:00  INFO 24308 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T00:43:43.763+08:00  INFO 24308 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T00:43:43.763+08:00  INFO 24308 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T00:43:43.763+08:00  INFO 24308 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T00:43:43.763+08:00  INFO 24308 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T00:43:43.763+08:00  INFO 24308 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T00:43:43.763+08:00  INFO 24308 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T00:43:43.763+08:00  INFO 24308 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T00:43:43.763+08:00  INFO 24308 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T00:43:43.764+08:00  INFO 24308 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T00:43:43.803+08:00  INFO 24308 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#2d8087da:0/SimpleConnection@8a7cd7c [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=56978]
2024-10-07T00:43:43.847+08:00  INFO 24308 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.882 seconds (process running for 3.326)
2024-10-07T00:43:45.402+08:00  INFO 24308 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T00:43:45.403+08:00  INFO 24308 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T00:43:45.404+08:00  INFO 24308 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-07T00:43:45.760+08:00  INFO 24308 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 5 验证通过
2024-10-07T00:44:03.814+08:00 ERROR 24308 --- [http-nio-10102-exec-1] o.a.coyote.http11.Http11NioProtocol      : Error reading request, ignored

java.lang.IllegalArgumentException: jakarta.websocket.DeploymentException: Endpoint instance creation failed
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:134) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:938) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: jakarta.websocket.DeploymentException: Endpoint instance creation failed
	at org.apache.tomcat.websocket.WsSession.<init>(WsSession.java:264) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:124) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	... 7 common frames omitted
Caused by: java.lang.NoSuchMethodException: com.supply.websocket.ChatEndPoint.<init>()
	at java.base/java.lang.Class.getConstructor0(Class.java:3585) ~[na:na]
	at java.base/java.lang.Class.getConstructor(Class.java:2271) ~[na:na]
	at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:136) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.WsSession.<init>(WsSession.java:261) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	... 8 common frames omitted

2024-10-07T00:44:16.795+08:00  INFO 24308 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T00:44:16.796+08:00  INFO 24308 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T00:44:16.914+08:00  INFO 24308 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T00:44:16.929+08:00  INFO 24308 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T00:45:08.600+08:00  INFO 22568 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 22568 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T00:45:08.602+08:00  INFO 22568 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T00:45:09.135+08:00  INFO 22568 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T00:45:09.137+08:00  INFO 22568 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T00:45:09.156+08:00  INFO 22568 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2024-10-07T00:45:09.308+08:00  INFO 22568 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T00:45:09.308+08:00  INFO 22568 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T00:45:09.309+08:00  INFO 22568 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T00:45:09.309+08:00  INFO 22568 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T00:45:09.310+08:00  INFO 22568 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T00:45:09.310+08:00  INFO 22568 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T00:45:09.310+08:00  INFO 22568 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T00:45:09.310+08:00  INFO 22568 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T00:45:09.310+08:00  INFO 22568 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T00:45:09.322+08:00  INFO 22568 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T00:45:09.328+08:00  INFO 22568 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T00:45:09.329+08:00  INFO 22568 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T00:45:09.602+08:00  INFO 22568 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T00:45:09.608+08:00  INFO 22568 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T00:45:09.609+08:00  INFO 22568 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T00:45:09.652+08:00  INFO 22568 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T00:45:09.653+08:00  INFO 22568 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1022 ms
2024-10-07T00:45:09.887+08:00  INFO 22568 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T00:45:09.897+08:00  INFO 22568 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T00:45:09.898+08:00  INFO 22568 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T00:45:09.898+08:00  INFO 22568 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T00:45:09.898+08:00  INFO 22568 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T00:45:09.898+08:00  INFO 22568 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T00:45:09.899+08:00  INFO 22568 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T00:45:09.899+08:00  INFO 22568 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T00:45:10.566+08:00  INFO 22568 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@19f1f330, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@143fe09c, org.springframework.security.web.context.SecurityContextHolderFilter@35b58254, org.springframework.security.web.header.HeaderWriterFilter@27d6467, org.springframework.security.web.authentication.logout.LogoutFilter@1860b107, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@446dacf9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13018f00, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41463c56, org.springframework.security.web.session.SessionManagementFilter@259c6ab8, org.springframework.security.web.access.ExceptionTranslationFilter@73c09a98, org.springframework.security.web.access.intercept.AuthorizationFilter@47994b51]
2024-10-07T00:45:10.916+08:00  INFO 22568 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T00:45:10.917+08:00  INFO 22568 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T00:45:10.918+08:00  INFO 22568 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T00:45:10.918+08:00  INFO 22568 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T00:45:10.918+08:00  INFO 22568 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T00:45:10.918+08:00  INFO 22568 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T00:45:10.918+08:00  INFO 22568 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T00:45:10.918+08:00  INFO 22568 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T00:45:10.918+08:00  INFO 22568 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T00:45:10.918+08:00  INFO 22568 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T00:45:10.919+08:00  INFO 22568 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T00:45:10.944+08:00  INFO 22568 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#c6bf8d9:0/SimpleConnection@6fe77a97 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=57085]
2024-10-07T00:45:10.990+08:00  INFO 22568 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.67 seconds (process running for 2.981)
2024-10-07T00:45:10.993+08:00  INFO 22568 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T00:45:10.993+08:00  INFO 22568 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T00:45:11.984+08:00  INFO 22568 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T00:45:12.000+08:00  INFO 22568 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T00:45:14.856+08:00  INFO 2140 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 2140 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T00:45:14.858+08:00  INFO 2140 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T00:45:15.428+08:00  INFO 2140 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T00:45:15.430+08:00  INFO 2140 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T00:45:15.447+08:00  INFO 2140 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2024-10-07T00:45:15.610+08:00  INFO 2140 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T00:45:15.611+08:00  INFO 2140 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T00:45:15.611+08:00  INFO 2140 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T00:45:15.611+08:00  INFO 2140 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T00:45:15.612+08:00  INFO 2140 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T00:45:15.612+08:00  INFO 2140 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T00:45:15.612+08:00  INFO 2140 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T00:45:15.612+08:00  INFO 2140 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T00:45:15.612+08:00  INFO 2140 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T00:45:15.626+08:00  INFO 2140 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T00:45:15.634+08:00  INFO 2140 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T00:45:15.635+08:00  INFO 2140 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T00:45:15.957+08:00  INFO 2140 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T00:45:15.964+08:00  INFO 2140 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T00:45:15.964+08:00  INFO 2140 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T00:45:16.005+08:00  INFO 2140 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T00:45:16.005+08:00  INFO 2140 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1117 ms
2024-10-07T00:45:16.271+08:00  INFO 2140 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T00:45:16.277+08:00  INFO 2140 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T00:45:16.278+08:00  INFO 2140 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T00:45:16.279+08:00  INFO 2140 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T00:45:16.279+08:00  INFO 2140 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T00:45:16.279+08:00  INFO 2140 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T00:45:16.280+08:00  INFO 2140 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T00:45:16.280+08:00  INFO 2140 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T00:45:16.943+08:00  INFO 2140 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4d66cb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c79f2cf, org.springframework.security.web.context.SecurityContextHolderFilter@2ef1fc8a, org.springframework.security.web.header.HeaderWriterFilter@2634d000, org.springframework.security.web.authentication.logout.LogoutFilter@51e1e058, com.supply.filter.JwtAuthenticationTokenFilter@93ce24d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@76b019c4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@221961af, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63551c66, org.springframework.security.web.session.SessionManagementFilter@7d5d77a6, org.springframework.security.web.access.ExceptionTranslationFilter@3892802b, org.springframework.security.web.access.intercept.AuthorizationFilter@2eea4441]
2024-10-07T00:45:17.312+08:00  INFO 2140 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T00:45:17.313+08:00  INFO 2140 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T00:45:17.314+08:00  INFO 2140 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T00:45:17.314+08:00  INFO 2140 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T00:45:17.314+08:00  INFO 2140 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T00:45:17.314+08:00  INFO 2140 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T00:45:17.314+08:00  INFO 2140 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T00:45:17.314+08:00  INFO 2140 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T00:45:17.314+08:00  INFO 2140 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T00:45:17.314+08:00  INFO 2140 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T00:45:17.315+08:00  INFO 2140 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T00:45:17.352+08:00  INFO 2140 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#2d8087da:0/SimpleConnection@8a7cd7c [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=57092]
2024-10-07T00:45:17.397+08:00  INFO 2140 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.829 seconds (process running for 3.257)
2024-10-07T00:45:19.208+08:00  INFO 2140 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T00:45:19.209+08:00  INFO 2140 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T00:45:19.209+08:00  INFO 2140 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2024-10-07T00:45:19.569+08:00  INFO 2140 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 5 验证通过
2024-10-07T00:45:22.495+08:00 ERROR 2140 --- [http-nio-10102-exec-1] o.a.coyote.http11.Http11NioProtocol      : Error reading request, ignored

java.lang.IllegalArgumentException: jakarta.websocket.DeploymentException: Endpoint instance creation failed
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:134) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:938) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: jakarta.websocket.DeploymentException: Endpoint instance creation failed
	at org.apache.tomcat.websocket.WsSession.<init>(WsSession.java:264) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:124) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	... 7 common frames omitted
Caused by: java.lang.NoSuchMethodException: com.supply.websocket.ChatEndPoint.<init>()
	at java.base/java.lang.Class.getConstructor0(Class.java:3585) ~[na:na]
	at java.base/java.lang.Class.getConstructor(Class.java:2271) ~[na:na]
	at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:136) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.WsSession.<init>(WsSession.java:261) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	... 8 common frames omitted

2024-10-07T00:45:34.114+08:00  INFO 2140 --- [http-nio-10102-exec-2] c.s.filter.JwtAuthenticationTokenFilter  : 用户 5 验证通过
2024-10-07T00:45:34.115+08:00 ERROR 2140 --- [http-nio-10102-exec-2] o.a.coyote.http11.Http11NioProtocol      : Error reading request, ignored

java.lang.IllegalArgumentException: jakarta.websocket.DeploymentException: Endpoint instance creation failed
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:134) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:938) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: jakarta.websocket.DeploymentException: Endpoint instance creation failed
	at org.apache.tomcat.websocket.WsSession.<init>(WsSession.java:264) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.init(WsHttpUpgradeHandler.java:124) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	... 7 common frames omitted
Caused by: java.lang.NoSuchMethodException: com.supply.websocket.ChatEndPoint.<init>()
	at java.base/java.lang.Class.getConstructor0(Class.java:3585) ~[na:na]
	at java.base/java.lang.Class.getConstructor(Class.java:2271) ~[na:na]
	at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:136) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.WsSession.<init>(WsSession.java:261) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	... 8 common frames omitted

2024-10-07T00:45:37.111+08:00  INFO 2140 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T00:45:37.112+08:00  INFO 2140 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T00:45:37.619+08:00  INFO 2140 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T00:45:37.634+08:00  INFO 2140 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T00:47:16.225+08:00  INFO 3492 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 3492 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T00:47:16.227+08:00  INFO 3492 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T00:47:16.766+08:00  INFO 3492 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T00:47:16.766+08:00  INFO 3492 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T00:47:16.784+08:00  INFO 3492 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2024-10-07T00:47:16.942+08:00  INFO 3492 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T00:47:16.942+08:00  INFO 3492 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T00:47:16.943+08:00  INFO 3492 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T00:47:16.943+08:00  INFO 3492 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T00:47:16.944+08:00  INFO 3492 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T00:47:16.944+08:00  INFO 3492 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T00:47:16.944+08:00  INFO 3492 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T00:47:16.944+08:00  INFO 3492 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T00:47:16.944+08:00  INFO 3492 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T00:47:16.958+08:00  INFO 3492 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T00:47:16.965+08:00  INFO 3492 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T00:47:16.966+08:00  INFO 3492 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T00:47:17.246+08:00  INFO 3492 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T00:47:17.253+08:00  INFO 3492 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T00:47:17.254+08:00  INFO 3492 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T00:47:17.298+08:00  INFO 3492 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T00:47:17.298+08:00  INFO 3492 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1039 ms
2024-10-07T00:47:17.534+08:00  INFO 3492 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T00:47:17.541+08:00  INFO 3492 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T00:47:17.542+08:00  INFO 3492 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T00:47:17.542+08:00  INFO 3492 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T00:47:17.542+08:00  INFO 3492 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T00:47:17.542+08:00  INFO 3492 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T00:47:17.543+08:00  INFO 3492 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T00:47:17.543+08:00  INFO 3492 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T00:47:18.169+08:00  INFO 3492 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@19f1f330, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@143fe09c, org.springframework.security.web.context.SecurityContextHolderFilter@35b58254, org.springframework.security.web.header.HeaderWriterFilter@27d6467, org.springframework.security.web.authentication.logout.LogoutFilter@1860b107, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@446dacf9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13018f00, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41463c56, org.springframework.security.web.session.SessionManagementFilter@259c6ab8, org.springframework.security.web.access.ExceptionTranslationFilter@73c09a98, org.springframework.security.web.access.intercept.AuthorizationFilter@47994b51]
2024-10-07T00:47:18.508+08:00  INFO 3492 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T00:47:18.510+08:00  INFO 3492 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T00:47:18.510+08:00  INFO 3492 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T00:47:18.510+08:00  INFO 3492 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T00:47:18.510+08:00  INFO 3492 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T00:47:18.511+08:00  INFO 3492 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T00:47:18.511+08:00  INFO 3492 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T00:47:18.511+08:00  INFO 3492 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T00:47:18.511+08:00  INFO 3492 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T00:47:18.511+08:00  INFO 3492 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T00:47:18.512+08:00  INFO 3492 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T00:47:18.596+08:00  INFO 3492 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#c6bf8d9:0/SimpleConnection@6fe77a97 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=57257]
2024-10-07T00:47:18.640+08:00  INFO 3492 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.685 seconds (process running for 3.01)
2024-10-07T00:47:20.752+08:00  INFO 3492 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T00:47:20.753+08:00  INFO 3492 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T00:47:21.645+08:00  INFO 3492 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T00:47:21.660+08:00  INFO 3492 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T11:11:14.573+08:00  INFO 15784 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 15784 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T11:11:14.575+08:00  INFO 15784 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T11:11:15.450+08:00  INFO 15784 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T11:11:15.452+08:00  INFO 15784 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T11:11:15.480+08:00  INFO 15784 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2024-10-07T11:11:15.707+08:00  INFO 15784 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T11:11:15.708+08:00  INFO 15784 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T11:11:15.710+08:00  INFO 15784 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T11:11:15.710+08:00  INFO 15784 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T11:11:15.711+08:00  INFO 15784 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T11:11:15.711+08:00  INFO 15784 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T11:11:15.711+08:00  INFO 15784 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T11:11:15.711+08:00  INFO 15784 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T11:11:15.711+08:00  INFO 15784 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T11:11:15.731+08:00  INFO 15784 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T11:11:15.739+08:00  INFO 15784 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T11:11:15.741+08:00  INFO 15784 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T11:11:16.252+08:00  INFO 15784 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T11:11:16.271+08:00  INFO 15784 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T11:11:16.272+08:00  INFO 15784 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T11:11:16.328+08:00  INFO 15784 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T11:11:16.329+08:00  INFO 15784 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1722 ms
2024-10-07T11:11:16.755+08:00  INFO 15784 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T11:11:16.763+08:00  INFO 15784 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T11:11:16.764+08:00  INFO 15784 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T11:11:16.764+08:00  INFO 15784 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T11:11:16.765+08:00  INFO 15784 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T11:11:16.765+08:00  INFO 15784 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T11:11:16.767+08:00  INFO 15784 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T11:11:16.768+08:00  INFO 15784 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T11:11:17.755+08:00  INFO 15784 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6b32b678, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b6683c4, org.springframework.security.web.context.SecurityContextHolderFilter@2e1e7bc6, org.springframework.security.web.header.HeaderWriterFilter@238280df, org.springframework.security.web.authentication.logout.LogoutFilter@5b324447, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@185bf6e0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a562255, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@69abeb14, org.springframework.security.web.session.SessionManagementFilter@446dacf9, org.springframework.security.web.access.ExceptionTranslationFilter@1c3b221f, org.springframework.security.web.access.intercept.AuthorizationFilter@41463c56]
2024-10-07T11:11:18.158+08:00  INFO 15784 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T11:11:18.159+08:00  INFO 15784 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T11:11:18.160+08:00  INFO 15784 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T11:11:18.160+08:00  INFO 15784 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T11:11:18.160+08:00  INFO 15784 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T11:11:18.160+08:00  INFO 15784 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T11:11:18.160+08:00  INFO 15784 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T11:11:18.160+08:00  INFO 15784 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T11:11:18.160+08:00  INFO 15784 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T11:11:18.160+08:00  INFO 15784 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T11:11:18.161+08:00  INFO 15784 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T11:11:18.207+08:00  INFO 15784 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#c6bf8d9:0/SimpleConnection@11fb1691 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=57317]
2024-10-07T11:11:18.258+08:00  INFO 15784 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 4.054 seconds (process running for 4.817)
2024-10-07T11:11:22.733+08:00  INFO 15784 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T11:11:22.734+08:00  INFO 15784 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T11:11:22.735+08:00  INFO 15784 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2024-10-07T11:11:23.137+08:00  INFO 15784 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 5 验证通过
2024-10-07T11:11:23.158+08:00  INFO 15784 --- [http-nio-10102-exec-1] com.supply.websocket.ChatEndPoint        : 用户 5 已连接
2024-10-07T11:11:27.024+08:00  INFO 15784 --- [http-nio-10102-exec-4] c.s.filter.JwtAuthenticationTokenFilter  : 用户 5 验证通过
2024-10-07T11:11:27.025+08:00  INFO 15784 --- [http-nio-10102-exec-4] com.supply.websocket.ChatEndPoint        : 用户 5 已连接
2024-10-07T11:11:39.525+08:00  WARN 15784 --- [http-nio-10102-exec-3] com.supply.websocket.ChatEndPoint        : 用户ID为 null 或用户不在线，未能成功移除连接
2024-10-07T11:14:09.181+08:00  INFO 15784 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T11:14:09.182+08:00  INFO 15784 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T11:14:09.698+08:00  INFO 15784 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T11:14:09.698+08:00  INFO 15784 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T11:14:09.832+08:00  WARN 15784 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户ID为 null 或用户不在线，未能成功移除连接
2024-10-07T11:14:12.330+08:00  INFO 15484 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 15484 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T11:14:12.331+08:00  INFO 15484 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T11:14:12.921+08:00  INFO 15484 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T11:14:12.923+08:00  INFO 15484 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T11:14:12.941+08:00  INFO 15484 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2024-10-07T11:14:13.107+08:00  INFO 15484 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T11:14:13.108+08:00  INFO 15484 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T11:14:13.109+08:00  INFO 15484 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T11:14:13.109+08:00  INFO 15484 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T11:14:13.110+08:00  INFO 15484 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T11:14:13.110+08:00  INFO 15484 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T11:14:13.110+08:00  INFO 15484 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T11:14:13.110+08:00  INFO 15484 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T11:14:13.110+08:00  INFO 15484 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T11:14:13.125+08:00  INFO 15484 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T11:14:13.132+08:00  INFO 15484 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T11:14:13.133+08:00  INFO 15484 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T11:14:13.460+08:00  INFO 15484 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T11:14:13.469+08:00  INFO 15484 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T11:14:13.470+08:00  INFO 15484 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T11:14:13.516+08:00  INFO 15484 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T11:14:13.516+08:00  INFO 15484 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1155 ms
2024-10-07T11:14:13.804+08:00  INFO 15484 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T11:14:13.811+08:00  INFO 15484 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T11:14:13.811+08:00  INFO 15484 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T11:14:13.812+08:00  INFO 15484 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T11:14:13.812+08:00  INFO 15484 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T11:14:13.812+08:00  INFO 15484 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T11:14:13.813+08:00  INFO 15484 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T11:14:13.813+08:00  INFO 15484 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T11:14:14.511+08:00  INFO 15484 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7fad28ac, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3450bd13, org.springframework.security.web.context.SecurityContextHolderFilter@1ddc8fc, org.springframework.security.web.header.HeaderWriterFilter@5274830e, org.springframework.security.web.authentication.logout.LogoutFilter@1c14d24d, com.supply.filter.JwtAuthenticationTokenFilter@93ce24d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e288c76, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@738ed8f5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bb51492, org.springframework.security.web.session.SessionManagementFilter@76b019c4, org.springframework.security.web.access.ExceptionTranslationFilter@50b4e7b2, org.springframework.security.web.access.intercept.AuthorizationFilter@63551c66]
2024-10-07T11:14:14.878+08:00  INFO 15484 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T11:14:14.879+08:00  INFO 15484 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T11:14:14.879+08:00  INFO 15484 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T11:14:14.879+08:00  INFO 15484 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T11:14:14.879+08:00  INFO 15484 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T11:14:14.879+08:00  INFO 15484 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T11:14:14.879+08:00  INFO 15484 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T11:14:14.879+08:00  INFO 15484 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T11:14:14.879+08:00  INFO 15484 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T11:14:14.880+08:00  INFO 15484 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T11:14:14.880+08:00  INFO 15484 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T11:14:14.913+08:00  INFO 15484 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#2d8087da:0/SimpleConnection@52667676 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=57502]
2024-10-07T11:14:14.961+08:00  INFO 15484 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.912 seconds (process running for 3.735)
2024-10-07T11:14:16.697+08:00  INFO 15484 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T11:14:16.697+08:00  INFO 15484 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T11:14:16.698+08:00  INFO 15484 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-07T11:14:17.071+08:00  INFO 15484 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 5 验证通过
2024-10-07T11:14:17.094+08:00  INFO 15484 --- [http-nio-10102-exec-1] com.supply.websocket.ChatEndPoint        : 用户 5 已连接
2024-10-07T11:14:26.244+08:00  WARN 15484 --- [http-nio-10102-exec-2] com.supply.websocket.ChatEndPoint        : 用户ID为 null 或用户不在线，未能成功移除连接
2024-10-07T11:14:26.275+08:00  INFO 15484 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T11:14:26.276+08:00  INFO 15484 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T11:14:27.247+08:00  INFO 15484 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T11:14:27.247+08:00  INFO 15484 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T11:17:41.007+08:00  INFO 18312 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 18312 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T11:17:41.008+08:00  INFO 18312 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T11:17:41.549+08:00  INFO 18312 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T11:17:41.550+08:00  INFO 18312 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T11:17:41.574+08:00  INFO 18312 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2024-10-07T11:17:41.767+08:00  INFO 18312 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T11:17:41.768+08:00  INFO 18312 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T11:17:41.769+08:00  INFO 18312 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T11:17:41.769+08:00  INFO 18312 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T11:17:41.770+08:00  INFO 18312 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T11:17:41.770+08:00  INFO 18312 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T11:17:41.770+08:00  INFO 18312 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T11:17:41.770+08:00  INFO 18312 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T11:17:41.770+08:00  INFO 18312 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T11:17:41.787+08:00  INFO 18312 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T11:17:41.795+08:00  INFO 18312 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T11:17:41.796+08:00  INFO 18312 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T11:17:42.070+08:00  INFO 18312 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T11:17:42.078+08:00  INFO 18312 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T11:17:42.078+08:00  INFO 18312 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T11:17:42.122+08:00  INFO 18312 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T11:17:42.122+08:00  INFO 18312 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1087 ms
2024-10-07T11:17:42.369+08:00  INFO 18312 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T11:17:42.376+08:00  INFO 18312 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T11:17:42.376+08:00  INFO 18312 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T11:17:42.376+08:00  INFO 18312 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T11:17:42.376+08:00  INFO 18312 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T11:17:42.376+08:00  INFO 18312 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T11:17:42.377+08:00  INFO 18312 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T11:17:42.377+08:00  INFO 18312 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T11:17:43.000+08:00  INFO 18312 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6b32b678, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b6683c4, org.springframework.security.web.context.SecurityContextHolderFilter@2e1e7bc6, org.springframework.security.web.header.HeaderWriterFilter@238280df, org.springframework.security.web.authentication.logout.LogoutFilter@5b324447, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@185bf6e0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a562255, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@69abeb14, org.springframework.security.web.session.SessionManagementFilter@446dacf9, org.springframework.security.web.access.ExceptionTranslationFilter@1c3b221f, org.springframework.security.web.access.intercept.AuthorizationFilter@41463c56]
2024-10-07T11:17:43.345+08:00  INFO 18312 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T11:17:43.347+08:00  INFO 18312 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T11:17:43.347+08:00  INFO 18312 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T11:17:43.347+08:00  INFO 18312 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T11:17:43.347+08:00  INFO 18312 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T11:17:43.347+08:00  INFO 18312 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T11:17:43.347+08:00  INFO 18312 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T11:17:43.347+08:00  INFO 18312 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T11:17:43.347+08:00  INFO 18312 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T11:17:43.347+08:00  INFO 18312 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T11:17:43.348+08:00  INFO 18312 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T11:17:43.375+08:00  INFO 18312 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#c6bf8d9:0/SimpleConnection@11fb1691 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=57608]
2024-10-07T11:17:43.413+08:00  INFO 18312 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.668 seconds (process running for 2.988)
2024-10-07T11:17:47.929+08:00  INFO 18312 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T11:17:47.929+08:00  INFO 18312 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T11:17:47.930+08:00  INFO 18312 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-07T11:17:48.287+08:00  INFO 18312 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 5 验证通过
2024-10-07T11:17:48.313+08:00  INFO 18312 --- [http-nio-10102-exec-1] com.supply.websocket.ChatEndPoint        : 用户 5 已连接
2024-10-07T11:17:50.263+08:00  INFO 18312 --- [http-nio-10102-exec-9] com.supply.websocket.ChatEndPoint        : 用户 5 已下线
2024-10-07T11:17:50.302+08:00  INFO 18312 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.supply.consumer.MessageConsumer      : 接收到finish.queue的消息：5,2024-10-07 11:17:50
2024-10-07T11:17:50.305+08:00  INFO 18312 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-10-07T11:17:50.421+08:00  INFO 18312 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5200b22a
2024-10-07T11:17:50.422+08:00  INFO 18312 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-10-07T11:17:50.437+08:00 DEBUG 18312 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.ChatMapper.getAllQueueByUserId     : ==>  Preparing: select * from chat_queue where user_id1 = ? or user_id2 = ?
2024-10-07T11:17:50.451+08:00 DEBUG 18312 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.ChatMapper.getAllQueueByUserId     : ==> Parameters: 5(Long), 5(Long)
2024-10-07T11:17:50.472+08:00 DEBUG 18312 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.ChatMapper.getAllQueueByUserId     : <==      Total: 0
2024-10-07T11:20:49.714+08:00  INFO 18312 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T11:20:49.714+08:00  INFO 18312 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T11:20:49.996+08:00  INFO 18312 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T11:20:50.012+08:00  INFO 18312 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T11:20:50.146+08:00  INFO 18312 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-10-07T11:20:50.147+08:00  INFO 18312 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-10-07T11:20:53.140+08:00  INFO 11100 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 11100 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T11:20:53.142+08:00  INFO 11100 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T11:20:53.751+08:00  INFO 11100 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T11:20:53.753+08:00  INFO 11100 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T11:20:53.774+08:00  INFO 11100 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2024-10-07T11:20:53.950+08:00  INFO 11100 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T11:20:53.950+08:00  INFO 11100 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T11:20:53.951+08:00  INFO 11100 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T11:20:53.951+08:00  INFO 11100 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T11:20:53.952+08:00  INFO 11100 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T11:20:53.952+08:00  INFO 11100 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T11:20:53.952+08:00  INFO 11100 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T11:20:53.952+08:00  INFO 11100 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T11:20:53.952+08:00  INFO 11100 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T11:20:53.966+08:00  INFO 11100 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T11:20:53.974+08:00  INFO 11100 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T11:20:53.975+08:00  INFO 11100 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T11:20:54.257+08:00  INFO 11100 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T11:20:54.266+08:00  INFO 11100 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T11:20:54.266+08:00  INFO 11100 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T11:20:54.309+08:00  INFO 11100 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T11:20:54.309+08:00  INFO 11100 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1139 ms
2024-10-07T11:20:54.563+08:00  INFO 11100 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T11:20:54.569+08:00  INFO 11100 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T11:20:54.569+08:00  INFO 11100 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T11:20:54.569+08:00  INFO 11100 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T11:20:54.570+08:00  INFO 11100 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T11:20:54.570+08:00  INFO 11100 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T11:20:54.570+08:00  INFO 11100 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T11:20:54.571+08:00  INFO 11100 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T11:20:55.203+08:00  INFO 11100 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6b32b678, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b6683c4, org.springframework.security.web.context.SecurityContextHolderFilter@2e1e7bc6, org.springframework.security.web.header.HeaderWriterFilter@238280df, org.springframework.security.web.authentication.logout.LogoutFilter@5b324447, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@185bf6e0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a562255, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@69abeb14, org.springframework.security.web.session.SessionManagementFilter@446dacf9, org.springframework.security.web.access.ExceptionTranslationFilter@1c3b221f, org.springframework.security.web.access.intercept.AuthorizationFilter@41463c56]
2024-10-07T11:20:55.551+08:00  INFO 11100 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T11:20:55.552+08:00  INFO 11100 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T11:20:55.552+08:00  INFO 11100 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T11:20:55.552+08:00  INFO 11100 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T11:20:55.553+08:00  INFO 11100 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T11:20:55.553+08:00  INFO 11100 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T11:20:55.553+08:00  INFO 11100 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T11:20:55.553+08:00  INFO 11100 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T11:20:55.553+08:00  INFO 11100 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T11:20:55.553+08:00  INFO 11100 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T11:20:55.554+08:00  INFO 11100 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T11:20:55.580+08:00  INFO 11100 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#c6bf8d9:0/SimpleConnection@11fb1691 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=57695]
2024-10-07T11:20:55.623+08:00  INFO 11100 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.744 seconds (process running for 3.06)
2024-10-07T11:20:58.575+08:00  INFO 11100 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T11:20:58.575+08:00  INFO 11100 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T11:20:58.576+08:00  INFO 11100 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-07T11:20:58.923+08:00  INFO 11100 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 5 验证通过
2024-10-07T11:20:58.943+08:00  INFO 11100 --- [http-nio-10102-exec-1] com.supply.websocket.ChatEndPoint        : 用户 5 已连接
2024-10-07T11:49:35.232+08:00  INFO 11100 --- [http-nio-10102-exec-3] com.supply.websocket.ChatEndPoint        : 用户 5 已下线
2024-10-07T11:49:35.257+08:00  INFO 11100 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.supply.consumer.MessageConsumer      : 接收到finish.queue的消息：5,2024-10-07 11:49:35
2024-10-07T11:49:35.260+08:00  INFO 11100 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-10-07T11:49:35.355+08:00  INFO 11100 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2ae579bd
2024-10-07T11:49:35.356+08:00  INFO 11100 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-10-07T11:49:35.372+08:00 DEBUG 11100 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.ChatMapper.getAllQueueByUserId     : ==>  Preparing: select * from chat_queue where user_id1 = ? or user_id2 = ?
2024-10-07T11:49:35.387+08:00 DEBUG 11100 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.ChatMapper.getAllQueueByUserId     : ==> Parameters: 5(Long), 5(Long)
2024-10-07T11:49:35.403+08:00 DEBUG 11100 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.ChatMapper.getAllQueueByUserId     : <==      Total: 1
2024-10-07T11:49:35.406+08:00 DEBUG 11100 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.C.getChatInformationByQueueId      : ==>  Preparing: select * from chat_information where queue_id = ? limit 5
2024-10-07T11:49:35.407+08:00 DEBUG 11100 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.C.getChatInformationByQueueId      : ==> Parameters: 1(Long)
2024-10-07T11:49:35.408+08:00 DEBUG 11100 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.C.getChatInformationByQueueId      : <==      Total: 0
2024-10-07T11:49:35.409+08:00 DEBUG 11100 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.mapper.ChatMapper.deleteQueueById    : ==>  Preparing: delete from chat_queue where id = ?
2024-10-07T11:49:35.409+08:00 DEBUG 11100 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.mapper.ChatMapper.deleteQueueById    : ==> Parameters: 1(Long)
2024-10-07T11:49:35.410+08:00 DEBUG 11100 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.mapper.ChatMapper.deleteQueueById    : <==    Updates: 1
2024-10-07T11:56:31.984+08:00  INFO 11100 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T11:56:31.985+08:00  INFO 11100 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T11:56:32.331+08:00  INFO 11100 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T11:56:32.917+08:00  INFO 11100 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T11:56:33.052+08:00  INFO 11100 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-10-07T11:56:33.055+08:00  INFO 11100 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-10-07T12:19:43.899+08:00  INFO 15088 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 15088 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T12:19:43.901+08:00  INFO 15088 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T12:19:44.430+08:00  INFO 15088 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T12:19:44.432+08:00  INFO 15088 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T12:19:44.450+08:00  INFO 15088 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2024-10-07T12:19:44.618+08:00  INFO 15088 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T12:19:44.618+08:00  INFO 15088 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T12:19:44.619+08:00  INFO 15088 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T12:19:44.619+08:00  INFO 15088 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T12:19:44.620+08:00  INFO 15088 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T12:19:44.620+08:00  INFO 15088 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T12:19:44.620+08:00  INFO 15088 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T12:19:44.620+08:00  INFO 15088 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T12:19:44.620+08:00  INFO 15088 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T12:19:44.635+08:00  INFO 15088 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T12:19:44.641+08:00  INFO 15088 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T12:19:44.643+08:00  INFO 15088 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T12:19:44.920+08:00  INFO 15088 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T12:19:44.926+08:00  INFO 15088 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T12:19:44.927+08:00  INFO 15088 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T12:19:44.971+08:00  INFO 15088 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T12:19:44.972+08:00  INFO 15088 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1045 ms
2024-10-07T12:19:45.205+08:00  INFO 15088 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T12:19:45.215+08:00  INFO 15088 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T12:19:45.216+08:00  INFO 15088 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T12:19:45.216+08:00  INFO 15088 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T12:19:45.216+08:00  INFO 15088 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T12:19:45.217+08:00  INFO 15088 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T12:19:45.217+08:00  INFO 15088 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T12:19:45.218+08:00  INFO 15088 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T12:19:45.872+08:00  INFO 15088 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@544e6b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b430541, org.springframework.security.web.context.SecurityContextHolderFilter@319058ce, org.springframework.security.web.header.HeaderWriterFilter@35b58254, org.springframework.security.web.authentication.logout.LogoutFilter@6b32b678, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71cc0e35, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b6c740b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65a66a75, org.springframework.security.web.session.SessionManagementFilter@44a9971f, org.springframework.security.web.access.ExceptionTranslationFilter@640a6d4b, org.springframework.security.web.access.intercept.AuthorizationFilter@72b53f27]
2024-10-07T12:19:46.166+08:00  WARN 15088 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: java.lang.IllegalStateException: Failed to register @ServerEndpoint class: class com.supply.websocket.ChatEndPoint$$SpringCGLIB$$0
2024-10-07T12:19:46.178+08:00  INFO 15088 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-10-07T12:19:46.186+08:00  INFO 15088 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-10-07T12:19:46.196+08:00 ERROR 15088 --- [main] o.s.boot.SpringApplication               : Application run failed

java.lang.IllegalStateException: Failed to register @ServerEndpoint class: class com.supply.websocket.ChatEndPoint$$SpringCGLIB$$0
	at org.springframework.web.socket.server.standard.ServerEndpointExporter.registerEndpoint(ServerEndpointExporter.java:159) ~[spring-websocket-6.1.6.jar:6.1.6]
	at org.springframework.web.socket.server.standard.ServerEndpointExporter.registerEndpoints(ServerEndpointExporter.java:134) ~[spring-websocket-6.1.6.jar:6.1.6]
	at org.springframework.web.socket.server.standard.ServerEndpointExporter.afterSingletonsInstantiated(ServerEndpointExporter.java:112) ~[spring-websocket-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:986) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.6.jar:6.1.6]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.6.jar:6.1.6]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-3.2.5.jar:3.2.5]
	at com.supply.SupplyApplication.main(SupplyApplication.java:15) ~[classes/:na]
Caused by: jakarta.websocket.DeploymentException: Cannot deploy POJO class [com.supply.websocket.ChatEndPoint$$SpringCGLIB$$0] as it is not annotated with @ServerEndpoint
	at org.apache.tomcat.websocket.server.WsServerContainer.addEndpoint(WsServerContainer.java:216) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.server.WsServerContainer.addEndpoint(WsServerContainer.java:200) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.springframework.web.socket.server.standard.ServerEndpointExporter.registerEndpoint(ServerEndpointExporter.java:156) ~[spring-websocket-6.1.6.jar:6.1.6]
	... 12 common frames omitted

2024-10-07T12:21:18.089+08:00  INFO 22348 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 22348 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T12:21:18.090+08:00  INFO 22348 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T12:21:18.618+08:00  INFO 22348 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T12:21:18.619+08:00  INFO 22348 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T12:21:18.638+08:00  INFO 22348 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2024-10-07T12:21:18.793+08:00  INFO 22348 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T12:21:18.793+08:00  INFO 22348 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T12:21:18.794+08:00  INFO 22348 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T12:21:18.794+08:00  INFO 22348 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T12:21:18.794+08:00  INFO 22348 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T12:21:18.795+08:00  INFO 22348 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T12:21:18.795+08:00  INFO 22348 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T12:21:18.795+08:00  INFO 22348 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T12:21:18.795+08:00  INFO 22348 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T12:21:18.808+08:00  INFO 22348 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T12:21:18.814+08:00  INFO 22348 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T12:21:18.815+08:00  INFO 22348 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T12:21:19.086+08:00  INFO 22348 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T12:21:19.094+08:00  INFO 22348 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T12:21:19.094+08:00  INFO 22348 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T12:21:19.138+08:00  INFO 22348 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T12:21:19.138+08:00  INFO 22348 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1021 ms
2024-10-07T12:21:19.377+08:00  INFO 22348 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T12:21:19.384+08:00  INFO 22348 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T12:21:19.384+08:00  INFO 22348 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T12:21:19.384+08:00  INFO 22348 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T12:21:19.385+08:00  INFO 22348 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T12:21:19.385+08:00  INFO 22348 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T12:21:19.385+08:00  INFO 22348 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T12:21:19.386+08:00  INFO 22348 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T12:21:20.027+08:00  INFO 22348 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@72b53f27, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1be4a7e3, org.springframework.security.web.context.SecurityContextHolderFilter@44a9971f, org.springframework.security.web.header.HeaderWriterFilter@259c6ab8, org.springframework.security.web.authentication.logout.LogoutFilter@41463c56, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1cdad619, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@319058ce, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@632b96b8, org.springframework.security.web.session.SessionManagementFilter@374ba492, org.springframework.security.web.access.ExceptionTranslationFilter@182dcd2b, org.springframework.security.web.access.intercept.AuthorizationFilter@34d5eac]
2024-10-07T12:21:20.361+08:00  INFO 22348 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T12:21:20.363+08:00  INFO 22348 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T12:21:20.363+08:00  INFO 22348 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T12:21:20.363+08:00  INFO 22348 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T12:21:20.363+08:00  INFO 22348 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T12:21:20.363+08:00  INFO 22348 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T12:21:20.363+08:00  INFO 22348 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T12:21:20.363+08:00  INFO 22348 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T12:21:20.363+08:00  INFO 22348 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T12:21:20.363+08:00  INFO 22348 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T12:21:20.364+08:00  INFO 22348 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T12:21:20.393+08:00  INFO 22348 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#44392e64:0/SimpleConnection@1f847d9e [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=58619]
2024-10-07T12:21:20.441+08:00  INFO 22348 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.611 seconds (process running for 2.924)
2024-10-07T12:21:27.288+08:00  INFO 22348 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T12:21:27.290+08:00  INFO 22348 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T12:21:27.467+08:00  INFO 22348 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T12:21:27.498+08:00  INFO 22348 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T12:21:30.403+08:00  INFO 21700 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 21700 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T12:21:30.404+08:00  INFO 21700 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T12:21:30.934+08:00  INFO 21700 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T12:21:30.935+08:00  INFO 21700 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T12:21:30.955+08:00  INFO 21700 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2024-10-07T12:21:31.105+08:00  INFO 21700 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T12:21:31.105+08:00  INFO 21700 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T12:21:31.106+08:00  INFO 21700 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T12:21:31.106+08:00  INFO 21700 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T12:21:31.106+08:00  INFO 21700 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T12:21:31.106+08:00  INFO 21700 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T12:21:31.107+08:00  INFO 21700 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T12:21:31.107+08:00  INFO 21700 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T12:21:31.107+08:00  INFO 21700 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T12:21:31.120+08:00  INFO 21700 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T12:21:31.127+08:00  INFO 21700 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T12:21:31.128+08:00  INFO 21700 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T12:21:31.408+08:00  INFO 21700 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T12:21:31.416+08:00  INFO 21700 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T12:21:31.416+08:00  INFO 21700 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T12:21:31.459+08:00  INFO 21700 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T12:21:31.459+08:00  INFO 21700 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1026 ms
2024-10-07T12:21:31.692+08:00  INFO 21700 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T12:21:31.698+08:00  INFO 21700 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T12:21:31.699+08:00  INFO 21700 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T12:21:31.699+08:00  INFO 21700 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T12:21:31.699+08:00  INFO 21700 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T12:21:31.700+08:00  INFO 21700 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T12:21:31.700+08:00  INFO 21700 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T12:21:31.700+08:00  INFO 21700 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T12:21:32.345+08:00  INFO 21700 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@544e6b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b430541, org.springframework.security.web.context.SecurityContextHolderFilter@319058ce, org.springframework.security.web.header.HeaderWriterFilter@35b58254, org.springframework.security.web.authentication.logout.LogoutFilter@6b32b678, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71cc0e35, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b6c740b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65a66a75, org.springframework.security.web.session.SessionManagementFilter@44a9971f, org.springframework.security.web.access.ExceptionTranslationFilter@640a6d4b, org.springframework.security.web.access.intercept.AuthorizationFilter@72b53f27]
2024-10-07T12:21:32.635+08:00  WARN 21700 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: java.lang.IllegalStateException: Failed to register @ServerEndpoint class: class com.supply.websocket.ChatEndPoint$$SpringCGLIB$$0
2024-10-07T12:21:32.647+08:00  INFO 21700 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-10-07T12:21:32.655+08:00  INFO 21700 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-10-07T12:21:32.663+08:00 ERROR 21700 --- [main] o.s.boot.SpringApplication               : Application run failed

java.lang.IllegalStateException: Failed to register @ServerEndpoint class: class com.supply.websocket.ChatEndPoint$$SpringCGLIB$$0
	at org.springframework.web.socket.server.standard.ServerEndpointExporter.registerEndpoint(ServerEndpointExporter.java:159) ~[spring-websocket-6.1.6.jar:6.1.6]
	at org.springframework.web.socket.server.standard.ServerEndpointExporter.registerEndpoints(ServerEndpointExporter.java:134) ~[spring-websocket-6.1.6.jar:6.1.6]
	at org.springframework.web.socket.server.standard.ServerEndpointExporter.afterSingletonsInstantiated(ServerEndpointExporter.java:112) ~[spring-websocket-6.1.6.jar:6.1.6]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:986) ~[spring-beans-6.1.6.jar:6.1.6]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:962) ~[spring-context-6.1.6.jar:6.1.6]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:624) ~[spring-context-6.1.6.jar:6.1.6]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) ~[spring-boot-3.2.5.jar:3.2.5]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) ~[spring-boot-3.2.5.jar:3.2.5]
	at com.supply.SupplyApplication.main(SupplyApplication.java:15) ~[classes/:na]
Caused by: jakarta.websocket.DeploymentException: Cannot deploy POJO class [com.supply.websocket.ChatEndPoint$$SpringCGLIB$$0] as it is not annotated with @ServerEndpoint
	at org.apache.tomcat.websocket.server.WsServerContainer.addEndpoint(WsServerContainer.java:216) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.server.WsServerContainer.addEndpoint(WsServerContainer.java:200) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.springframework.web.socket.server.standard.ServerEndpointExporter.registerEndpoint(ServerEndpointExporter.java:156) ~[spring-websocket-6.1.6.jar:6.1.6]
	... 12 common frames omitted

2024-10-07T12:21:39.615+08:00  INFO 21808 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 21808 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T12:21:39.617+08:00  INFO 21808 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T12:21:40.203+08:00  INFO 21808 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T12:21:40.205+08:00  INFO 21808 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T12:21:40.228+08:00  INFO 21808 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2024-10-07T12:21:40.422+08:00  INFO 21808 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T12:21:40.423+08:00  INFO 21808 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T12:21:40.424+08:00  INFO 21808 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T12:21:40.424+08:00  INFO 21808 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T12:21:40.425+08:00  INFO 21808 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T12:21:40.425+08:00  INFO 21808 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T12:21:40.425+08:00  INFO 21808 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T12:21:40.425+08:00  INFO 21808 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T12:21:40.425+08:00  INFO 21808 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T12:21:40.442+08:00  INFO 21808 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T12:21:40.449+08:00  INFO 21808 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T12:21:40.451+08:00  INFO 21808 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T12:21:40.742+08:00  INFO 21808 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T12:21:40.751+08:00  INFO 21808 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T12:21:40.751+08:00  INFO 21808 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T12:21:40.802+08:00  INFO 21808 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T12:21:40.802+08:00  INFO 21808 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1156 ms
2024-10-07T12:21:41.048+08:00  INFO 21808 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T12:21:41.056+08:00  INFO 21808 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T12:21:41.056+08:00  INFO 21808 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T12:21:41.057+08:00  INFO 21808 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T12:21:41.057+08:00  INFO 21808 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T12:21:41.057+08:00  INFO 21808 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T12:21:41.058+08:00  INFO 21808 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T12:21:41.058+08:00  INFO 21808 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T12:21:41.733+08:00  INFO 21808 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@72b53f27, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1be4a7e3, org.springframework.security.web.context.SecurityContextHolderFilter@44a9971f, org.springframework.security.web.header.HeaderWriterFilter@259c6ab8, org.springframework.security.web.authentication.logout.LogoutFilter@41463c56, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1cdad619, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@319058ce, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@632b96b8, org.springframework.security.web.session.SessionManagementFilter@374ba492, org.springframework.security.web.access.ExceptionTranslationFilter@182dcd2b, org.springframework.security.web.access.intercept.AuthorizationFilter@34d5eac]
2024-10-07T12:21:42.120+08:00  INFO 21808 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T12:21:42.122+08:00  INFO 21808 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T12:21:42.122+08:00  INFO 21808 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T12:21:42.122+08:00  INFO 21808 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T12:21:42.122+08:00  INFO 21808 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T12:21:42.122+08:00  INFO 21808 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T12:21:42.122+08:00  INFO 21808 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T12:21:42.122+08:00  INFO 21808 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T12:21:42.122+08:00  INFO 21808 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T12:21:42.122+08:00  INFO 21808 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T12:21:42.123+08:00  INFO 21808 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T12:21:42.149+08:00  INFO 21808 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#44392e64:0/SimpleConnection@1f847d9e [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=58634]
2024-10-07T12:21:42.185+08:00  INFO 21808 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.843 seconds (process running for 3.17)
2024-10-07T12:21:59.392+08:00  INFO 21808 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T12:21:59.392+08:00  INFO 21808 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T12:21:59.393+08:00  INFO 21808 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-07T12:21:59.900+08:00  INFO 21808 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 5 验证通过
2024-10-07T12:21:59.930+08:00  INFO 21808 --- [http-nio-10102-exec-1] com.supply.websocket.ChatEndPoint        : 用户 5 已连接
2024-10-07T12:22:25.971+08:00  INFO 21808 --- [http-nio-10102-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-10-07T12:22:26.079+08:00  INFO 21808 --- [http-nio-10102-exec-5] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@53915692
2024-10-07T12:22:26.080+08:00  INFO 21808 --- [http-nio-10102-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-10-07T12:22:26.085+08:00 DEBUG 21808 --- [http-nio-10102-exec-5] com.supply.mapper.UserMapper.login       : ==>  Preparing: select * from user WHERE email = ?
2024-10-07T12:22:26.100+08:00 DEBUG 21808 --- [http-nio-10102-exec-5] com.supply.mapper.UserMapper.login       : ==> Parameters: 2720203124@qq.com(String)
2024-10-07T12:22:26.119+08:00 DEBUG 21808 --- [http-nio-10102-exec-5] com.supply.mapper.UserMapper.login       : <==      Total: 1
2024-10-07T12:22:26.122+08:00 DEBUG 21808 --- [http-nio-10102-exec-5] c.supply.mapper.UserMapper.getAuthority  : ==>  Preparing: select distinct perms from user_role ur left join role r on ur.role_id = r.id left join role_menu rm on ur.role_id = rm.role_id left join menu m on rm.menu_id = m.id where user_id = ? and m.status = 0
2024-10-07T12:22:26.123+08:00 DEBUG 21808 --- [http-nio-10102-exec-5] c.supply.mapper.UserMapper.getAuthority  : ==> Parameters: 3(Long)
2024-10-07T12:22:26.129+08:00 DEBUG 21808 --- [http-nio-10102-exec-5] c.supply.mapper.UserMapper.getAuthority  : <==      Total: 6
2024-10-07T12:22:26.522+08:00  INFO 21808 --- [http-nio-10102-exec-5] c.supply.service.impl.LoginServiceImpl   : 当前用户登录地址：福建省莆田市
2024-10-07T12:22:26.550+08:00  INFO 21808 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] com.supply.consumer.EmailConsumer        : 接收到email.direct的消息：{"emailAddress":"2720203124@qq.com","emailType":"LOGIN","location":"福建省莆田市"},2024-10-07 12:22:26
2024-10-07T12:22:32.077+08:00  INFO 21808 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] com.supply.utils.EmailUtil               : 发送邮件成功：3352580660@qq.com->2720203124@qq.com
2024-10-07T12:22:38.410+08:00  INFO 21808 --- [http-nio-10102-exec-3] c.s.filter.JwtAuthenticationTokenFilter  : 用户 3 验证通过
2024-10-07T12:22:38.412+08:00  INFO 21808 --- [http-nio-10102-exec-3] com.supply.websocket.ChatEndPoint        : 用户 3 已连接
2024-10-07T12:23:36.147+08:00 DEBUG 21808 --- [http-nio-10102-exec-7] c.s.mapper.ChatMapper.getQueueByUserId   : ==>  Preparing: select id from chat_information where (send_user_id = ? and receive_user_id = ?) or (send_user_id = ? and receive_user_id = ?)
2024-10-07T12:23:36.148+08:00 DEBUG 21808 --- [http-nio-10102-exec-7] c.s.mapper.ChatMapper.getQueueByUserId   : ==> Parameters: 3(String), 5(Long), 5(Long), 3(String)
2024-10-07T12:23:36.149+08:00 DEBUG 21808 --- [http-nio-10102-exec-7] c.s.mapper.ChatMapper.getQueueByUserId   : <==      Total: 0
2024-10-07T12:23:36.150+08:00 DEBUG 21808 --- [http-nio-10102-exec-7] c.s.m.ChatMapper.storeChatInformation    : ==>  Preparing: insert into chat_information(queue_id,information,image,send_user_id,receive_user_id,send_time) VALUES(?,?,?,?,?,?)
2024-10-07T12:23:36.150+08:00 DEBUG 21808 --- [http-nio-10102-exec-7] c.s.m.ChatMapper.storeChatInformation    : ==> Parameters: null, hello(String), null, 3(Long), 5(Long), 2024-10-07T12:23:36.149966600(LocalDateTime)
2024-10-07T12:23:36.238+08:00 ERROR 21808 --- [http-nio-10102-exec-7] o.a.t.websocket.pojo.PojoEndpointBase    : No error handling configured for [com.supply.websocket.ChatEndPoint] and the following error occurred

org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'queue_id' cannot be null
### The error may exist in com/supply/mapper/ChatMapper.java (best guess)
### The error may involve com.supply.mapper.ChatMapper.storeChatInformation-Inline
### The error occurred while setting parameters
### SQL: insert into chat_information(queue_id,information,image,send_user_id,receive_user_id,send_time) VALUES(?,?,?,?,?,?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'queue_id' cannot be null
; Column 'queue_id' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:97) ~[spring-jdbc-6.1.6.jar:6.1.6]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.1.6.jar:6.1.6]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.1.6.jar:6.1.6]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at jdk.proxy2/jdk.proxy2.$Proxy97.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.proxy2/jdk.proxy2.$Proxy99.storeChatInformation(Unknown Source) ~[na:na]
	at com.supply.websocket.ChatEndPoint.sendMessageToUser(ChatEndPoint.java:135) ~[classes/:na]
	at com.supply.websocket.ChatEndPoint.onMessage(ChatEndPoint.java:89) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:102) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'queue_id' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:118) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.proxy3/jdk.proxy3.$Proxy155.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.14.jar:3.5.14]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425) ~[mybatis-spring-3.0.3.jar:3.0.3]
	... 31 common frames omitted

2024-10-07T12:23:36.241+08:00  INFO 21808 --- [http-nio-10102-exec-7] com.supply.websocket.ChatEndPoint        : 用户 3 已下线
2024-10-07T12:23:36.243+08:00  INFO 21808 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.supply.consumer.MessageConsumer      : 接收到finish.queue的消息：3,2024-10-07 12:23:36
2024-10-07T12:23:36.248+08:00 DEBUG 21808 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.ChatMapper.getAllQueueByUserId     : ==>  Preparing: select * from chat_queue where user_id1 = ? or user_id2 = ?
2024-10-07T12:23:36.248+08:00 DEBUG 21808 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.ChatMapper.getAllQueueByUserId     : ==> Parameters: 3(Long), 3(Long)
2024-10-07T12:23:36.249+08:00 DEBUG 21808 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.ChatMapper.getAllQueueByUserId     : <==      Total: 0
2024-10-07T12:24:38.698+08:00  INFO 21808 --- [http-nio-10102-exec-4] c.s.filter.JwtAuthenticationTokenFilter  : 用户 3 验证通过
2024-10-07T12:24:38.699+08:00  INFO 21808 --- [http-nio-10102-exec-4] com.supply.websocket.ChatEndPoint        : 用户 3 已连接
2024-10-07T12:24:41.512+08:00 DEBUG 21808 --- [http-nio-10102-exec-8] c.s.mapper.ChatMapper.getQueueByUserId   : ==>  Preparing: select id from chat_information where (send_user_id = ? and receive_user_id = ?) or (send_user_id = ? and receive_user_id = ?)
2024-10-07T12:24:41.512+08:00 DEBUG 21808 --- [http-nio-10102-exec-8] c.s.mapper.ChatMapper.getQueueByUserId   : ==> Parameters: 3(String), 5(Long), 5(Long), 3(String)
2024-10-07T12:24:41.513+08:00 DEBUG 21808 --- [http-nio-10102-exec-8] c.s.mapper.ChatMapper.getQueueByUserId   : <==      Total: 0
2024-10-07T12:24:41.514+08:00 DEBUG 21808 --- [http-nio-10102-exec-8] c.s.m.ChatMapper.storeChatInformation    : ==>  Preparing: insert into chat_information(queue_id,information,image,send_user_id,receive_user_id,send_time) VALUES(?,?,?,?,?,?)
2024-10-07T12:24:41.514+08:00 DEBUG 21808 --- [http-nio-10102-exec-8] c.s.m.ChatMapper.storeChatInformation    : ==> Parameters: null, hello(String), null, 3(Long), 5(Long), 2024-10-07T12:24:41.514449(LocalDateTime)
2024-10-07T12:24:41.516+08:00 ERROR 21808 --- [http-nio-10102-exec-8] o.a.t.websocket.pojo.PojoEndpointBase    : No error handling configured for [com.supply.websocket.ChatEndPoint] and the following error occurred

org.springframework.dao.DataIntegrityViolationException: 
### Error updating database.  Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'queue_id' cannot be null
### The error may exist in com/supply/mapper/ChatMapper.java (best guess)
### The error may involve com.supply.mapper.ChatMapper.storeChatInformation-Inline
### The error occurred while setting parameters
### SQL: insert into chat_information(queue_id,information,image,send_user_id,receive_user_id,send_time) VALUES(?,?,?,?,?,?)
### Cause: java.sql.SQLIntegrityConstraintViolationException: Column 'queue_id' cannot be null
; Column 'queue_id' cannot be null
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:97) ~[spring-jdbc-6.1.6.jar:6.1.6]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107) ~[spring-jdbc-6.1.6.jar:6.1.6]
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:116) ~[spring-jdbc-6.1.6.jar:6.1.6]
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:92) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at jdk.proxy2/jdk.proxy2.$Proxy97.insert(Unknown Source) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:272) ~[mybatis-spring-3.0.3.jar:3.0.3]
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:62) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:141) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.proxy2/jdk.proxy2.$Proxy99.storeChatInformation(Unknown Source) ~[na:na]
	at com.supply.websocket.ChatEndPoint.sendMessageToUser(ChatEndPoint.java:135) ~[classes/:na]
	at com.supply.websocket.ChatEndPoint.onMessage(ChatEndPoint.java:89) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.tomcat.websocket.pojo.PojoMessageHandlerWholeBase.onMessage(PojoMessageHandlerWholeBase.java:102) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.WsFrameBase.sendMessageText(WsFrameBase.java:390) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.server.WsFrameServer.sendMessageText(WsFrameServer.java:130) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.WsFrameBase.processDataText(WsFrameBase.java:484) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.WsFrameBase.processData(WsFrameBase.java:284) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.WsFrameBase.processInputBuffer(WsFrameBase.java:130) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:85) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:184) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:164) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:152) ~[tomcat-embed-websocket-10.1.20.jar:10.1.20]
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:60) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:57) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1736) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.20.jar:10.1.20]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'queue_id' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:118) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.mysql.cj.jdbc.ClientPreparedStatement.execute(ClientPreparedStatement.java:354) ~[mysql-connector-j-8.0.33.jar:8.0.33]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.execute(ProxyPreparedStatement.java:44) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.execute(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:58) ~[mybatis-3.5.14.jar:3.5.14]
	at jdk.proxy3/jdk.proxy3.$Proxy155.execute(Unknown Source) ~[na:na]
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:48) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:75) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:50) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:117) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:76) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:197) ~[mybatis-3.5.14.jar:3.5.14]
	at org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:184) ~[mybatis-3.5.14.jar:3.5.14]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425) ~[mybatis-spring-3.0.3.jar:3.0.3]
	... 31 common frames omitted

2024-10-07T12:24:41.517+08:00  INFO 21808 --- [http-nio-10102-exec-8] com.supply.websocket.ChatEndPoint        : 用户 3 已下线
2024-10-07T12:24:41.519+08:00  INFO 21808 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.supply.consumer.MessageConsumer      : 接收到finish.queue的消息：3,2024-10-07 12:24:41
2024-10-07T12:24:41.520+08:00 DEBUG 21808 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.ChatMapper.getAllQueueByUserId     : ==>  Preparing: select * from chat_queue where user_id1 = ? or user_id2 = ?
2024-10-07T12:24:41.520+08:00 DEBUG 21808 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.ChatMapper.getAllQueueByUserId     : ==> Parameters: 3(Long), 3(Long)
2024-10-07T12:24:41.522+08:00 DEBUG 21808 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.ChatMapper.getAllQueueByUserId     : <==      Total: 1
2024-10-07T12:24:41.522+08:00 DEBUG 21808 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.C.getChatInformationByQueueId      : ==>  Preparing: select * from chat_information where queue_id = ? limit 5
2024-10-07T12:24:41.523+08:00 DEBUG 21808 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.C.getChatInformationByQueueId      : ==> Parameters: 2(Long)
2024-10-07T12:24:41.524+08:00 DEBUG 21808 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.C.getChatInformationByQueueId      : <==      Total: 0
2024-10-07T12:24:41.525+08:00 DEBUG 21808 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.mapper.ChatMapper.deleteQueueById    : ==>  Preparing: delete from chat_queue where id = ?
2024-10-07T12:24:41.525+08:00 DEBUG 21808 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.mapper.ChatMapper.deleteQueueById    : ==> Parameters: 2(Long)
2024-10-07T12:24:41.526+08:00 DEBUG 21808 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.mapper.ChatMapper.deleteQueueById    : <==    Updates: 1
2024-10-07T12:25:34.340+08:00  INFO 21808 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T12:25:34.341+08:00  INFO 21808 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T12:25:34.516+08:00  INFO 21808 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T12:25:34.931+08:00  INFO 21808 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T12:25:35.059+08:00  INFO 21808 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-10-07T12:25:35.063+08:00  INFO 21808 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-10-07T12:25:35.067+08:00  INFO 21808 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 5 已下线
2024-10-07T12:25:37.653+08:00  INFO 21840 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 21840 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T12:25:37.654+08:00  INFO 21840 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T12:25:38.224+08:00  INFO 21840 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T12:25:38.226+08:00  INFO 21840 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T12:25:38.243+08:00  INFO 21840 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2024-10-07T12:25:38.410+08:00  INFO 21840 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T12:25:38.411+08:00  INFO 21840 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T12:25:38.411+08:00  INFO 21840 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T12:25:38.411+08:00  INFO 21840 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T12:25:38.412+08:00  INFO 21840 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T12:25:38.412+08:00  INFO 21840 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T12:25:38.412+08:00  INFO 21840 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T12:25:38.412+08:00  INFO 21840 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T12:25:38.412+08:00  INFO 21840 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T12:25:38.425+08:00  INFO 21840 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T12:25:38.431+08:00  INFO 21840 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T12:25:38.433+08:00  INFO 21840 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T12:25:38.714+08:00  INFO 21840 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T12:25:38.721+08:00  INFO 21840 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T12:25:38.721+08:00  INFO 21840 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T12:25:38.766+08:00  INFO 21840 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T12:25:38.766+08:00  INFO 21840 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1085 ms
2024-10-07T12:25:39.003+08:00  INFO 21840 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T12:25:39.014+08:00  INFO 21840 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T12:25:39.014+08:00  INFO 21840 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T12:25:39.014+08:00  INFO 21840 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T12:25:39.014+08:00  INFO 21840 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T12:25:39.015+08:00  INFO 21840 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T12:25:39.016+08:00  INFO 21840 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T12:25:39.016+08:00  INFO 21840 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T12:25:39.658+08:00  INFO 21840 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@72b53f27, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1be4a7e3, org.springframework.security.web.context.SecurityContextHolderFilter@44a9971f, org.springframework.security.web.header.HeaderWriterFilter@259c6ab8, org.springframework.security.web.authentication.logout.LogoutFilter@41463c56, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1cdad619, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@319058ce, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@632b96b8, org.springframework.security.web.session.SessionManagementFilter@374ba492, org.springframework.security.web.access.ExceptionTranslationFilter@182dcd2b, org.springframework.security.web.access.intercept.AuthorizationFilter@34d5eac]
2024-10-07T12:25:40.011+08:00  INFO 21840 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T12:25:40.012+08:00  INFO 21840 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T12:25:40.012+08:00  INFO 21840 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T12:25:40.012+08:00  INFO 21840 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T12:25:40.012+08:00  INFO 21840 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T12:25:40.012+08:00  INFO 21840 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T12:25:40.012+08:00  INFO 21840 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T12:25:40.012+08:00  INFO 21840 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T12:25:40.013+08:00  INFO 21840 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T12:25:40.013+08:00  INFO 21840 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T12:25:40.014+08:00  INFO 21840 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T12:25:40.041+08:00  INFO 21840 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#44392e64:0/SimpleConnection@4e322108 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=58724]
2024-10-07T12:25:40.082+08:00  INFO 21840 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.694 seconds (process running for 3.02)
2024-10-07T12:25:48.664+08:00  INFO 21840 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T12:25:48.664+08:00  INFO 21840 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T12:25:48.665+08:00  INFO 21840 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-07T12:25:49.010+08:00  INFO 21840 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 5 验证通过
2024-10-07T12:25:49.030+08:00  INFO 21840 --- [http-nio-10102-exec-1] com.supply.websocket.ChatEndPoint        : 用户 5 已连接
2024-10-07T12:25:50.391+08:00  INFO 21840 --- [http-nio-10102-exec-2] c.s.filter.JwtAuthenticationTokenFilter  : 用户 3 验证通过
2024-10-07T12:25:50.392+08:00  INFO 21840 --- [http-nio-10102-exec-2] com.supply.websocket.ChatEndPoint        : 用户 3 已连接
2024-10-07T12:25:52.426+08:00  INFO 21840 --- [http-nio-10102-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-10-07T12:25:52.517+08:00  INFO 21840 --- [http-nio-10102-exec-5] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@623718c3
2024-10-07T12:25:52.518+08:00  INFO 21840 --- [http-nio-10102-exec-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-10-07T12:25:52.523+08:00 DEBUG 21840 --- [http-nio-10102-exec-5] c.s.mapper.ChatMapper.getQueueByUserId   : ==>  Preparing: select id from chat_queue where (user_id1 = ? and user_id2 = ?) or (user_id1 = ? and user_id2 = ?)
2024-10-07T12:25:52.538+08:00 DEBUG 21840 --- [http-nio-10102-exec-5] c.s.mapper.ChatMapper.getQueueByUserId   : ==> Parameters: 3(String), 5(Long), 5(Long), 3(String)
2024-10-07T12:25:52.553+08:00 DEBUG 21840 --- [http-nio-10102-exec-5] c.s.mapper.ChatMapper.getQueueByUserId   : <==      Total: 1
2024-10-07T12:25:52.556+08:00 DEBUG 21840 --- [http-nio-10102-exec-5] c.s.m.ChatMapper.storeChatInformation    : ==>  Preparing: insert into chat_information(queue_id,information,image,send_user_id,receive_user_id,send_time) VALUES(?,?,?,?,?,?)
2024-10-07T12:25:52.558+08:00 DEBUG 21840 --- [http-nio-10102-exec-5] c.s.m.ChatMapper.storeChatInformation    : ==> Parameters: 3(Long), hello(String), null, 3(Long), 5(Long), 2024-10-07T12:25:52.556599700(LocalDateTime)
2024-10-07T12:25:52.563+08:00 DEBUG 21840 --- [http-nio-10102-exec-5] c.s.m.ChatMapper.storeChatInformation    : <==    Updates: 1
2024-10-07T12:25:52.564+08:00  INFO 21840 --- [http-nio-10102-exec-5] com.supply.websocket.ChatEndPoint        : 成功发送消息给用户 5
2024-10-07T12:26:08.957+08:00 DEBUG 21840 --- [http-nio-10102-exec-6] c.s.mapper.ChatMapper.getQueueByUserId   : ==>  Preparing: select id from chat_queue where (user_id1 = ? and user_id2 = ?) or (user_id1 = ? and user_id2 = ?)
2024-10-07T12:26:08.958+08:00 DEBUG 21840 --- [http-nio-10102-exec-6] c.s.mapper.ChatMapper.getQueueByUserId   : ==> Parameters: 5(String), 3(Long), 3(Long), 5(String)
2024-10-07T12:26:08.959+08:00 DEBUG 21840 --- [http-nio-10102-exec-6] c.s.mapper.ChatMapper.getQueueByUserId   : <==      Total: 1
2024-10-07T12:26:08.959+08:00 DEBUG 21840 --- [http-nio-10102-exec-6] c.s.m.ChatMapper.storeChatInformation    : ==>  Preparing: insert into chat_information(queue_id,information,image,send_user_id,receive_user_id,send_time) VALUES(?,?,?,?,?,?)
2024-10-07T12:26:08.959+08:00 DEBUG 21840 --- [http-nio-10102-exec-6] c.s.m.ChatMapper.storeChatInformation    : ==> Parameters: 3(Long), hello(String), null, 5(Long), 3(Long), 2024-10-07T12:26:08.959664600(LocalDateTime)
2024-10-07T12:26:08.962+08:00 DEBUG 21840 --- [http-nio-10102-exec-6] c.s.m.ChatMapper.storeChatInformation    : <==    Updates: 1
2024-10-07T12:26:08.963+08:00  INFO 21840 --- [http-nio-10102-exec-6] com.supply.websocket.ChatEndPoint        : 成功发送消息给用户 3
2024-10-07T12:37:07.242+08:00  INFO 21840 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T12:37:07.244+08:00  INFO 21840 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T12:37:08.087+08:00  INFO 21840 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T12:37:08.210+08:00  INFO 21840 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T12:37:08.339+08:00  INFO 21840 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-10-07T12:37:08.347+08:00  INFO 21840 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-10-07T12:37:08.352+08:00  INFO 21840 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 5 已下线
2024-10-07T12:37:08.353+08:00  INFO 21840 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 3 已下线
2024-10-07T12:37:11.176+08:00  INFO 784 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 784 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T12:37:11.177+08:00  INFO 784 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T12:37:11.755+08:00  INFO 784 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T12:37:11.757+08:00  INFO 784 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T12:37:11.777+08:00  INFO 784 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2024-10-07T12:37:11.943+08:00  INFO 784 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T12:37:11.944+08:00  INFO 784 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T12:37:11.944+08:00  INFO 784 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T12:37:11.944+08:00  INFO 784 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T12:37:11.945+08:00  INFO 784 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T12:37:11.945+08:00  INFO 784 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T12:37:11.945+08:00  INFO 784 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T12:37:11.945+08:00  INFO 784 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T12:37:11.945+08:00  INFO 784 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T12:37:11.958+08:00  INFO 784 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T12:37:11.965+08:00  INFO 784 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T12:37:11.966+08:00  INFO 784 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T12:37:12.254+08:00  INFO 784 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T12:37:12.261+08:00  INFO 784 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T12:37:12.261+08:00  INFO 784 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T12:37:12.306+08:00  INFO 784 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T12:37:12.306+08:00  INFO 784 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1101 ms
2024-10-07T12:37:12.536+08:00  INFO 784 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T12:37:12.543+08:00  INFO 784 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T12:37:12.544+08:00  INFO 784 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T12:37:12.544+08:00  INFO 784 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T12:37:12.544+08:00  INFO 784 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T12:37:12.544+08:00  INFO 784 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T12:37:12.545+08:00  INFO 784 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T12:37:12.546+08:00  INFO 784 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T12:37:13.190+08:00  INFO 784 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@72b53f27, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1be4a7e3, org.springframework.security.web.context.SecurityContextHolderFilter@44a9971f, org.springframework.security.web.header.HeaderWriterFilter@259c6ab8, org.springframework.security.web.authentication.logout.LogoutFilter@41463c56, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1cdad619, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@319058ce, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@632b96b8, org.springframework.security.web.session.SessionManagementFilter@374ba492, org.springframework.security.web.access.ExceptionTranslationFilter@182dcd2b, org.springframework.security.web.access.intercept.AuthorizationFilter@34d5eac]
2024-10-07T12:37:13.534+08:00  INFO 784 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T12:37:13.535+08:00  INFO 784 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T12:37:13.536+08:00  INFO 784 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T12:37:13.536+08:00  INFO 784 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T12:37:13.536+08:00  INFO 784 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T12:37:13.536+08:00  INFO 784 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T12:37:13.536+08:00  INFO 784 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T12:37:13.536+08:00  INFO 784 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T12:37:13.536+08:00  INFO 784 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T12:37:13.536+08:00  INFO 784 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T12:37:13.537+08:00  INFO 784 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T12:37:13.566+08:00  INFO 784 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#44392e64:0/SimpleConnection@1f847d9e [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=58895]
2024-10-07T12:37:13.626+08:00  INFO 784 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.727 seconds (process running for 3.044)
2024-10-07T12:37:24.867+08:00  INFO 784 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T12:37:24.867+08:00  INFO 784 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T12:37:24.868+08:00  INFO 784 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-07T12:37:25.217+08:00  INFO 784 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 5 验证通过
2024-10-07T12:37:25.238+08:00  INFO 784 --- [http-nio-10102-exec-1] com.supply.websocket.ChatEndPoint        : 用户 5 已连接
2024-10-07T12:37:26.664+08:00  INFO 784 --- [http-nio-10102-exec-5] c.s.filter.JwtAuthenticationTokenFilter  : 用户 3 验证通过
2024-10-07T12:37:26.665+08:00  INFO 784 --- [http-nio-10102-exec-5] com.supply.websocket.ChatEndPoint        : 用户 3 已连接
2024-10-07T12:37:28.370+08:00  INFO 784 --- [http-nio-10102-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-10-07T12:37:28.461+08:00  INFO 784 --- [http-nio-10102-exec-3] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@25a8dd68
2024-10-07T12:37:28.463+08:00  INFO 784 --- [http-nio-10102-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-10-07T12:37:28.470+08:00 DEBUG 784 --- [http-nio-10102-exec-3] c.s.mapper.ChatMapper.getQueueByUserId   : ==>  Preparing: select id from chat_queue where (user_id1 = ? and user_id2 = ?) or (user_id1 = ? and user_id2 = ?)
2024-10-07T12:37:28.492+08:00 DEBUG 784 --- [http-nio-10102-exec-3] c.s.mapper.ChatMapper.getQueueByUserId   : ==> Parameters: 3(String), 5(Long), 5(Long), 3(String)
2024-10-07T12:37:28.512+08:00 DEBUG 784 --- [http-nio-10102-exec-3] c.s.mapper.ChatMapper.getQueueByUserId   : <==      Total: 1
2024-10-07T12:37:28.532+08:00  INFO 784 --- [http-nio-10102-exec-3] com.supply.websocket.ChatEndPoint        : 成功发送消息给用户 5
2024-10-07T12:37:28.549+08:00  INFO 784 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.supply.consumer.MessageConsumer      : 接收到store.queue的消息：{"information":"hello","queueId":3,"receiveUserId":5,"sendTime":"2024-10-07T12:37:28.517224600","sendUserId":3}, 2024-10-07 12:37:28
2024-10-07T12:37:28.551+08:00 DEBUG 784 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.ChatMapper.storeChatInformation    : ==>  Preparing: insert into chat_information(queue_id,information,image,send_user_id,receive_user_id,send_time) VALUES(?,?,?,?,?,?)
2024-10-07T12:37:28.552+08:00 DEBUG 784 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.ChatMapper.storeChatInformation    : ==> Parameters: 3(Long), hello(String), null, 3(Long), 5(Long), 2024-10-07T12:37:28.517224600(LocalDateTime)
2024-10-07T12:37:28.557+08:00 DEBUG 784 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.ChatMapper.storeChatInformation    : <==    Updates: 1
2024-10-07T12:37:28.558+08:00  INFO 784 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.supply.consumer.MessageConsumer      : 成功存储聊天信息：ChatInformation(id=null, queueId=3, sendUserId=3, receiveUserId=5, information=hello, image=null, sendTime=2024-10-07T12:37:28.517224600)
2024-10-07T12:37:31.436+08:00 DEBUG 784 --- [http-nio-10102-exec-4] c.s.mapper.ChatMapper.getQueueByUserId   : ==>  Preparing: select id from chat_queue where (user_id1 = ? and user_id2 = ?) or (user_id1 = ? and user_id2 = ?)
2024-10-07T12:37:31.436+08:00 DEBUG 784 --- [http-nio-10102-exec-4] c.s.mapper.ChatMapper.getQueueByUserId   : ==> Parameters: 5(String), 3(Long), 3(Long), 5(String)
2024-10-07T12:37:31.438+08:00 DEBUG 784 --- [http-nio-10102-exec-4] c.s.mapper.ChatMapper.getQueueByUserId   : <==      Total: 1
2024-10-07T12:37:31.438+08:00  INFO 784 --- [http-nio-10102-exec-4] com.supply.websocket.ChatEndPoint        : 成功发送消息给用户 3
2024-10-07T12:37:31.441+08:00  INFO 784 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.supply.consumer.MessageConsumer      : 接收到store.queue的消息：{"information":"hello","queueId":3,"receiveUserId":3,"sendTime":"2024-10-07T12:37:31.438112400","sendUserId":5}, 2024-10-07 12:37:31
2024-10-07T12:37:31.441+08:00 DEBUG 784 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.ChatMapper.storeChatInformation    : ==>  Preparing: insert into chat_information(queue_id,information,image,send_user_id,receive_user_id,send_time) VALUES(?,?,?,?,?,?)
2024-10-07T12:37:31.442+08:00 DEBUG 784 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.ChatMapper.storeChatInformation    : ==> Parameters: 3(Long), hello(String), null, 5(Long), 3(Long), 2024-10-07T12:37:31.438112400(LocalDateTime)
2024-10-07T12:37:31.445+08:00 DEBUG 784 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.ChatMapper.storeChatInformation    : <==    Updates: 1
2024-10-07T12:37:31.446+08:00  INFO 784 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.supply.consumer.MessageConsumer      : 成功存储聊天信息：ChatInformation(id=null, queueId=3, sendUserId=5, receiveUserId=3, information=hello, image=null, sendTime=2024-10-07T12:37:31.438112400)
2024-10-07T13:04:49.590+08:00  INFO 784 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:04:49.591+08:00  INFO 784 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:04:49.592+08:00  INFO 784 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:04:49.684+08:00  INFO 784 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:04:49.900+08:00  INFO 784 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:04:50.455+08:00  INFO 784 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:04:50.599+08:00  INFO 784 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-10-07T13:04:50.603+08:00  INFO 784 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-10-07T13:04:50.608+08:00  INFO 784 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 5 已下线
2024-10-07T13:04:50.609+08:00  INFO 784 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 3 已下线
2024-10-07T13:04:56.573+08:00  INFO 7772 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 7772 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T13:04:56.574+08:00  INFO 7772 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T13:04:57.179+08:00  INFO 7772 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T13:04:57.181+08:00  INFO 7772 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T13:04:57.203+08:00  INFO 7772 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2024-10-07T13:04:57.376+08:00  INFO 7772 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T13:04:57.376+08:00  INFO 7772 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:04:57.377+08:00  INFO 7772 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:04:57.377+08:00  INFO 7772 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:04:57.378+08:00  INFO 7772 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:04:57.378+08:00  INFO 7772 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T13:04:57.378+08:00  INFO 7772 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T13:04:57.378+08:00  INFO 7772 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:04:57.378+08:00  INFO 7772 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:04:57.394+08:00  INFO 7772 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T13:04:57.401+08:00  INFO 7772 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T13:04:57.402+08:00  INFO 7772 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T13:04:57.704+08:00  INFO 7772 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T13:04:57.714+08:00  INFO 7772 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T13:04:57.714+08:00  INFO 7772 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T13:04:57.767+08:00  INFO 7772 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T13:04:57.767+08:00  INFO 7772 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1164 ms
2024-10-07T13:04:58.037+08:00  INFO 7772 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T13:04:58.047+08:00  INFO 7772 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T13:04:58.047+08:00  INFO 7772 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T13:04:58.048+08:00  INFO 7772 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T13:04:58.048+08:00  INFO 7772 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T13:04:58.048+08:00  INFO 7772 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T13:04:58.049+08:00  INFO 7772 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T13:04:58.049+08:00  INFO 7772 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T13:04:58.814+08:00  INFO 7772 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@544e6b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b430541, org.springframework.security.web.context.SecurityContextHolderFilter@319058ce, org.springframework.security.web.header.HeaderWriterFilter@35b58254, org.springframework.security.web.authentication.logout.LogoutFilter@6b32b678, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71cc0e35, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b6c740b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65a66a75, org.springframework.security.web.session.SessionManagementFilter@44a9971f, org.springframework.security.web.access.ExceptionTranslationFilter@640a6d4b, org.springframework.security.web.access.intercept.AuthorizationFilter@72b53f27]
2024-10-07T13:04:59.186+08:00  INFO 7772 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T13:04:59.187+08:00  INFO 7772 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T13:04:59.188+08:00  INFO 7772 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T13:04:59.188+08:00  INFO 7772 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T13:04:59.188+08:00  INFO 7772 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T13:04:59.188+08:00  INFO 7772 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:04:59.188+08:00  INFO 7772 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:04:59.188+08:00  INFO 7772 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:04:59.188+08:00  INFO 7772 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:04:59.188+08:00  INFO 7772 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T13:04:59.189+08:00  INFO 7772 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T13:04:59.218+08:00  INFO 7772 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#52d9f36b:0/SimpleConnection@3d00e981 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=59309]
2024-10-07T13:04:59.281+08:00  INFO 7772 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.987 seconds (process running for 3.376)
2024-10-07T13:05:03.949+08:00  INFO 7772 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T13:05:03.949+08:00  INFO 7772 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T13:05:03.950+08:00  INFO 7772 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-07T13:05:04.366+08:00  INFO 7772 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 5 验证通过
2024-10-07T13:05:04.389+08:00  INFO 7772 --- [http-nio-10102-exec-1] com.supply.websocket.ChatEndPoint        : 用户 5 已连接
2024-10-07T13:05:04.417+08:00  INFO 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：5, 2024-10-07 13:05:04
2024-10-07T13:05:05.983+08:00  INFO 7772 --- [http-nio-10102-exec-2] c.s.filter.JwtAuthenticationTokenFilter  : 用户 3 验证通过
2024-10-07T13:05:05.984+08:00  INFO 7772 --- [http-nio-10102-exec-2] com.supply.websocket.ChatEndPoint        : 用户 3 已连接
2024-10-07T13:05:05.986+08:00  INFO 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:05:05
2024-10-07T13:05:14.459+08:00  INFO 7772 --- [http-nio-10102-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-10-07T13:05:14.573+08:00  INFO 7772 --- [http-nio-10102-exec-3] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@33255a5
2024-10-07T13:05:14.574+08:00  INFO 7772 --- [http-nio-10102-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-10-07T13:05:14.580+08:00 DEBUG 7772 --- [http-nio-10102-exec-3] c.s.mapper.ChatMapper.getQueueByUserId   : ==>  Preparing: select id from chat_queue where (user_id1 = ? and user_id2 = ?) or (user_id1 = ? and user_id2 = ?)
2024-10-07T13:05:14.596+08:00 DEBUG 7772 --- [http-nio-10102-exec-3] c.s.mapper.ChatMapper.getQueueByUserId   : ==> Parameters: 3(Long), 5(Long), 5(Long), 3(Long)
2024-10-07T13:05:14.612+08:00 DEBUG 7772 --- [http-nio-10102-exec-3] c.s.mapper.ChatMapper.getQueueByUserId   : <==      Total: 1
2024-10-07T13:05:14.620+08:00  INFO 7772 --- [http-nio-10102-exec-3] com.supply.websocket.ChatEndPoint        : 成功发送消息给用户 5
2024-10-07T13:05:14.623+08:00  INFO 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 接收到store.queue的消息：{"information":"hello","queueId":3,"receiveUserId":5,"sendTime":"2024-10-07T13:05:14.615590200","sendUserId":3}, 2024-10-07 13:05:14
2024-10-07T13:05:14.624+08:00 DEBUG 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] c.s.m.ChatMapper.storeChatInformation    : ==>  Preparing: insert into chat_information(queue_id,information,image,send_user_id,receive_user_id,send_time) VALUES(?,?,?,?,?,?)
2024-10-07T13:05:14.626+08:00 DEBUG 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] c.s.m.ChatMapper.storeChatInformation    : ==> Parameters: 3(Long), hello(String), null, 3(Long), 5(Long), 2024-10-07T13:05:14.615590200(LocalDateTime)
2024-10-07T13:05:14.631+08:00 DEBUG 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] c.s.m.ChatMapper.storeChatInformation    : <==    Updates: 1
2024-10-07T13:05:14.631+08:00  INFO 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 成功存储聊天信息：ChatInformation(id=null, queueId=3, sendUserId=3, receiveUserId=5, information=hello, image=null, sendTime=2024-10-07T13:05:14.615590200)
2024-10-07T13:05:16.811+08:00 DEBUG 7772 --- [http-nio-10102-exec-4] c.s.mapper.ChatMapper.getQueueByUserId   : ==>  Preparing: select id from chat_queue where (user_id1 = ? and user_id2 = ?) or (user_id1 = ? and user_id2 = ?)
2024-10-07T13:05:16.811+08:00 DEBUG 7772 --- [http-nio-10102-exec-4] c.s.mapper.ChatMapper.getQueueByUserId   : ==> Parameters: 5(Long), 3(Long), 3(Long), 5(Long)
2024-10-07T13:05:16.812+08:00 DEBUG 7772 --- [http-nio-10102-exec-4] c.s.mapper.ChatMapper.getQueueByUserId   : <==      Total: 1
2024-10-07T13:05:16.813+08:00  INFO 7772 --- [http-nio-10102-exec-4] com.supply.websocket.ChatEndPoint        : 成功发送消息给用户 3
2024-10-07T13:05:16.814+08:00  INFO 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 接收到store.queue的消息：{"information":"hello","queueId":3,"receiveUserId":3,"sendTime":"2024-10-07T13:05:16.812788300","sendUserId":5}, 2024-10-07 13:05:16
2024-10-07T13:05:16.815+08:00 DEBUG 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] c.s.m.ChatMapper.storeChatInformation    : ==>  Preparing: insert into chat_information(queue_id,information,image,send_user_id,receive_user_id,send_time) VALUES(?,?,?,?,?,?)
2024-10-07T13:05:16.815+08:00 DEBUG 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] c.s.m.ChatMapper.storeChatInformation    : ==> Parameters: 3(Long), hello(String), null, 5(Long), 3(Long), 2024-10-07T13:05:16.812788300(LocalDateTime)
2024-10-07T13:05:16.818+08:00 DEBUG 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] c.s.m.ChatMapper.storeChatInformation    : <==    Updates: 1
2024-10-07T13:05:16.818+08:00  INFO 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 成功存储聊天信息：ChatInformation(id=null, queueId=3, sendUserId=5, receiveUserId=3, information=hello, image=null, sendTime=2024-10-07T13:05:16.812788300)
2024-10-07T13:05:26.729+08:00  INFO 7772 --- [http-nio-10102-exec-5] com.supply.websocket.ChatEndPoint        : 用户 3 已下线
2024-10-07T13:05:26.732+08:00  INFO 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.supply.consumer.MessageConsumer      : 接收到finish.queue的消息：3,2024-10-07 13:05:26
2024-10-07T13:05:26.740+08:00 DEBUG 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.ChatMapper.getAllQueueByUserId     : ==>  Preparing: select * from chat_queue where user_id1 = ? or user_id2 = ?
2024-10-07T13:05:26.740+08:00 DEBUG 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.ChatMapper.getAllQueueByUserId     : ==> Parameters: 3(Long), 3(Long)
2024-10-07T13:05:26.743+08:00 DEBUG 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.ChatMapper.getAllQueueByUserId     : <==      Total: 1
2024-10-07T13:05:26.743+08:00 DEBUG 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.C.getChatInformationByQueueId      : ==>  Preparing: select * from chat_information where queue_id = ? limit 5
2024-10-07T13:05:26.743+08:00 DEBUG 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.C.getChatInformationByQueueId      : ==> Parameters: 3(Long)
2024-10-07T13:05:26.745+08:00 DEBUG 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.C.getChatInformationByQueueId      : <==      Total: 2
2024-10-07T13:05:29.547+08:00  WARN 7772 --- [http-nio-10102-exec-6] com.supply.websocket.ChatEndPoint        : 用户 3 不在线，无法发送消息，进行消息缓存
2024-10-07T13:05:55.010+08:00  INFO 7772 --- [http-nio-10102-exec-7] c.s.filter.JwtAuthenticationTokenFilter  : 用户 3 验证通过
2024-10-07T13:05:55.012+08:00  INFO 7772 --- [http-nio-10102-exec-7] com.supply.websocket.ChatEndPoint        : 用户 3 已连接
2024-10-07T13:05:55.015+08:00  INFO 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:05:55
2024-10-07T13:05:56.022+08:00  WARN 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] s.a.r.l.ConditionalRejectingErrorHandler : Execution of Rabbit message listener failed.

org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method 'public void com.supply.consumer.MessageConsumer.listenMessageQueue(java.lang.String)' threw exception
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:287) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.retry.interceptor.StatefulRetryOperationsInterceptor$StatefulMethodInvocationRetryCallback.doWithRetry(StatefulRetryOperationsInterceptor.java:209) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:335) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:257) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.retry.interceptor.StatefulRetryOperationsInterceptor.invoke(StatefulRetryOperationsInterceptor.java:166) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.amqp.rabbit.listener.$Proxy129.invokeListener(Unknown Source) ~[na:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at io.micrometer.observation.Observation.observe(Observation.java:499) ~[micrometer-observation-1.12.5.jar:1.12.5]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1420) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.lang.ClassCastException: class com.alibaba.fastjson.JSONObject cannot be cast to class com.supply.entity.MessageCache (com.alibaba.fastjson.JSONObject and com.supply.entity.MessageCache are in unnamed module of loader 'app')
	at com.supply.consumer.MessageConsumer.listenMessageQueue(MessageConsumer.java:76) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-6.1.6.jar:6.1.6]
	at org.springframework.amqp.rabbit.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-6.1.6.jar:6.1.6]
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278) ~[spring-rabbit-3.1.4.jar:3.1.4]
	... 29 common frames omitted

2024-10-07T13:05:56.030+08:00  WARN 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] ingErrorHandler$DefaultExceptionStrategy : Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'[serialized object]' MessageProperties [headers={}, contentType=application/x-java-serialized-object, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=message.direct, receivedRoutingKey=messageDirect, deliveryTag=3, consumerTag=amq.ctag-GHI0cqdG_nY3-05mS4DkDg, consumerQueue=message.queue])
2024-10-07T13:05:56.031+08:00 ERROR 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] o.s.a.r.l.SimpleMessageListenerContainer : Execution of Rabbit message listener failed, and the error handler threw an exception

org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal
	at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1475) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1768) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1549) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at io.micrometer.observation.Observation.observe(Observation.java:499) ~[micrometer-observation-1.12.5.jar:1.12.5]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1420) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method 'public void com.supply.consumer.MessageConsumer.listenMessageQueue(java.lang.String)' threw exception
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:287) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.retry.interceptor.StatefulRetryOperationsInterceptor$StatefulMethodInvocationRetryCallback.doWithRetry(StatefulRetryOperationsInterceptor.java:209) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:335) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:257) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.retry.interceptor.StatefulRetryOperationsInterceptor.invoke(StatefulRetryOperationsInterceptor.java:166) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.amqp.rabbit.listener.$Proxy129.invokeListener(Unknown Source) ~[na:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528) ~[spring-rabbit-3.1.4.jar:3.1.4]
	... 8 common frames omitted
Caused by: java.lang.ClassCastException: class com.alibaba.fastjson.JSONObject cannot be cast to class com.supply.entity.MessageCache (com.alibaba.fastjson.JSONObject and com.supply.entity.MessageCache are in unnamed module of loader 'app')
	at com.supply.consumer.MessageConsumer.listenMessageQueue(MessageConsumer.java:76) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-6.1.6.jar:6.1.6]
	at org.springframework.amqp.rabbit.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-6.1.6.jar:6.1.6]
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278) ~[spring-rabbit-3.1.4.jar:3.1.4]
	... 29 common frames omitted

2024-10-07T13:13:48.813+08:00  INFO 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:13:48.822+08:00  INFO 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:13:48.824+08:00  INFO 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:13:48.828+08:00  INFO 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:13:48.929+08:00  INFO 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:13:48.929+08:00  INFO 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:13:48.929+08:00  INFO 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:13:49.285+08:00  INFO 7772 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:13:49.418+08:00  INFO 7772 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-10-07T13:13:49.426+08:00  INFO 7772 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-10-07T13:13:49.433+08:00  INFO 7772 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 3 已下线
2024-10-07T13:13:49.435+08:00  INFO 7772 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 5 已下线
2024-10-07T13:13:51.429+08:00  INFO 4624 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 4624 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T13:13:51.431+08:00  INFO 4624 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T13:13:52.037+08:00  INFO 4624 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T13:13:52.039+08:00  INFO 4624 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T13:13:52.063+08:00  INFO 4624 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2024-10-07T13:13:52.262+08:00  INFO 4624 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T13:13:52.263+08:00  INFO 4624 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:13:52.264+08:00  INFO 4624 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:13:52.264+08:00  INFO 4624 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:13:52.264+08:00  INFO 4624 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:13:52.264+08:00  INFO 4624 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T13:13:52.265+08:00  INFO 4624 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T13:13:52.265+08:00  INFO 4624 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:13:52.265+08:00  INFO 4624 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:13:52.287+08:00  INFO 4624 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T13:13:52.295+08:00  INFO 4624 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T13:13:52.297+08:00  INFO 4624 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T13:13:52.639+08:00  INFO 4624 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T13:13:52.648+08:00  INFO 4624 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T13:13:52.648+08:00  INFO 4624 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T13:13:52.693+08:00  INFO 4624 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T13:13:52.694+08:00  INFO 4624 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1232 ms
2024-10-07T13:13:52.954+08:00  INFO 4624 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T13:13:52.962+08:00  INFO 4624 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T13:13:52.962+08:00  INFO 4624 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T13:13:52.962+08:00  INFO 4624 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T13:13:52.962+08:00  INFO 4624 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T13:13:52.963+08:00  INFO 4624 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T13:13:52.963+08:00  INFO 4624 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T13:13:52.964+08:00  INFO 4624 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T13:13:53.690+08:00  INFO 4624 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@de40aa1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@61b76a7d, org.springframework.security.web.context.SecurityContextHolderFilter@ef220e4, org.springframework.security.web.header.HeaderWriterFilter@2ef1fc8a, org.springframework.security.web.authentication.logout.LogoutFilter@7fad28ac, com.supply.filter.JwtAuthenticationTokenFilter@93ce24d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3cab07dd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68f264bf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@57f89680, org.springframework.security.web.session.SessionManagementFilter@18d1d137, org.springframework.security.web.access.ExceptionTranslationFilter@71b7e9c8, org.springframework.security.web.access.intercept.AuthorizationFilter@194eae3e]
2024-10-07T13:13:54.055+08:00  INFO 4624 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T13:13:54.056+08:00  INFO 4624 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T13:13:54.056+08:00  INFO 4624 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T13:13:54.056+08:00  INFO 4624 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T13:13:54.057+08:00  INFO 4624 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T13:13:54.057+08:00  INFO 4624 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:13:54.057+08:00  INFO 4624 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:13:54.057+08:00  INFO 4624 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:13:54.057+08:00  INFO 4624 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:13:54.057+08:00  INFO 4624 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T13:13:54.058+08:00  INFO 4624 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T13:13:54.096+08:00  INFO 4624 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#2d8087da:0/SimpleConnection@54224125 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=57795]
2024-10-07T13:13:54.150+08:00  INFO 4624 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 3.043 seconds (process running for 3.566)
2024-10-07T13:13:56.336+08:00  INFO 4624 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T13:13:56.337+08:00  INFO 4624 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T13:13:56.338+08:00  INFO 4624 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-07T13:13:56.719+08:00  INFO 4624 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 3 验证通过
2024-10-07T13:13:56.743+08:00  INFO 4624 --- [http-nio-10102-exec-1] com.supply.websocket.ChatEndPoint        : 用户 3 已连接
2024-10-07T13:13:56.774+08:00  INFO 4624 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:13:56
2024-10-07T13:14:13.042+08:00  WARN 4624 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] s.a.r.l.ConditionalRejectingErrorHandler : Execution of Rabbit message listener failed.

org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method 'public void com.supply.consumer.MessageConsumer.listenMessageQueue(java.lang.String)' threw exception
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:287) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.retry.interceptor.StatefulRetryOperationsInterceptor$StatefulMethodInvocationRetryCallback.doWithRetry(StatefulRetryOperationsInterceptor.java:209) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:335) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:257) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.retry.interceptor.StatefulRetryOperationsInterceptor.invoke(StatefulRetryOperationsInterceptor.java:166) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.amqp.rabbit.listener.$Proxy129.invokeListener(Unknown Source) ~[na:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at io.micrometer.observation.Observation.observe(Observation.java:499) ~[micrometer-observation-1.12.5.jar:1.12.5]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1420) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: java.lang.ClassCastException: class com.alibaba.fastjson.JSONObject cannot be cast to class com.supply.entity.MessageCache (com.alibaba.fastjson.JSONObject and com.supply.entity.MessageCache are in unnamed module of loader 'app')
	at com.supply.consumer.MessageConsumer.listenMessageQueue(MessageConsumer.java:76) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-6.1.6.jar:6.1.6]
	at org.springframework.amqp.rabbit.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-6.1.6.jar:6.1.6]
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278) ~[spring-rabbit-3.1.4.jar:3.1.4]
	... 29 common frames omitted

2024-10-07T13:14:13.050+08:00  WARN 4624 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] ingErrorHandler$DefaultExceptionStrategy : Fatal message conversion error; message rejected; it will be dropped or routed to a dead letter exchange, if so configured: (Body:'[serialized object]' MessageProperties [headers={}, contentType=application/x-java-serialized-object, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=message.direct, receivedRoutingKey=messageDirect, deliveryTag=1, consumerTag=amq.ctag-rDotReG5EMpbHQrGFaWYOQ, consumerQueue=message.queue])
2024-10-07T13:14:13.050+08:00 ERROR 4624 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] o.s.a.r.l.SimpleMessageListenerContainer : Execution of Rabbit message listener failed, and the error handler threw an exception

org.springframework.amqp.AmqpRejectAndDontRequeueException: Error Handler converted exception to fatal
	at org.springframework.amqp.rabbit.listener.ConditionalRejectingErrorHandler.handleError(ConditionalRejectingErrorHandler.java:147) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeErrorHandler(AbstractMessageListenerContainer.java:1475) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.handleListenerException(AbstractMessageListenerContainer.java:1768) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1549) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at io.micrometer.observation.Observation.observe(Observation.java:499) ~[micrometer-observation-1.12.5.jar:1.12.5]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1420) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method 'public void com.supply.consumer.MessageConsumer.listenMessageQueue(java.lang.String)' threw exception
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:287) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.retry.interceptor.StatefulRetryOperationsInterceptor$StatefulMethodInvocationRetryCallback.doWithRetry(StatefulRetryOperationsInterceptor.java:209) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:335) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:257) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.retry.interceptor.StatefulRetryOperationsInterceptor.invoke(StatefulRetryOperationsInterceptor.java:166) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.amqp.rabbit.listener.$Proxy129.invokeListener(Unknown Source) ~[na:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528) ~[spring-rabbit-3.1.4.jar:3.1.4]
	... 8 common frames omitted
Caused by: java.lang.ClassCastException: class com.alibaba.fastjson.JSONObject cannot be cast to class com.supply.entity.MessageCache (com.alibaba.fastjson.JSONObject and com.supply.entity.MessageCache are in unnamed module of loader 'app')
	at com.supply.consumer.MessageConsumer.listenMessageQueue(MessageConsumer.java:76) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-6.1.6.jar:6.1.6]
	at org.springframework.amqp.rabbit.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-6.1.6.jar:6.1.6]
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278) ~[spring-rabbit-3.1.4.jar:3.1.4]
	... 29 common frames omitted

2024-10-07T13:14:36.477+08:00  INFO 4624 --- [http-nio-10102-exec-2] com.supply.websocket.ChatEndPoint        : 用户 3 已下线
2024-10-07T13:14:36.482+08:00  INFO 4624 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.supply.consumer.MessageConsumer      : 接收到finish.queue的消息：3,2024-10-07 13:14:36
2024-10-07T13:14:36.485+08:00  INFO 4624 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-10-07T13:14:36.586+08:00  INFO 4624 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7debae72
2024-10-07T13:14:36.587+08:00  INFO 4624 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-10-07T13:14:36.605+08:00 DEBUG 4624 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.ChatMapper.getAllQueueByUserId     : ==>  Preparing: select * from chat_queue where user_id1 = ? or user_id2 = ?
2024-10-07T13:14:36.621+08:00 DEBUG 4624 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.ChatMapper.getAllQueueByUserId     : ==> Parameters: 3(Long), 3(Long)
2024-10-07T13:14:36.638+08:00 DEBUG 4624 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.ChatMapper.getAllQueueByUserId     : <==      Total: 1
2024-10-07T13:14:36.643+08:00 DEBUG 4624 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.C.getChatInformationByQueueId      : ==>  Preparing: select * from chat_information where queue_id = ? limit 5
2024-10-07T13:14:36.643+08:00 DEBUG 4624 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.C.getChatInformationByQueueId      : ==> Parameters: 3(Long)
2024-10-07T13:14:36.645+08:00 DEBUG 4624 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.C.getChatInformationByQueueId      : <==      Total: 2
2024-10-07T13:14:36.933+08:00  INFO 4624 --- [http-nio-10102-exec-4] c.s.filter.JwtAuthenticationTokenFilter  : 用户 3 验证通过
2024-10-07T13:14:36.934+08:00  INFO 4624 --- [http-nio-10102-exec-4] com.supply.websocket.ChatEndPoint        : 用户 3 已连接
2024-10-07T13:14:36.936+08:00  INFO 4624 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:14:36
2024-10-07T13:15:32.168+08:00  WARN 4624 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=55s479ms191µs800ns).
2024-10-07T13:15:56.942+08:00  INFO 4624 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:15:56.943+08:00  INFO 4624 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:15:56.944+08:00  INFO 4624 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:15:56.945+08:00  INFO 4624 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:15:57.906+08:00  INFO 4624 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:15:57.906+08:00  INFO 4624 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:15:57.906+08:00  INFO 4624 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:15:57.911+08:00  INFO 4624 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:15:58.050+08:00  INFO 4624 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-10-07T13:15:58.054+08:00  INFO 4624 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-10-07T13:15:58.058+08:00  INFO 4624 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 3 已下线
2024-10-07T13:16:01.661+08:00  INFO 21884 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 21884 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T13:16:01.663+08:00  INFO 21884 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T13:16:02.249+08:00  INFO 21884 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T13:16:02.250+08:00  INFO 21884 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T13:16:02.269+08:00  INFO 21884 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2024-10-07T13:16:02.424+08:00  INFO 21884 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T13:16:02.425+08:00  INFO 21884 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:16:02.426+08:00  INFO 21884 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:16:02.426+08:00  INFO 21884 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:16:02.426+08:00  INFO 21884 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:16:02.426+08:00  INFO 21884 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T13:16:02.427+08:00  INFO 21884 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T13:16:02.427+08:00  INFO 21884 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:16:02.427+08:00  INFO 21884 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:16:02.440+08:00  INFO 21884 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T13:16:02.446+08:00  INFO 21884 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T13:16:02.447+08:00  INFO 21884 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T13:16:02.709+08:00  INFO 21884 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T13:16:02.716+08:00  INFO 21884 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T13:16:02.716+08:00  INFO 21884 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T13:16:02.760+08:00  INFO 21884 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T13:16:02.761+08:00  INFO 21884 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1069 ms
2024-10-07T13:16:02.993+08:00  INFO 21884 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T13:16:03.002+08:00  INFO 21884 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T13:16:03.003+08:00  INFO 21884 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T13:16:03.003+08:00  INFO 21884 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T13:16:03.003+08:00  INFO 21884 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T13:16:03.004+08:00  INFO 21884 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T13:16:03.004+08:00  INFO 21884 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T13:16:03.004+08:00  INFO 21884 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T13:16:03.688+08:00  INFO 21884 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@544e6b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b430541, org.springframework.security.web.context.SecurityContextHolderFilter@319058ce, org.springframework.security.web.header.HeaderWriterFilter@35b58254, org.springframework.security.web.authentication.logout.LogoutFilter@6b32b678, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71cc0e35, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b6c740b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65a66a75, org.springframework.security.web.session.SessionManagementFilter@44a9971f, org.springframework.security.web.access.ExceptionTranslationFilter@640a6d4b, org.springframework.security.web.access.intercept.AuthorizationFilter@72b53f27]
2024-10-07T13:16:04.077+08:00  INFO 21884 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T13:16:04.078+08:00  INFO 21884 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T13:16:04.079+08:00  INFO 21884 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T13:16:04.079+08:00  INFO 21884 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T13:16:04.079+08:00  INFO 21884 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T13:16:04.079+08:00  INFO 21884 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:16:04.079+08:00  INFO 21884 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:16:04.079+08:00  INFO 21884 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:16:04.079+08:00  INFO 21884 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:16:04.079+08:00  INFO 21884 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T13:16:04.080+08:00  INFO 21884 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T13:16:04.107+08:00  INFO 21884 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#52d9f36b:0/SimpleConnection@2e51ede1 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=57866]
2024-10-07T13:16:04.158+08:00  INFO 21884 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.777 seconds (process running for 3.109)
2024-10-07T13:16:04.167+08:00  INFO 21884 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:16:04
2024-10-07T13:16:05.475+08:00 ERROR 21884 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] o.s.a.r.l.SimpleMessageListenerContainer : Consumer received fatal exception during processing

org.springframework.amqp.rabbit.listener.exception.FatalListenerExecutionException: Illegal null id in message. Failed to manage retry for message: (Body:'[serialized object]' MessageProperties [headers={}, contentType=application/x-java-serialized-object, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=true, receivedExchange=message.direct, receivedRoutingKey=messageDirect, deliveryTag=1, consumerTag=amq.ctag-dffZwPy9zMOgrhdpOzdRxg, consumerQueue=message.queue])
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.checkStatefulRetry(AbstractMessageListenerContainer.java:1557) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1548) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at io.micrometer.observation.Observation.observe(Observation.java:499) ~[micrometer-observation-1.12.5.jar:1.12.5]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1420) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method 'public void com.supply.consumer.MessageConsumer.listenMessageQueue(java.lang.String)' threw exception
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:287) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.retry.interceptor.StatefulRetryOperationsInterceptor$StatefulMethodInvocationRetryCallback.doWithRetry(StatefulRetryOperationsInterceptor.java:209) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:335) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:257) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.retry.interceptor.StatefulRetryOperationsInterceptor.invoke(StatefulRetryOperationsInterceptor.java:166) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.amqp.rabbit.listener.$Proxy129.invokeListener(Unknown Source) ~[na:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528) ~[spring-rabbit-3.1.4.jar:3.1.4]
	... 8 common frames omitted
Caused by: java.lang.ClassCastException: class com.alibaba.fastjson.JSONObject cannot be cast to class com.supply.entity.MessageCache (com.alibaba.fastjson.JSONObject and com.supply.entity.MessageCache are in unnamed module of loader 'app')
	at com.supply.consumer.MessageConsumer.listenMessageQueue(MessageConsumer.java:75) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-6.1.6.jar:6.1.6]
	at org.springframework.amqp.rabbit.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-6.1.6.jar:6.1.6]
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278) ~[spring-rabbit-3.1.4.jar:3.1.4]
	... 29 common frames omitted

2024-10-07T13:16:05.480+08:00 ERROR 21884 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] o.s.a.r.l.SimpleMessageListenerContainer : Stopping container from aborted consumer
2024-10-07T13:16:05.480+08:00  INFO 21884 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:16:05.481+08:00  INFO 21884 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:17:04.976+08:00  INFO 21884 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T13:17:04.976+08:00  INFO 21884 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T13:17:04.977+08:00  INFO 21884 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-07T13:17:05.030+08:00  INFO 21884 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 3 验证通过
2024-10-07T13:17:05.050+08:00  INFO 21884 --- [http-nio-10102-exec-1] com.supply.websocket.ChatEndPoint        : 用户 3 已连接
2024-10-07T13:17:17.331+08:00  INFO 21884 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:17:17.332+08:00  INFO 21884 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:17:17.335+08:00  INFO 21884 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:17:17.606+08:00  INFO 21884 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:17:17.622+08:00  INFO 21884 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:17:17.652+08:00  INFO 21884 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:17:17.788+08:00  INFO 21884 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 3 已下线
2024-10-07T13:17:20.460+08:00  INFO 11968 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 11968 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T13:17:20.461+08:00  INFO 11968 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T13:17:20.983+08:00  INFO 11968 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T13:17:20.984+08:00  INFO 11968 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T13:17:21.002+08:00  INFO 11968 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2024-10-07T13:17:21.161+08:00  INFO 11968 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T13:17:21.161+08:00  INFO 11968 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:17:21.162+08:00  INFO 11968 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:17:21.162+08:00  INFO 11968 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:17:21.163+08:00  INFO 11968 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:17:21.163+08:00  INFO 11968 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T13:17:21.163+08:00  INFO 11968 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T13:17:21.163+08:00  INFO 11968 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:17:21.163+08:00  INFO 11968 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:17:21.176+08:00  INFO 11968 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T13:17:21.183+08:00  INFO 11968 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T13:17:21.184+08:00  INFO 11968 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T13:17:21.454+08:00  INFO 11968 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T13:17:21.466+08:00  INFO 11968 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T13:17:21.466+08:00  INFO 11968 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T13:17:21.505+08:00  INFO 11968 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T13:17:21.506+08:00  INFO 11968 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1019 ms
2024-10-07T13:17:21.734+08:00  INFO 11968 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T13:17:21.740+08:00  INFO 11968 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T13:17:21.740+08:00  INFO 11968 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T13:17:21.741+08:00  INFO 11968 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T13:17:21.741+08:00  INFO 11968 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T13:17:21.741+08:00  INFO 11968 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T13:17:21.742+08:00  INFO 11968 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T13:17:21.742+08:00  INFO 11968 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T13:17:22.365+08:00  INFO 11968 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@544e6b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b430541, org.springframework.security.web.context.SecurityContextHolderFilter@319058ce, org.springframework.security.web.header.HeaderWriterFilter@35b58254, org.springframework.security.web.authentication.logout.LogoutFilter@6b32b678, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71cc0e35, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b6c740b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65a66a75, org.springframework.security.web.session.SessionManagementFilter@44a9971f, org.springframework.security.web.access.ExceptionTranslationFilter@640a6d4b, org.springframework.security.web.access.intercept.AuthorizationFilter@72b53f27]
2024-10-07T13:17:22.700+08:00  INFO 11968 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T13:17:22.702+08:00  INFO 11968 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T13:17:22.703+08:00  INFO 11968 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T13:17:22.703+08:00  INFO 11968 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T13:17:22.703+08:00  INFO 11968 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T13:17:22.703+08:00  INFO 11968 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:17:22.703+08:00  INFO 11968 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:17:22.703+08:00  INFO 11968 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:17:22.703+08:00  INFO 11968 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:17:22.703+08:00  INFO 11968 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T13:17:22.704+08:00  INFO 11968 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T13:17:22.729+08:00  INFO 11968 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#52d9f36b:0/SimpleConnection@2e51ede1 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=57912]
2024-10-07T13:17:22.774+08:00  INFO 11968 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.585 seconds (process running for 2.903)
2024-10-07T13:17:22.787+08:00  INFO 11968 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:17:22
2024-10-07T13:17:23.131+08:00 ERROR 11968 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 发送缓存消息失败！
2024-10-07T13:17:23.134+08:00  INFO 11968 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:17:23
2024-10-07T13:17:23.136+08:00 ERROR 11968 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 发送缓存消息失败！
2024-10-07T13:18:21.315+08:00  INFO 11968 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:18:21.317+08:00  INFO 11968 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:18:21.318+08:00  INFO 11968 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:18:21.319+08:00  INFO 11968 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:18:21.595+08:00  INFO 11968 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:18:22.118+08:00  INFO 11968 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:18:22.194+08:00  INFO 11968 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:18:22.210+08:00  INFO 11968 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:18:25.045+08:00  INFO 8812 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 8812 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T13:18:25.047+08:00  INFO 8812 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T13:18:25.570+08:00  INFO 8812 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T13:18:25.571+08:00  INFO 8812 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T13:18:25.589+08:00  INFO 8812 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2024-10-07T13:18:25.739+08:00  INFO 8812 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T13:18:25.740+08:00  INFO 8812 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:18:25.740+08:00  INFO 8812 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:18:25.740+08:00  INFO 8812 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:18:25.741+08:00  INFO 8812 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:18:25.741+08:00  INFO 8812 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T13:18:25.741+08:00  INFO 8812 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T13:18:25.741+08:00  INFO 8812 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:18:25.741+08:00  INFO 8812 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:18:25.754+08:00  INFO 8812 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T13:18:25.760+08:00  INFO 8812 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T13:18:25.761+08:00  INFO 8812 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T13:18:26.034+08:00  INFO 8812 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T13:18:26.041+08:00  INFO 8812 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T13:18:26.041+08:00  INFO 8812 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T13:18:26.086+08:00  INFO 8812 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T13:18:26.086+08:00  INFO 8812 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1014 ms
2024-10-07T13:18:26.322+08:00  INFO 8812 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T13:18:26.331+08:00  INFO 8812 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T13:18:26.331+08:00  INFO 8812 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T13:18:26.332+08:00  INFO 8812 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T13:18:26.332+08:00  INFO 8812 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T13:18:26.332+08:00  INFO 8812 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T13:18:26.332+08:00  INFO 8812 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T13:18:26.333+08:00  INFO 8812 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T13:18:26.959+08:00  INFO 8812 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@544e6b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b430541, org.springframework.security.web.context.SecurityContextHolderFilter@319058ce, org.springframework.security.web.header.HeaderWriterFilter@35b58254, org.springframework.security.web.authentication.logout.LogoutFilter@6b32b678, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71cc0e35, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b6c740b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65a66a75, org.springframework.security.web.session.SessionManagementFilter@44a9971f, org.springframework.security.web.access.ExceptionTranslationFilter@640a6d4b, org.springframework.security.web.access.intercept.AuthorizationFilter@72b53f27]
2024-10-07T13:18:27.313+08:00  INFO 8812 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T13:18:27.314+08:00  INFO 8812 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T13:18:27.315+08:00  INFO 8812 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T13:18:27.315+08:00  INFO 8812 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T13:18:27.315+08:00  INFO 8812 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T13:18:27.315+08:00  INFO 8812 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:18:27.315+08:00  INFO 8812 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:18:27.315+08:00  INFO 8812 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:18:27.315+08:00  INFO 8812 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:18:27.315+08:00  INFO 8812 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T13:18:27.316+08:00  INFO 8812 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T13:18:27.344+08:00  INFO 8812 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#52d9f36b:0/SimpleConnection@2e51ede1 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=57948]
2024-10-07T13:18:27.400+08:00  INFO 8812 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.617 seconds (process running for 2.931)
2024-10-07T13:18:31.264+08:00  INFO 8812 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T13:18:31.264+08:00  INFO 8812 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T13:18:31.265+08:00  INFO 8812 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2024-10-07T13:18:31.605+08:00  INFO 8812 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 3 验证通过
2024-10-07T13:18:31.626+08:00  INFO 8812 --- [http-nio-10102-exec-1] com.supply.websocket.ChatEndPoint        : 用户 3 已连接
2024-10-07T13:18:31.655+08:00  INFO 8812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:18:31
2024-10-07T13:18:31.658+08:00 ERROR 8812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 发送缓存消息失败！错误：class com.alibaba.fastjson.JSONObject cannot be cast to class com.supply.entity.MessageCache (com.alibaba.fastjson.JSONObject and com.supply.entity.MessageCache are in unnamed module of loader 'app')
2024-10-07T13:19:56.351+08:00  INFO 8812 --- [http-nio-10102-exec-2] c.s.filter.JwtAuthenticationTokenFilter  : 用户 5 验证通过
2024-10-07T13:19:56.354+08:00  INFO 8812 --- [http-nio-10102-exec-2] com.supply.websocket.ChatEndPoint        : 用户 5 已连接
2024-10-07T13:19:56.357+08:00  INFO 8812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：5, 2024-10-07 13:19:56
2024-10-07T13:19:58.512+08:00  INFO 8812 --- [http-nio-10102-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-10-07T13:19:58.606+08:00  INFO 8812 --- [http-nio-10102-exec-3] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1d3d9379
2024-10-07T13:19:58.607+08:00  INFO 8812 --- [http-nio-10102-exec-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-10-07T13:19:58.612+08:00 DEBUG 8812 --- [http-nio-10102-exec-3] c.s.mapper.ChatMapper.getQueueByUserId   : ==>  Preparing: select id from chat_queue where (user_id1 = ? and user_id2 = ?) or (user_id1 = ? and user_id2 = ?)
2024-10-07T13:19:58.627+08:00 DEBUG 8812 --- [http-nio-10102-exec-3] c.s.mapper.ChatMapper.getQueueByUserId   : ==> Parameters: 5(Long), 3(Long), 3(Long), 5(Long)
2024-10-07T13:19:58.642+08:00 DEBUG 8812 --- [http-nio-10102-exec-3] c.s.mapper.ChatMapper.getQueueByUserId   : <==      Total: 1
2024-10-07T13:19:58.650+08:00  INFO 8812 --- [http-nio-10102-exec-3] com.supply.websocket.ChatEndPoint        : 成功发送消息给用户 3
2024-10-07T13:19:58.652+08:00  INFO 8812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 接收到store.queue的消息：{"information":"hello","queueId":3,"receiveUserId":3,"sendTime":"2024-10-07T13:19:58.645176100","sendUserId":5}, 2024-10-07 13:19:58
2024-10-07T13:19:58.654+08:00 DEBUG 8812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] c.s.m.ChatMapper.storeChatInformation    : ==>  Preparing: insert into chat_information(queue_id,information,image,send_user_id,receive_user_id,send_time) VALUES(?,?,?,?,?,?)
2024-10-07T13:19:58.655+08:00 DEBUG 8812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] c.s.m.ChatMapper.storeChatInformation    : ==> Parameters: 3(Long), hello(String), null, 5(Long), 3(Long), 2024-10-07T13:19:58.645176100(LocalDateTime)
2024-10-07T13:19:58.661+08:00 DEBUG 8812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] c.s.m.ChatMapper.storeChatInformation    : <==    Updates: 1
2024-10-07T13:19:58.661+08:00  INFO 8812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 成功存储聊天信息：ChatInformation(id=null, queueId=3, sendUserId=5, receiveUserId=3, information=hello, image=null, sendTime=2024-10-07T13:19:58.645176100)
2024-10-07T13:20:13.097+08:00  INFO 8812 --- [http-nio-10102-exec-8] com.supply.websocket.ChatEndPoint        : 用户 3 已下线
2024-10-07T13:20:13.104+08:00  INFO 8812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.supply.consumer.MessageConsumer      : 接收到finish.queue的消息：3,2024-10-07 13:20:13
2024-10-07T13:20:13.109+08:00 DEBUG 8812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.ChatMapper.getAllQueueByUserId     : ==>  Preparing: select * from chat_queue where user_id1 = ? or user_id2 = ?
2024-10-07T13:20:13.110+08:00 DEBUG 8812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.ChatMapper.getAllQueueByUserId     : ==> Parameters: 3(Long), 3(Long)
2024-10-07T13:20:13.112+08:00 DEBUG 8812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.ChatMapper.getAllQueueByUserId     : <==      Total: 1
2024-10-07T13:20:13.113+08:00 DEBUG 8812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.C.getChatInformationByQueueId      : ==>  Preparing: select * from chat_information where queue_id = ? limit 5
2024-10-07T13:20:13.113+08:00 DEBUG 8812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.C.getChatInformationByQueueId      : ==> Parameters: 3(Long)
2024-10-07T13:20:13.116+08:00 DEBUG 8812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.C.getChatInformationByQueueId      : <==      Total: 3
2024-10-07T13:21:41.108+08:00  WARN 8812 --- [http-nio-10102-exec-10] com.supply.websocket.ChatEndPoint        : 用户 3 不在线，无法发送消息，进行消息缓存
2024-10-07T13:21:58.289+08:00  INFO 8812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:21:58.290+08:00  INFO 8812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:21:58.291+08:00  INFO 8812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:21:58.292+08:00  INFO 8812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:21:58.574+08:00  INFO 8812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:21:58.820+08:00  INFO 8812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:21:59.081+08:00  INFO 8812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:21:59.190+08:00  INFO 8812 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:21:59.321+08:00  INFO 8812 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-10-07T13:21:59.327+08:00  INFO 8812 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-10-07T13:21:59.334+08:00  INFO 8812 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 5 已下线
2024-10-07T13:22:03.065+08:00  INFO 11628 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 11628 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T13:22:03.066+08:00  INFO 11628 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T13:22:03.608+08:00  INFO 11628 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T13:22:03.610+08:00  INFO 11628 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T13:22:03.628+08:00  INFO 11628 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2024-10-07T13:22:03.783+08:00  INFO 11628 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T13:22:03.783+08:00  INFO 11628 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:22:03.784+08:00  INFO 11628 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:22:03.784+08:00  INFO 11628 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:22:03.784+08:00  INFO 11628 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:22:03.784+08:00  INFO 11628 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T13:22:03.785+08:00  INFO 11628 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T13:22:03.785+08:00  INFO 11628 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:22:03.785+08:00  INFO 11628 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:22:03.797+08:00  INFO 11628 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T13:22:03.805+08:00  INFO 11628 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T13:22:03.806+08:00  INFO 11628 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T13:22:04.078+08:00  INFO 11628 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T13:22:04.085+08:00  INFO 11628 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T13:22:04.086+08:00  INFO 11628 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T13:22:04.128+08:00  INFO 11628 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T13:22:04.129+08:00  INFO 11628 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1033 ms
2024-10-07T13:22:04.356+08:00  INFO 11628 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T13:22:04.363+08:00  INFO 11628 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T13:22:04.363+08:00  INFO 11628 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T13:22:04.363+08:00  INFO 11628 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T13:22:04.364+08:00  INFO 11628 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T13:22:04.364+08:00  INFO 11628 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T13:22:04.365+08:00  INFO 11628 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T13:22:04.365+08:00  INFO 11628 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T13:22:04.987+08:00  INFO 11628 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@544e6b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b430541, org.springframework.security.web.context.SecurityContextHolderFilter@319058ce, org.springframework.security.web.header.HeaderWriterFilter@35b58254, org.springframework.security.web.authentication.logout.LogoutFilter@6b32b678, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71cc0e35, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b6c740b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65a66a75, org.springframework.security.web.session.SessionManagementFilter@44a9971f, org.springframework.security.web.access.ExceptionTranslationFilter@640a6d4b, org.springframework.security.web.access.intercept.AuthorizationFilter@72b53f27]
2024-10-07T13:22:05.332+08:00  INFO 11628 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T13:22:05.334+08:00  INFO 11628 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T13:22:05.334+08:00  INFO 11628 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T13:22:05.335+08:00  INFO 11628 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T13:22:05.335+08:00  INFO 11628 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T13:22:05.335+08:00  INFO 11628 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:22:05.335+08:00  INFO 11628 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:22:05.335+08:00  INFO 11628 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:22:05.335+08:00  INFO 11628 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:22:05.335+08:00  INFO 11628 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T13:22:05.336+08:00  INFO 11628 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T13:22:05.362+08:00  INFO 11628 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#52d9f36b:0/SimpleConnection@3d00e981 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=58069]
2024-10-07T13:22:05.408+08:00  INFO 11628 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.617 seconds (process running for 2.931)
2024-10-07T13:22:12.142+08:00  INFO 11628 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T13:22:12.142+08:00  INFO 11628 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T13:22:12.143+08:00  INFO 11628 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-07T13:22:12.489+08:00  INFO 11628 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 5 验证通过
2024-10-07T13:22:12.513+08:00  INFO 11628 --- [http-nio-10102-exec-1] com.supply.websocket.ChatEndPoint        : 用户 5 已连接
2024-10-07T13:22:12.548+08:00  INFO 11628 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：5, 2024-10-07 13:22:12
2024-10-07T13:22:14.948+08:00  WARN 11628 --- [http-nio-10102-exec-9] com.supply.websocket.ChatEndPoint        : 用户 3 不在线，无法发送消息，进行消息缓存
2024-10-07T13:22:37.411+08:00  INFO 11628 --- [http-nio-10102-exec-3] c.s.filter.JwtAuthenticationTokenFilter  : 用户 3 验证通过
2024-10-07T13:22:37.412+08:00  INFO 11628 --- [http-nio-10102-exec-3] com.supply.websocket.ChatEndPoint        : 用户 3 已连接
2024-10-07T13:22:37.414+08:00  INFO 11628 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:22:37
2024-10-07T13:22:37.415+08:00 ERROR 11628 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 发送缓存消息失败！错误：class com.alibaba.fastjson.JSONObject cannot be cast to class com.supply.entity.MessageCache (com.alibaba.fastjson.JSONObject and com.supply.entity.MessageCache are in unnamed module of loader 'app')
2024-10-07T13:24:39.935+08:00  INFO 11628 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:24:39.936+08:00  INFO 11628 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:24:39.937+08:00  INFO 11628 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:24:39.938+08:00  INFO 11628 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:24:40.327+08:00  INFO 11628 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:24:40.435+08:00  INFO 11628 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:24:40.590+08:00  INFO 11628 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:24:40.621+08:00  INFO 11628 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:24:40.756+08:00  INFO 11628 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 3 已下线
2024-10-07T13:24:40.756+08:00  INFO 11628 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 5 已下线
2024-10-07T13:24:43.486+08:00  INFO 22472 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 22472 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T13:24:43.488+08:00  INFO 22472 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T13:24:44.029+08:00  INFO 22472 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T13:24:44.031+08:00  INFO 22472 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T13:24:44.050+08:00  INFO 22472 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2024-10-07T13:24:44.217+08:00  INFO 22472 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T13:24:44.218+08:00  INFO 22472 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:24:44.219+08:00  INFO 22472 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:24:44.219+08:00  INFO 22472 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:24:44.219+08:00  INFO 22472 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:24:44.219+08:00  INFO 22472 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T13:24:44.219+08:00  INFO 22472 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T13:24:44.219+08:00  INFO 22472 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:24:44.219+08:00  INFO 22472 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:24:44.233+08:00  INFO 22472 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T13:24:44.240+08:00  INFO 22472 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T13:24:44.241+08:00  INFO 22472 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T13:24:44.530+08:00  INFO 22472 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T13:24:44.537+08:00  INFO 22472 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T13:24:44.538+08:00  INFO 22472 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T13:24:44.582+08:00  INFO 22472 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T13:24:44.583+08:00  INFO 22472 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1066 ms
2024-10-07T13:24:44.816+08:00  INFO 22472 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T13:24:44.823+08:00  INFO 22472 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T13:24:44.823+08:00  INFO 22472 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T13:24:44.823+08:00  INFO 22472 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T13:24:44.823+08:00  INFO 22472 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T13:24:44.823+08:00  INFO 22472 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T13:24:44.824+08:00  INFO 22472 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T13:24:44.825+08:00  INFO 22472 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T13:24:45.498+08:00  INFO 22472 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@544e6b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b430541, org.springframework.security.web.context.SecurityContextHolderFilter@319058ce, org.springframework.security.web.header.HeaderWriterFilter@35b58254, org.springframework.security.web.authentication.logout.LogoutFilter@6b32b678, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71cc0e35, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b6c740b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65a66a75, org.springframework.security.web.session.SessionManagementFilter@44a9971f, org.springframework.security.web.access.ExceptionTranslationFilter@640a6d4b, org.springframework.security.web.access.intercept.AuthorizationFilter@72b53f27]
2024-10-07T13:24:45.837+08:00  INFO 22472 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T13:24:45.839+08:00  INFO 22472 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T13:24:45.840+08:00  INFO 22472 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T13:24:45.840+08:00  INFO 22472 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T13:24:45.840+08:00  INFO 22472 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T13:24:45.840+08:00  INFO 22472 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:24:45.840+08:00  INFO 22472 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:24:45.840+08:00  INFO 22472 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:24:45.840+08:00  INFO 22472 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:24:45.840+08:00  INFO 22472 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T13:24:45.841+08:00  INFO 22472 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T13:24:45.868+08:00  INFO 22472 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#52d9f36b:0/SimpleConnection@3d00e981 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=58144]
2024-10-07T13:24:45.928+08:00  INFO 22472 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.722 seconds (process running for 3.047)
2024-10-07T13:24:48.668+08:00  INFO 22472 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T13:24:48.668+08:00  INFO 22472 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T13:24:48.669+08:00  INFO 22472 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-07T13:24:49.019+08:00  INFO 22472 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 5 验证通过
2024-10-07T13:24:49.039+08:00  INFO 22472 --- [http-nio-10102-exec-1] com.supply.websocket.ChatEndPoint        : 用户 5 已连接
2024-10-07T13:24:49.065+08:00  INFO 22472 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：5, 2024-10-07 13:24:49
2024-10-07T13:24:52.896+08:00  INFO 22472 --- [http-nio-10102-exec-2] c.s.filter.JwtAuthenticationTokenFilter  : 用户 3 验证通过
2024-10-07T13:24:52.897+08:00  INFO 22472 --- [http-nio-10102-exec-2] com.supply.websocket.ChatEndPoint        : 用户 3 已连接
2024-10-07T13:24:52.899+08:00  INFO 22472 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:24:52
2024-10-07T13:24:52.901+08:00 ERROR 22472 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 发送缓存消息失败！错误：class com.alibaba.fastjson.JSONArray cannot be cast to class java.lang.String (com.alibaba.fastjson.JSONArray is in unnamed module of loader 'app'; java.lang.String is in module java.base of loader 'bootstrap')
2024-10-07T13:26:39.553+08:00  INFO 22472 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:26:39.554+08:00  INFO 22472 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:26:39.555+08:00  INFO 22472 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:26:39.556+08:00  INFO 22472 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:26:39.841+08:00  INFO 22472 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:26:39.841+08:00  INFO 22472 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:26:39.856+08:00  INFO 22472 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:26:39.856+08:00  INFO 22472 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:26:39.993+08:00  INFO 22472 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 5 已下线
2024-10-07T13:26:39.994+08:00  INFO 22472 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 3 已下线
2024-10-07T13:26:53.874+08:00  INFO 21244 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 21244 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T13:26:53.876+08:00  INFO 21244 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T13:26:54.422+08:00  INFO 21244 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T13:26:54.424+08:00  INFO 21244 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T13:26:54.442+08:00  INFO 21244 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2024-10-07T13:26:54.641+08:00  INFO 21244 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T13:26:54.642+08:00  INFO 21244 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:26:54.643+08:00  INFO 21244 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:26:54.643+08:00  INFO 21244 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:26:54.646+08:00  INFO 21244 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:26:54.647+08:00  INFO 21244 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T13:26:54.647+08:00  INFO 21244 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T13:26:54.647+08:00  INFO 21244 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:26:54.648+08:00  INFO 21244 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:26:54.667+08:00  INFO 21244 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T13:26:54.680+08:00  INFO 21244 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T13:26:54.681+08:00  INFO 21244 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T13:26:54.991+08:00  INFO 21244 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T13:26:55.005+08:00  INFO 21244 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T13:26:55.005+08:00  INFO 21244 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T13:26:55.053+08:00  INFO 21244 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T13:26:55.054+08:00  INFO 21244 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1151 ms
2024-10-07T13:26:55.332+08:00  INFO 21244 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T13:26:55.339+08:00  INFO 21244 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T13:26:55.340+08:00  INFO 21244 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T13:26:55.340+08:00  INFO 21244 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T13:26:55.340+08:00  INFO 21244 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T13:26:55.340+08:00  INFO 21244 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T13:26:55.341+08:00  INFO 21244 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T13:26:55.342+08:00  INFO 21244 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T13:26:56.006+08:00  INFO 21244 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@544e6b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b430541, org.springframework.security.web.context.SecurityContextHolderFilter@319058ce, org.springframework.security.web.header.HeaderWriterFilter@35b58254, org.springframework.security.web.authentication.logout.LogoutFilter@6b32b678, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71cc0e35, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b6c740b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65a66a75, org.springframework.security.web.session.SessionManagementFilter@44a9971f, org.springframework.security.web.access.ExceptionTranslationFilter@640a6d4b, org.springframework.security.web.access.intercept.AuthorizationFilter@72b53f27]
2024-10-07T13:26:56.387+08:00  INFO 21244 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T13:26:56.389+08:00  INFO 21244 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T13:26:56.389+08:00  INFO 21244 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T13:26:56.389+08:00  INFO 21244 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T13:26:56.389+08:00  INFO 21244 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T13:26:56.389+08:00  INFO 21244 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:26:56.389+08:00  INFO 21244 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:26:56.389+08:00  INFO 21244 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:26:56.389+08:00  INFO 21244 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:26:56.389+08:00  INFO 21244 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T13:26:56.390+08:00  INFO 21244 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T13:26:56.419+08:00  INFO 21244 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#52d9f36b:0/SimpleConnection@3d00e981 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=58258]
2024-10-07T13:26:56.471+08:00  INFO 21244 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.89 seconds (process running for 3.401)
2024-10-07T13:27:05.453+08:00  INFO 21244 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T13:27:05.454+08:00  INFO 21244 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T13:27:05.455+08:00  INFO 21244 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-07T13:27:05.813+08:00  INFO 21244 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 5 验证通过
2024-10-07T13:27:05.832+08:00  INFO 21244 --- [http-nio-10102-exec-1] com.supply.websocket.ChatEndPoint        : 用户 5 已连接
2024-10-07T13:27:05.856+08:00  INFO 21244 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：5, 2024-10-07 13:27:05
2024-10-07T13:27:24.184+08:00  INFO 21244 --- [http-nio-10102-exec-2] c.s.filter.JwtAuthenticationTokenFilter  : 用户 3 验证通过
2024-10-07T13:27:24.186+08:00  INFO 21244 --- [http-nio-10102-exec-2] com.supply.websocket.ChatEndPoint        : 用户 3 已连接
2024-10-07T13:27:24.188+08:00  INFO 21244 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:27:24
2024-10-07T13:27:24.190+08:00 ERROR 21244 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 发送缓存消息失败！错误：class com.alibaba.fastjson.JSONArray cannot be cast to class java.lang.String (com.alibaba.fastjson.JSONArray is in unnamed module of loader 'app'; java.lang.String is in module java.base of loader 'bootstrap')
2024-10-07T13:27:35.662+08:00  INFO 21244 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:27:35.663+08:00  INFO 21244 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:27:35.664+08:00  INFO 21244 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:27:35.664+08:00  INFO 21244 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:27:35.701+08:00  INFO 21244 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:27:35.701+08:00  INFO 21244 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:27:35.716+08:00  INFO 21244 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:27:36.284+08:00  INFO 21244 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:27:36.419+08:00  INFO 21244 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 5 已下线
2024-10-07T13:27:36.420+08:00  INFO 21244 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 3 已下线
2024-10-07T13:27:38.884+08:00  INFO 11744 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 11744 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T13:27:38.885+08:00  INFO 11744 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T13:27:39.536+08:00  INFO 11744 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T13:27:39.538+08:00  INFO 11744 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T13:27:39.558+08:00  INFO 11744 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2024-10-07T13:27:39.720+08:00  INFO 11744 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T13:27:39.721+08:00  INFO 11744 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:27:39.721+08:00  INFO 11744 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:27:39.722+08:00  INFO 11744 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:27:39.722+08:00  INFO 11744 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:27:39.722+08:00  INFO 11744 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T13:27:39.722+08:00  INFO 11744 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T13:27:39.722+08:00  INFO 11744 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:27:39.722+08:00  INFO 11744 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:27:39.736+08:00  INFO 11744 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T13:27:39.743+08:00  INFO 11744 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T13:27:39.744+08:00  INFO 11744 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T13:27:40.046+08:00  INFO 11744 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T13:27:40.054+08:00  INFO 11744 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T13:27:40.054+08:00  INFO 11744 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T13:27:40.092+08:00  INFO 11744 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T13:27:40.093+08:00  INFO 11744 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1180 ms
2024-10-07T13:27:40.348+08:00  INFO 11744 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T13:27:40.354+08:00  INFO 11744 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T13:27:40.355+08:00  INFO 11744 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T13:27:40.355+08:00  INFO 11744 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T13:27:40.355+08:00  INFO 11744 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T13:27:40.355+08:00  INFO 11744 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T13:27:40.356+08:00  INFO 11744 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T13:27:40.356+08:00  INFO 11744 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T13:27:41.039+08:00  INFO 11744 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@de40aa1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@61b76a7d, org.springframework.security.web.context.SecurityContextHolderFilter@ef220e4, org.springframework.security.web.header.HeaderWriterFilter@2ef1fc8a, org.springframework.security.web.authentication.logout.LogoutFilter@7fad28ac, com.supply.filter.JwtAuthenticationTokenFilter@93ce24d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3cab07dd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68f264bf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@57f89680, org.springframework.security.web.session.SessionManagementFilter@18d1d137, org.springframework.security.web.access.ExceptionTranslationFilter@71b7e9c8, org.springframework.security.web.access.intercept.AuthorizationFilter@194eae3e]
2024-10-07T13:27:41.416+08:00  INFO 11744 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T13:27:41.417+08:00  INFO 11744 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T13:27:41.417+08:00  INFO 11744 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T13:27:41.417+08:00  INFO 11744 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T13:27:41.417+08:00  INFO 11744 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T13:27:41.417+08:00  INFO 11744 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:27:41.417+08:00  INFO 11744 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:27:41.417+08:00  INFO 11744 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:27:41.417+08:00  INFO 11744 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:27:41.417+08:00  INFO 11744 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T13:27:41.418+08:00  INFO 11744 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T13:27:41.454+08:00  INFO 11744 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#2d8087da:0/SimpleConnection@44d6f9cf [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=58309]
2024-10-07T13:27:41.506+08:00  INFO 11744 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.912 seconds (process running for 3.306)
2024-10-07T13:27:43.341+08:00  INFO 11744 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T13:27:43.342+08:00  INFO 11744 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T13:27:43.343+08:00  INFO 11744 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2024-10-07T13:27:43.716+08:00  INFO 11744 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 3 验证通过
2024-10-07T13:27:43.739+08:00  INFO 11744 --- [http-nio-10102-exec-1] com.supply.websocket.ChatEndPoint        : 用户 3 已连接
2024-10-07T13:27:43.769+08:00  INFO 11744 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:27:43
2024-10-07T13:27:43.771+08:00 ERROR 11744 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 发送缓存消息失败！错误：class com.alibaba.fastjson.JSONArray cannot be cast to class java.lang.String (com.alibaba.fastjson.JSONArray is in unnamed module of loader 'app'; java.lang.String is in module java.base of loader 'bootstrap')
2024-10-07T13:27:51.990+08:00  INFO 11744 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:27:51.991+08:00  INFO 11744 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:27:51.992+08:00  INFO 11744 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:27:51.993+08:00  INFO 11744 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:27:52.566+08:00  INFO 11744 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:27:52.566+08:00  INFO 11744 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:27:52.566+08:00  INFO 11744 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:27:52.843+08:00  INFO 11744 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:27:52.982+08:00  INFO 11744 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 3 已下线
2024-10-07T13:27:54.813+08:00  INFO 13792 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 13792 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T13:27:54.814+08:00  INFO 13792 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T13:27:55.399+08:00  INFO 13792 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T13:27:55.401+08:00  INFO 13792 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T13:27:55.420+08:00  INFO 13792 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2024-10-07T13:27:55.596+08:00  INFO 13792 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T13:27:55.596+08:00  INFO 13792 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:27:55.597+08:00  INFO 13792 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:27:55.597+08:00  INFO 13792 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:27:55.598+08:00  INFO 13792 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:27:55.598+08:00  INFO 13792 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T13:27:55.598+08:00  INFO 13792 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T13:27:55.598+08:00  INFO 13792 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:27:55.598+08:00  INFO 13792 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:27:55.614+08:00  INFO 13792 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T13:27:55.622+08:00  INFO 13792 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T13:27:55.624+08:00  INFO 13792 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T13:27:55.948+08:00  INFO 13792 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T13:27:55.956+08:00  INFO 13792 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T13:27:55.956+08:00  INFO 13792 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T13:27:55.996+08:00  INFO 13792 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T13:27:55.996+08:00  INFO 13792 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1151 ms
2024-10-07T13:27:56.268+08:00  INFO 13792 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T13:27:56.275+08:00  INFO 13792 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T13:27:56.276+08:00  INFO 13792 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T13:27:56.276+08:00  INFO 13792 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T13:27:56.276+08:00  INFO 13792 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T13:27:56.276+08:00  INFO 13792 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T13:27:56.277+08:00  INFO 13792 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T13:27:56.277+08:00  INFO 13792 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T13:27:56.967+08:00  INFO 13792 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@de40aa1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@61b76a7d, org.springframework.security.web.context.SecurityContextHolderFilter@ef220e4, org.springframework.security.web.header.HeaderWriterFilter@2ef1fc8a, org.springframework.security.web.authentication.logout.LogoutFilter@7fad28ac, com.supply.filter.JwtAuthenticationTokenFilter@93ce24d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3cab07dd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68f264bf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@57f89680, org.springframework.security.web.session.SessionManagementFilter@18d1d137, org.springframework.security.web.access.ExceptionTranslationFilter@71b7e9c8, org.springframework.security.web.access.intercept.AuthorizationFilter@194eae3e]
2024-10-07T13:27:57.340+08:00  INFO 13792 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T13:27:57.341+08:00  INFO 13792 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T13:27:57.342+08:00  INFO 13792 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T13:27:57.342+08:00  INFO 13792 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T13:27:57.342+08:00  INFO 13792 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T13:27:57.342+08:00  INFO 13792 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:27:57.342+08:00  INFO 13792 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:27:57.342+08:00  INFO 13792 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:27:57.342+08:00  INFO 13792 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:27:57.342+08:00  INFO 13792 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T13:27:57.343+08:00  INFO 13792 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T13:27:57.384+08:00  INFO 13792 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#2d8087da:0/SimpleConnection@44d6f9cf [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=58333]
2024-10-07T13:27:57.435+08:00  INFO 13792 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.942 seconds (process running for 3.377)
2024-10-07T13:27:59.041+08:00  INFO 13792 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T13:27:59.041+08:00  INFO 13792 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T13:27:59.042+08:00  INFO 13792 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-07T13:27:59.423+08:00  INFO 13792 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 3 验证通过
2024-10-07T13:27:59.447+08:00  INFO 13792 --- [http-nio-10102-exec-1] com.supply.websocket.ChatEndPoint        : 用户 3 已连接
2024-10-07T13:27:59.473+08:00  INFO 13792 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:27:59
2024-10-07T13:27:59.475+08:00 ERROR 13792 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 发送缓存消息失败！错误：class com.alibaba.fastjson.JSONArray cannot be cast to class java.lang.String (com.alibaba.fastjson.JSONArray is in unnamed module of loader 'app'; java.lang.String is in module java.base of loader 'bootstrap')
2024-10-07T13:28:04.088+08:00  INFO 13792 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:28:04.089+08:00  INFO 13792 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:28:04.090+08:00  INFO 13792 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:28:04.090+08:00  INFO 13792 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:28:04.439+08:00  INFO 13792 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:28:04.439+08:00  INFO 13792 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:28:04.454+08:00  INFO 13792 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:28:04.500+08:00  INFO 13792 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:28:04.635+08:00  INFO 13792 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 3 已下线
2024-10-07T13:28:06.354+08:00  INFO 13432 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 13432 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T13:28:06.355+08:00  INFO 13432 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T13:28:06.916+08:00  INFO 13432 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T13:28:06.917+08:00  INFO 13432 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T13:28:06.935+08:00  INFO 13432 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2024-10-07T13:28:07.105+08:00  INFO 13432 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T13:28:07.106+08:00  INFO 13432 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:28:07.107+08:00  INFO 13432 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:28:07.107+08:00  INFO 13432 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:28:07.108+08:00  INFO 13432 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:28:07.108+08:00  INFO 13432 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T13:28:07.108+08:00  INFO 13432 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T13:28:07.108+08:00  INFO 13432 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:28:07.108+08:00  INFO 13432 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:28:07.124+08:00  INFO 13432 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T13:28:07.131+08:00  INFO 13432 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T13:28:07.133+08:00  INFO 13432 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T13:28:07.445+08:00  INFO 13432 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T13:28:07.452+08:00  INFO 13432 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T13:28:07.452+08:00  INFO 13432 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T13:28:07.494+08:00  INFO 13432 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T13:28:07.494+08:00  INFO 13432 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1110 ms
2024-10-07T13:28:07.766+08:00  INFO 13432 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T13:28:07.774+08:00  INFO 13432 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T13:28:07.774+08:00  INFO 13432 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T13:28:07.774+08:00  INFO 13432 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T13:28:07.775+08:00  INFO 13432 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T13:28:07.775+08:00  INFO 13432 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T13:28:07.775+08:00  INFO 13432 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T13:28:07.776+08:00  INFO 13432 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T13:28:08.447+08:00  INFO 13432 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@de40aa1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@61b76a7d, org.springframework.security.web.context.SecurityContextHolderFilter@ef220e4, org.springframework.security.web.header.HeaderWriterFilter@2ef1fc8a, org.springframework.security.web.authentication.logout.LogoutFilter@7fad28ac, com.supply.filter.JwtAuthenticationTokenFilter@93ce24d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3cab07dd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68f264bf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@57f89680, org.springframework.security.web.session.SessionManagementFilter@18d1d137, org.springframework.security.web.access.ExceptionTranslationFilter@71b7e9c8, org.springframework.security.web.access.intercept.AuthorizationFilter@194eae3e]
2024-10-07T13:28:08.818+08:00  INFO 13432 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T13:28:08.820+08:00  INFO 13432 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T13:28:08.820+08:00  INFO 13432 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T13:28:08.820+08:00  INFO 13432 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T13:28:08.820+08:00  INFO 13432 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T13:28:08.820+08:00  INFO 13432 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:28:08.820+08:00  INFO 13432 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:28:08.820+08:00  INFO 13432 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:28:08.820+08:00  INFO 13432 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:28:08.820+08:00  INFO 13432 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T13:28:08.821+08:00  INFO 13432 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T13:28:08.858+08:00  INFO 13432 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#2d8087da:0/SimpleConnection@44d6f9cf [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=58352]
2024-10-07T13:28:08.915+08:00  INFO 13432 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.847 seconds (process running for 3.278)
2024-10-07T13:28:10.166+08:00  INFO 13432 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T13:28:10.166+08:00  INFO 13432 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T13:28:10.167+08:00  INFO 13432 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-07T13:28:10.540+08:00  INFO 13432 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 3 验证通过
2024-10-07T13:28:10.563+08:00  INFO 13432 --- [http-nio-10102-exec-1] com.supply.websocket.ChatEndPoint        : 用户 3 已连接
2024-10-07T13:28:10.592+08:00  INFO 13432 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:28:10
2024-10-07T13:28:28.218+08:00 ERROR 13432 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 发送缓存消息失败！错误：class com.alibaba.fastjson.JSONArray cannot be cast to class java.lang.String (com.alibaba.fastjson.JSONArray is in unnamed module of loader 'app'; java.lang.String is in module java.base of loader 'bootstrap')
2024-10-07T13:28:28.255+08:00  INFO 13432 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:28:28.256+08:00  INFO 13432 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:28:28.257+08:00  INFO 13432 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:28:28.257+08:00  INFO 13432 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:28:29.227+08:00  INFO 13432 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:28:29.227+08:00  INFO 13432 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:28:29.227+08:00  INFO 13432 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:28:29.227+08:00  INFO 13432 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:28:29.364+08:00  INFO 13432 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 3 已下线
2024-10-07T13:29:13.206+08:00  INFO 19000 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 19000 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T13:29:13.207+08:00  INFO 19000 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T13:29:13.745+08:00  INFO 19000 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T13:29:13.747+08:00  INFO 19000 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T13:29:13.765+08:00  INFO 19000 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2024-10-07T13:29:13.926+08:00  INFO 19000 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T13:29:13.927+08:00  INFO 19000 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:29:13.928+08:00  INFO 19000 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:29:13.928+08:00  INFO 19000 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:29:13.928+08:00  INFO 19000 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:29:13.928+08:00  INFO 19000 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T13:29:13.929+08:00  INFO 19000 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T13:29:13.929+08:00  INFO 19000 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:29:13.929+08:00  INFO 19000 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:29:13.942+08:00  INFO 19000 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T13:29:13.949+08:00  INFO 19000 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T13:29:13.950+08:00  INFO 19000 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T13:29:14.242+08:00  INFO 19000 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T13:29:14.249+08:00  INFO 19000 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T13:29:14.249+08:00  INFO 19000 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T13:29:14.293+08:00  INFO 19000 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T13:29:14.293+08:00  INFO 19000 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1057 ms
2024-10-07T13:29:14.554+08:00  INFO 19000 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T13:29:14.561+08:00  INFO 19000 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T13:29:14.562+08:00  INFO 19000 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T13:29:14.562+08:00  INFO 19000 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T13:29:14.562+08:00  INFO 19000 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T13:29:14.562+08:00  INFO 19000 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T13:29:14.563+08:00  INFO 19000 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T13:29:14.564+08:00  INFO 19000 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T13:29:15.232+08:00  INFO 19000 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@544e6b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b430541, org.springframework.security.web.context.SecurityContextHolderFilter@319058ce, org.springframework.security.web.header.HeaderWriterFilter@35b58254, org.springframework.security.web.authentication.logout.LogoutFilter@6b32b678, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71cc0e35, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b6c740b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65a66a75, org.springframework.security.web.session.SessionManagementFilter@44a9971f, org.springframework.security.web.access.ExceptionTranslationFilter@640a6d4b, org.springframework.security.web.access.intercept.AuthorizationFilter@72b53f27]
2024-10-07T13:29:15.587+08:00  INFO 19000 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T13:29:15.589+08:00  INFO 19000 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T13:29:15.589+08:00  INFO 19000 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T13:29:15.589+08:00  INFO 19000 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T13:29:15.589+08:00  INFO 19000 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T13:29:15.589+08:00  INFO 19000 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:29:15.589+08:00  INFO 19000 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:29:15.589+08:00  INFO 19000 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:29:15.589+08:00  INFO 19000 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:29:15.589+08:00  INFO 19000 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T13:29:15.591+08:00  INFO 19000 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T13:29:15.619+08:00  INFO 19000 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#52d9f36b:0/SimpleConnection@2e51ede1 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=58390]
2024-10-07T13:29:15.675+08:00  INFO 19000 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.742 seconds (process running for 3.048)
2024-10-07T13:29:19.519+08:00  INFO 19000 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T13:29:19.519+08:00  INFO 19000 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T13:29:19.520+08:00  INFO 19000 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-07T13:29:19.874+08:00  INFO 19000 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 3 验证通过
2024-10-07T13:29:19.895+08:00  INFO 19000 --- [http-nio-10102-exec-1] com.supply.websocket.ChatEndPoint        : 用户 3 已连接
2024-10-07T13:29:19.920+08:00  INFO 19000 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:29:19
2024-10-07T13:29:19.921+08:00 ERROR 19000 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 发送缓存消息失败！错误：class com.alibaba.fastjson.JSONObject cannot be cast to class com.supply.entity.MessageCache (com.alibaba.fastjson.JSONObject and com.supply.entity.MessageCache are in unnamed module of loader 'app')
2024-10-07T13:30:56.438+08:00  INFO 19000 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:30:56.439+08:00  INFO 19000 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:30:56.440+08:00  INFO 19000 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:30:56.441+08:00  INFO 19000 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:30:56.467+08:00  INFO 19000 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:30:56.607+08:00  INFO 19000 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:30:57.424+08:00  INFO 19000 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:30:57.424+08:00  INFO 19000 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:30:57.559+08:00  INFO 19000 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 3 已下线
2024-10-07T13:31:00.442+08:00  INFO 19376 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 19376 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T13:31:00.443+08:00  INFO 19376 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T13:31:00.960+08:00  INFO 19376 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T13:31:00.962+08:00  INFO 19376 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T13:31:00.982+08:00  INFO 19376 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2024-10-07T13:31:01.138+08:00  INFO 19376 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T13:31:01.138+08:00  INFO 19376 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:31:01.139+08:00  INFO 19376 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:31:01.139+08:00  INFO 19376 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:31:01.140+08:00  INFO 19376 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:31:01.140+08:00  INFO 19376 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T13:31:01.140+08:00  INFO 19376 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T13:31:01.140+08:00  INFO 19376 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:31:01.140+08:00  INFO 19376 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:31:01.153+08:00  INFO 19376 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T13:31:01.160+08:00  INFO 19376 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T13:31:01.161+08:00  INFO 19376 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T13:31:01.444+08:00  INFO 19376 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T13:31:01.455+08:00  INFO 19376 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T13:31:01.455+08:00  INFO 19376 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T13:31:01.493+08:00  INFO 19376 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T13:31:01.493+08:00  INFO 19376 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1024 ms
2024-10-07T13:31:01.727+08:00  INFO 19376 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T13:31:01.734+08:00  INFO 19376 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T13:31:01.736+08:00  INFO 19376 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T13:31:01.736+08:00  INFO 19376 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T13:31:01.736+08:00  INFO 19376 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T13:31:01.736+08:00  INFO 19376 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T13:31:01.737+08:00  INFO 19376 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T13:31:01.737+08:00  INFO 19376 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T13:31:02.373+08:00  INFO 19376 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5b430541, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@65a66a75, org.springframework.security.web.context.SecurityContextHolderFilter@3909308c, org.springframework.security.web.header.HeaderWriterFilter@73baf7f0, org.springframework.security.web.authentication.logout.LogoutFilter@1b6683c4, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3b6c740b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8091d80, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5a07ae2f, org.springframework.security.web.session.SessionManagementFilter@2e2cd42c, org.springframework.security.web.access.ExceptionTranslationFilter@1238a074, org.springframework.security.web.access.intercept.AuthorizationFilter@1be4a7e3]
2024-10-07T13:31:02.723+08:00  INFO 19376 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T13:31:02.724+08:00  INFO 19376 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T13:31:02.725+08:00  INFO 19376 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T13:31:02.725+08:00  INFO 19376 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T13:31:02.725+08:00  INFO 19376 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T13:31:02.725+08:00  INFO 19376 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:31:02.725+08:00  INFO 19376 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:31:02.725+08:00  INFO 19376 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:31:02.725+08:00  INFO 19376 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:31:02.725+08:00  INFO 19376 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T13:31:02.726+08:00  INFO 19376 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T13:31:02.753+08:00  INFO 19376 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#52d9f36b:0/SimpleConnection@6265a548 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=58435]
2024-10-07T13:31:02.800+08:00  INFO 19376 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.624 seconds (process running for 2.952)
2024-10-07T13:31:05.969+08:00  INFO 19376 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T13:31:05.969+08:00  INFO 19376 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T13:31:05.970+08:00  INFO 19376 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-07T13:31:06.323+08:00  INFO 19376 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 3 验证通过
2024-10-07T13:31:06.344+08:00  INFO 19376 --- [http-nio-10102-exec-1] com.supply.websocket.ChatEndPoint        : 用户 3 已连接
2024-10-07T13:31:06.369+08:00  INFO 19376 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:31:06
2024-10-07T13:31:06.370+08:00 ERROR 19376 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 发送缓存消息失败！错误：class com.alibaba.fastjson.JSONObject cannot be cast to class com.supply.entity.MessageCache (com.alibaba.fastjson.JSONObject and com.supply.entity.MessageCache are in unnamed module of loader 'app')
2024-10-07T13:31:16.883+08:00  INFO 19376 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:31:16.886+08:00  INFO 19376 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:31:16.887+08:00  INFO 19376 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:31:16.887+08:00  INFO 19376 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:31:16.888+08:00  INFO 19376 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:31:17.437+08:00  INFO 19376 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:31:17.883+08:00  INFO 19376 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:31:17.883+08:00  INFO 19376 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:31:18.019+08:00  INFO 19376 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 3 已下线
2024-10-07T13:31:19.921+08:00  INFO 3400 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 3400 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T13:31:19.923+08:00  INFO 3400 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T13:31:20.497+08:00  INFO 3400 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T13:31:20.499+08:00  INFO 3400 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T13:31:20.520+08:00  INFO 3400 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2024-10-07T13:31:20.691+08:00  INFO 3400 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T13:31:20.691+08:00  INFO 3400 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:31:20.692+08:00  INFO 3400 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:31:20.692+08:00  INFO 3400 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:31:20.693+08:00  INFO 3400 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:31:20.693+08:00  INFO 3400 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T13:31:20.693+08:00  INFO 3400 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T13:31:20.693+08:00  INFO 3400 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:31:20.693+08:00  INFO 3400 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:31:20.708+08:00  INFO 3400 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T13:31:20.716+08:00  INFO 3400 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T13:31:20.717+08:00  INFO 3400 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T13:31:21.037+08:00  INFO 3400 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T13:31:21.045+08:00  INFO 3400 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T13:31:21.045+08:00  INFO 3400 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T13:31:21.085+08:00  INFO 3400 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T13:31:21.085+08:00  INFO 3400 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1133 ms
2024-10-07T13:31:21.347+08:00  INFO 3400 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T13:31:21.358+08:00  INFO 3400 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T13:31:21.359+08:00  INFO 3400 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T13:31:21.359+08:00  INFO 3400 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T13:31:21.360+08:00  INFO 3400 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T13:31:21.360+08:00  INFO 3400 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T13:31:21.361+08:00  INFO 3400 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T13:31:21.361+08:00  INFO 3400 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T13:31:22.151+08:00  INFO 3400 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@de40aa1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@61b76a7d, org.springframework.security.web.context.SecurityContextHolderFilter@ef220e4, org.springframework.security.web.header.HeaderWriterFilter@2ef1fc8a, org.springframework.security.web.authentication.logout.LogoutFilter@7fad28ac, com.supply.filter.JwtAuthenticationTokenFilter@93ce24d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3cab07dd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68f264bf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@57f89680, org.springframework.security.web.session.SessionManagementFilter@18d1d137, org.springframework.security.web.access.ExceptionTranslationFilter@71b7e9c8, org.springframework.security.web.access.intercept.AuthorizationFilter@194eae3e]
2024-10-07T13:31:22.546+08:00  INFO 3400 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T13:31:22.547+08:00  INFO 3400 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T13:31:22.547+08:00  INFO 3400 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T13:31:22.547+08:00  INFO 3400 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T13:31:22.547+08:00  INFO 3400 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T13:31:22.547+08:00  INFO 3400 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:31:22.547+08:00  INFO 3400 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:31:22.547+08:00  INFO 3400 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:31:22.547+08:00  INFO 3400 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:31:22.548+08:00  INFO 3400 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T13:31:22.549+08:00  INFO 3400 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T13:31:22.583+08:00  INFO 3400 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#2d8087da:0/SimpleConnection@44d6f9cf [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=58467]
2024-10-07T13:31:22.645+08:00  INFO 3400 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 3.014 seconds (process running for 3.459)
2024-10-07T13:31:26.847+08:00  INFO 3400 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T13:31:26.847+08:00  INFO 3400 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T13:31:26.848+08:00  INFO 3400 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2024-10-07T13:31:27.222+08:00  INFO 3400 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 3 验证通过
2024-10-07T13:31:27.245+08:00  INFO 3400 --- [http-nio-10102-exec-1] com.supply.websocket.ChatEndPoint        : 用户 3 已连接
2024-10-07T13:31:27.272+08:00  INFO 3400 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:31:27
2024-10-07T13:32:04.047+08:00 ERROR 3400 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 发送缓存消息失败！错误：class com.alibaba.fastjson.JSONObject cannot be cast to class com.supply.entity.MessageCache (com.alibaba.fastjson.JSONObject and com.supply.entity.MessageCache are in unnamed module of loader 'app')
2024-10-07T13:32:04.085+08:00  INFO 3400 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:32:04.086+08:00  INFO 3400 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:32:04.087+08:00  INFO 3400 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:32:04.088+08:00  INFO 3400 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:32:05.048+08:00  INFO 3400 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:32:05.048+08:00  INFO 3400 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:32:05.048+08:00  INFO 3400 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:32:05.064+08:00  INFO 3400 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:32:05.198+08:00  INFO 3400 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 3 已下线
2024-10-07T13:39:29.567+08:00  INFO 9652 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 9652 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T13:39:29.569+08:00  INFO 9652 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T13:39:30.146+08:00  INFO 9652 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T13:39:30.148+08:00  INFO 9652 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T13:39:30.167+08:00  INFO 9652 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2024-10-07T13:39:30.333+08:00  INFO 9652 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T13:39:30.333+08:00  INFO 9652 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:39:30.334+08:00  INFO 9652 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:39:30.334+08:00  INFO 9652 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:39:30.334+08:00  INFO 9652 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:39:30.334+08:00  INFO 9652 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T13:39:30.334+08:00  INFO 9652 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T13:39:30.335+08:00  INFO 9652 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:39:30.335+08:00  INFO 9652 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:39:30.349+08:00  INFO 9652 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T13:39:30.356+08:00  INFO 9652 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T13:39:30.357+08:00  INFO 9652 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T13:39:30.642+08:00  INFO 9652 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T13:39:30.649+08:00  INFO 9652 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T13:39:30.649+08:00  INFO 9652 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T13:39:30.691+08:00  INFO 9652 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T13:39:30.692+08:00  INFO 9652 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1097 ms
2024-10-07T13:39:30.931+08:00  INFO 9652 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T13:39:30.937+08:00  INFO 9652 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T13:39:30.938+08:00  INFO 9652 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T13:39:30.938+08:00  INFO 9652 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T13:39:30.938+08:00  INFO 9652 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T13:39:30.938+08:00  INFO 9652 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T13:39:30.939+08:00  INFO 9652 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T13:39:30.939+08:00  INFO 9652 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T13:39:31.585+08:00  INFO 9652 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@544e6b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b430541, org.springframework.security.web.context.SecurityContextHolderFilter@319058ce, org.springframework.security.web.header.HeaderWriterFilter@35b58254, org.springframework.security.web.authentication.logout.LogoutFilter@6b32b678, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71cc0e35, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b6c740b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65a66a75, org.springframework.security.web.session.SessionManagementFilter@44a9971f, org.springframework.security.web.access.ExceptionTranslationFilter@640a6d4b, org.springframework.security.web.access.intercept.AuthorizationFilter@72b53f27]
2024-10-07T13:39:31.948+08:00  INFO 9652 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T13:39:31.949+08:00  INFO 9652 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T13:39:31.949+08:00  INFO 9652 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T13:39:31.949+08:00  INFO 9652 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T13:39:31.949+08:00  INFO 9652 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T13:39:31.949+08:00  INFO 9652 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:39:31.949+08:00  INFO 9652 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:39:31.949+08:00  INFO 9652 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:39:31.949+08:00  INFO 9652 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:39:31.949+08:00  INFO 9652 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T13:39:31.951+08:00  INFO 9652 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T13:39:31.980+08:00  INFO 9652 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#52d9f36b:0/SimpleConnection@3d00e981 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=58696]
2024-10-07T13:39:32.028+08:00  INFO 9652 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.731 seconds (process running for 3.194)
2024-10-07T13:39:36.952+08:00  INFO 9652 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T13:39:36.952+08:00  INFO 9652 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T13:39:36.953+08:00  INFO 9652 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-07T13:39:37.317+08:00  INFO 9652 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 3 验证通过
2024-10-07T13:39:37.337+08:00  INFO 9652 --- [http-nio-10102-exec-1] com.supply.websocket.ChatEndPoint        : 用户 3 已连接
2024-10-07T13:39:37.363+08:00  INFO 9652 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:39:37
2024-10-07T13:39:38.377+08:00  WARN 9652 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] s.a.r.l.ConditionalRejectingErrorHandler : Execution of Rabbit message listener failed.

org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method 'public void com.supply.consumer.MessageConsumer.listenMessageQueue(java.lang.String)' threw exception
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:287) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.retry.interceptor.StatefulRetryOperationsInterceptor$StatefulMethodInvocationRetryCallback.doWithRetry(StatefulRetryOperationsInterceptor.java:209) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:335) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:257) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.retry.interceptor.StatefulRetryOperationsInterceptor.invoke(StatefulRetryOperationsInterceptor.java:166) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.amqp.rabbit.listener.$Proxy129.invokeListener(Unknown Source) ~[na:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at io.micrometer.observation.Observation.observe(Observation.java:499) ~[micrometer-observation-1.12.5.jar:1.12.5]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1420) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: com.alibaba.fastjson.JSONException: can not cast to JSONObject.
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:260) ~[fastjson-1.2.83.jar:na]
	at com.supply.consumer.MessageConsumer.listenMessageQueue(MessageConsumer.java:78) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-6.1.6.jar:6.1.6]
	at org.springframework.amqp.rabbit.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-6.1.6.jar:6.1.6]
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278) ~[spring-rabbit-3.1.4.jar:3.1.4]
	... 29 common frames omitted
Caused by: java.lang.ClassCastException: class com.alibaba.fastjson.JSONArray cannot be cast to class com.alibaba.fastjson.JSONObject (com.alibaba.fastjson.JSONArray and com.alibaba.fastjson.JSONObject are in unnamed module of loader 'app')
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:258) ~[fastjson-1.2.83.jar:na]
	... 39 common frames omitted

2024-10-07T13:39:38.382+08:00  INFO 9652 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:39:38
2024-10-07T13:39:39.399+08:00 ERROR 9652 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] o.s.a.r.l.SimpleMessageListenerContainer : Consumer received fatal exception during processing

org.springframework.amqp.rabbit.listener.exception.FatalListenerExecutionException: Illegal null id in message. Failed to manage retry for message: (Body:'[serialized object]' MessageProperties [headers={}, contentType=application/x-java-serialized-object, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=true, receivedExchange=message.direct, receivedRoutingKey=messageDirect, deliveryTag=2, consumerTag=amq.ctag-B6dt8a-xxlIvFFXUwQnP5A, consumerQueue=message.queue])
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.checkStatefulRetry(AbstractMessageListenerContainer.java:1557) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1548) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at io.micrometer.observation.Observation.observe(Observation.java:499) ~[micrometer-observation-1.12.5.jar:1.12.5]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1420) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method 'public void com.supply.consumer.MessageConsumer.listenMessageQueue(java.lang.String)' threw exception
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:287) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.retry.interceptor.StatefulRetryOperationsInterceptor$StatefulMethodInvocationRetryCallback.doWithRetry(StatefulRetryOperationsInterceptor.java:209) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:335) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:257) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.retry.interceptor.StatefulRetryOperationsInterceptor.invoke(StatefulRetryOperationsInterceptor.java:166) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.amqp.rabbit.listener.$Proxy129.invokeListener(Unknown Source) ~[na:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528) ~[spring-rabbit-3.1.4.jar:3.1.4]
	... 8 common frames omitted
Caused by: com.alibaba.fastjson.JSONException: can not cast to JSONObject.
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:260) ~[fastjson-1.2.83.jar:na]
	at com.supply.consumer.MessageConsumer.listenMessageQueue(MessageConsumer.java:78) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-6.1.6.jar:6.1.6]
	at org.springframework.amqp.rabbit.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-6.1.6.jar:6.1.6]
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278) ~[spring-rabbit-3.1.4.jar:3.1.4]
	... 29 common frames omitted
Caused by: java.lang.ClassCastException: class com.alibaba.fastjson.JSONArray cannot be cast to class com.alibaba.fastjson.JSONObject (com.alibaba.fastjson.JSONArray and com.alibaba.fastjson.JSONObject are in unnamed module of loader 'app')
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:258) ~[fastjson-1.2.83.jar:na]
	... 39 common frames omitted

2024-10-07T13:39:39.403+08:00 ERROR 9652 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] o.s.a.r.l.SimpleMessageListenerContainer : Stopping container from aborted consumer
2024-10-07T13:39:39.404+08:00  INFO 9652 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:39:39.404+08:00  INFO 9652 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:43:20.237+08:00  INFO 9652 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:43:20.238+08:00  INFO 9652 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:43:20.239+08:00  INFO 9652 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:43:20.871+08:00  INFO 9652 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:43:20.963+08:00  INFO 9652 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:43:20.963+08:00  INFO 9652 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:43:21.099+08:00  INFO 9652 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 3 已下线
2024-10-07T13:43:23.841+08:00  INFO 4272 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 4272 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T13:43:23.843+08:00  INFO 4272 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T13:43:24.454+08:00  INFO 4272 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T13:43:24.455+08:00  INFO 4272 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T13:43:24.474+08:00  INFO 4272 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2024-10-07T13:43:24.670+08:00  INFO 4272 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T13:43:24.670+08:00  INFO 4272 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:43:24.671+08:00  INFO 4272 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:43:24.671+08:00  INFO 4272 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:43:24.672+08:00  INFO 4272 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:43:24.672+08:00  INFO 4272 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T13:43:24.672+08:00  INFO 4272 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T13:43:24.672+08:00  INFO 4272 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:43:24.672+08:00  INFO 4272 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:43:24.688+08:00  INFO 4272 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T13:43:24.696+08:00  INFO 4272 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T13:43:24.697+08:00  INFO 4272 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T13:43:25.024+08:00  INFO 4272 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T13:43:25.032+08:00  INFO 4272 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T13:43:25.033+08:00  INFO 4272 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T13:43:25.085+08:00  INFO 4272 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T13:43:25.086+08:00  INFO 4272 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1217 ms
2024-10-07T13:43:25.327+08:00  INFO 4272 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T13:43:25.334+08:00  INFO 4272 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T13:43:25.334+08:00  INFO 4272 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T13:43:25.334+08:00  INFO 4272 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T13:43:25.335+08:00  INFO 4272 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T13:43:25.335+08:00  INFO 4272 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T13:43:25.335+08:00  INFO 4272 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T13:43:25.336+08:00  INFO 4272 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T13:43:25.989+08:00  INFO 4272 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@544e6b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b430541, org.springframework.security.web.context.SecurityContextHolderFilter@319058ce, org.springframework.security.web.header.HeaderWriterFilter@35b58254, org.springframework.security.web.authentication.logout.LogoutFilter@6b32b678, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71cc0e35, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b6c740b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65a66a75, org.springframework.security.web.session.SessionManagementFilter@44a9971f, org.springframework.security.web.access.ExceptionTranslationFilter@640a6d4b, org.springframework.security.web.access.intercept.AuthorizationFilter@72b53f27]
2024-10-07T13:43:26.334+08:00  INFO 4272 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T13:43:26.335+08:00  INFO 4272 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T13:43:26.336+08:00  INFO 4272 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T13:43:26.336+08:00  INFO 4272 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T13:43:26.336+08:00  INFO 4272 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T13:43:26.336+08:00  INFO 4272 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:43:26.336+08:00  INFO 4272 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:43:26.336+08:00  INFO 4272 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:43:26.336+08:00  INFO 4272 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:43:26.336+08:00  INFO 4272 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T13:43:26.337+08:00  INFO 4272 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T13:43:26.365+08:00  INFO 4272 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#52d9f36b:0/SimpleConnection@3d00e981 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=58764]
2024-10-07T13:43:26.421+08:00  INFO 4272 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.861 seconds (process running for 3.206)
2024-10-07T13:43:26.428+08:00  INFO 4272 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:43:26
2024-10-07T13:43:27.760+08:00 ERROR 4272 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] o.s.a.r.l.SimpleMessageListenerContainer : Consumer received fatal exception during processing

org.springframework.amqp.rabbit.listener.exception.FatalListenerExecutionException: Illegal null id in message. Failed to manage retry for message: (Body:'[serialized object]' MessageProperties [headers={}, contentType=application/x-java-serialized-object, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=true, receivedExchange=message.direct, receivedRoutingKey=messageDirect, deliveryTag=1, consumerTag=amq.ctag-ip_BSgwdUjb0UeADkNFw4Q, consumerQueue=message.queue])
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.checkStatefulRetry(AbstractMessageListenerContainer.java:1557) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1548) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at io.micrometer.observation.Observation.observe(Observation.java:499) ~[micrometer-observation-1.12.5.jar:1.12.5]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1420) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method 'public void com.supply.consumer.MessageConsumer.listenMessageQueue(java.lang.String)' threw exception
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:287) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.retry.interceptor.StatefulRetryOperationsInterceptor$StatefulMethodInvocationRetryCallback.doWithRetry(StatefulRetryOperationsInterceptor.java:209) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:335) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:257) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.retry.interceptor.StatefulRetryOperationsInterceptor.invoke(StatefulRetryOperationsInterceptor.java:166) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.amqp.rabbit.listener.$Proxy129.invokeListener(Unknown Source) ~[na:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528) ~[spring-rabbit-3.1.4.jar:3.1.4]
	... 8 common frames omitted
Caused by: java.lang.NullPointerException: Cannot invoke "jakarta.websocket.Session.getBasicRemote()" because "toUserSession" is null
	at com.supply.websocket.ChatEndPoint.sendMessageToUser(ChatEndPoint.java:116) ~[classes/:na]
	at com.supply.consumer.MessageConsumer.listenMessageQueue(MessageConsumer.java:91) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-6.1.6.jar:6.1.6]
	at org.springframework.amqp.rabbit.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-6.1.6.jar:6.1.6]
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278) ~[spring-rabbit-3.1.4.jar:3.1.4]
	... 29 common frames omitted

2024-10-07T13:43:27.767+08:00 ERROR 4272 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] o.s.a.r.l.SimpleMessageListenerContainer : Stopping container from aborted consumer
2024-10-07T13:43:27.768+08:00  INFO 4272 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:43:27.768+08:00  INFO 4272 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:43:39.247+08:00  INFO 4272 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:43:39.248+08:00  INFO 4272 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:43:39.249+08:00  INFO 4272 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:43:39.465+08:00  INFO 4272 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:43:39.465+08:00  INFO 4272 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:43:39.512+08:00  INFO 4272 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:43:41.486+08:00  INFO 17252 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 17252 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T13:43:41.487+08:00  INFO 17252 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T13:43:42.063+08:00  INFO 17252 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T13:43:42.065+08:00  INFO 17252 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T13:43:42.083+08:00  INFO 17252 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2024-10-07T13:43:42.248+08:00  INFO 17252 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T13:43:42.249+08:00  INFO 17252 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:43:42.249+08:00  INFO 17252 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:43:42.249+08:00  INFO 17252 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:43:42.250+08:00  INFO 17252 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:43:42.250+08:00  INFO 17252 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T13:43:42.250+08:00  INFO 17252 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T13:43:42.250+08:00  INFO 17252 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:43:42.250+08:00  INFO 17252 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:43:42.264+08:00  INFO 17252 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T13:43:42.272+08:00  INFO 17252 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T13:43:42.273+08:00  INFO 17252 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T13:43:42.571+08:00  INFO 17252 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T13:43:42.578+08:00  INFO 17252 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T13:43:42.578+08:00  INFO 17252 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T13:43:42.622+08:00  INFO 17252 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T13:43:42.623+08:00  INFO 17252 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1106 ms
2024-10-07T13:43:42.859+08:00  INFO 17252 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T13:43:42.866+08:00  INFO 17252 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T13:43:42.866+08:00  INFO 17252 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T13:43:42.866+08:00  INFO 17252 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T13:43:42.867+08:00  INFO 17252 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T13:43:42.867+08:00  INFO 17252 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T13:43:42.867+08:00  INFO 17252 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T13:43:42.868+08:00  INFO 17252 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T13:43:43.511+08:00  INFO 17252 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@544e6b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b430541, org.springframework.security.web.context.SecurityContextHolderFilter@319058ce, org.springframework.security.web.header.HeaderWriterFilter@35b58254, org.springframework.security.web.authentication.logout.LogoutFilter@6b32b678, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71cc0e35, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b6c740b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65a66a75, org.springframework.security.web.session.SessionManagementFilter@44a9971f, org.springframework.security.web.access.ExceptionTranslationFilter@640a6d4b, org.springframework.security.web.access.intercept.AuthorizationFilter@72b53f27]
2024-10-07T13:43:43.856+08:00  INFO 17252 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T13:43:43.858+08:00  INFO 17252 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T13:43:43.859+08:00  INFO 17252 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T13:43:43.859+08:00  INFO 17252 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T13:43:43.859+08:00  INFO 17252 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T13:43:43.859+08:00  INFO 17252 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:43:43.859+08:00  INFO 17252 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:43:43.859+08:00  INFO 17252 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:43:43.859+08:00  INFO 17252 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:43:43.859+08:00  INFO 17252 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T13:43:43.860+08:00  INFO 17252 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T13:43:43.887+08:00  INFO 17252 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#52d9f36b:0/SimpleConnection@3d00e981 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=58783]
2024-10-07T13:43:43.937+08:00  INFO 17252 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.731 seconds (process running for 3.156)
2024-10-07T13:43:43.956+08:00  INFO 17252 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:43:43
2024-10-07T13:43:45.303+08:00 ERROR 17252 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] o.s.a.r.l.SimpleMessageListenerContainer : Consumer received fatal exception during processing

org.springframework.amqp.rabbit.listener.exception.FatalListenerExecutionException: Illegal null id in message. Failed to manage retry for message: (Body:'[serialized object]' MessageProperties [headers={}, contentType=application/x-java-serialized-object, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=true, receivedExchange=message.direct, receivedRoutingKey=messageDirect, deliveryTag=1, consumerTag=amq.ctag-fvUr_9InlMqUV9iFdWxgKg, consumerQueue=message.queue])
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.checkStatefulRetry(AbstractMessageListenerContainer.java:1557) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1548) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at io.micrometer.observation.Observation.observe(Observation.java:499) ~[micrometer-observation-1.12.5.jar:1.12.5]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1420) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method 'public void com.supply.consumer.MessageConsumer.listenMessageQueue(java.lang.String)' threw exception
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:287) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.retry.interceptor.StatefulRetryOperationsInterceptor$StatefulMethodInvocationRetryCallback.doWithRetry(StatefulRetryOperationsInterceptor.java:209) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:335) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:257) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.retry.interceptor.StatefulRetryOperationsInterceptor.invoke(StatefulRetryOperationsInterceptor.java:166) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.amqp.rabbit.listener.$Proxy129.invokeListener(Unknown Source) ~[na:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528) ~[spring-rabbit-3.1.4.jar:3.1.4]
	... 8 common frames omitted
Caused by: java.lang.NullPointerException: Cannot invoke "jakarta.websocket.Session.getBasicRemote()" because "toUserSession" is null
	at com.supply.websocket.ChatEndPoint.sendMessageToUser(ChatEndPoint.java:116) ~[classes/:na]
	at com.supply.consumer.MessageConsumer.listenMessageQueue(MessageConsumer.java:91) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-6.1.6.jar:6.1.6]
	at org.springframework.amqp.rabbit.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-6.1.6.jar:6.1.6]
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278) ~[spring-rabbit-3.1.4.jar:3.1.4]
	... 29 common frames omitted

2024-10-07T13:43:45.309+08:00 ERROR 17252 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] o.s.a.r.l.SimpleMessageListenerContainer : Stopping container from aborted consumer
2024-10-07T13:43:45.309+08:00  INFO 17252 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:43:45.309+08:00  INFO 17252 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:43:53.694+08:00  INFO 17252 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T13:43:53.694+08:00  INFO 17252 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T13:43:53.695+08:00  INFO 17252 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-07T13:43:53.746+08:00  INFO 17252 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 3 验证通过
2024-10-07T13:43:53.767+08:00  INFO 17252 --- [http-nio-10102-exec-1] com.supply.websocket.ChatEndPoint        : 用户 3 已连接
2024-10-07T13:48:08.325+08:00  INFO 17252 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:48:08.326+08:00  INFO 17252 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:48:08.327+08:00  INFO 17252 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:48:09.055+08:00  INFO 17252 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:48:09.071+08:00  INFO 17252 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:48:09.086+08:00  INFO 17252 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:48:09.222+08:00  INFO 17252 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 3 已下线
2024-10-07T13:48:11.862+08:00  INFO 22124 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 22124 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T13:48:11.864+08:00  INFO 22124 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T13:48:12.426+08:00  INFO 22124 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T13:48:12.428+08:00  INFO 22124 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T13:48:12.446+08:00  INFO 22124 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2024-10-07T13:48:12.604+08:00  INFO 22124 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T13:48:12.605+08:00  INFO 22124 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:48:12.605+08:00  INFO 22124 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:48:12.605+08:00  INFO 22124 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:48:12.606+08:00  INFO 22124 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:48:12.606+08:00  INFO 22124 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T13:48:12.606+08:00  INFO 22124 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T13:48:12.606+08:00  INFO 22124 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:48:12.606+08:00  INFO 22124 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:48:12.620+08:00  INFO 22124 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T13:48:12.626+08:00  INFO 22124 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T13:48:12.627+08:00  INFO 22124 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T13:48:12.906+08:00  INFO 22124 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T13:48:12.913+08:00  INFO 22124 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T13:48:12.913+08:00  INFO 22124 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T13:48:12.957+08:00  INFO 22124 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T13:48:12.958+08:00  INFO 22124 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1068 ms
2024-10-07T13:48:13.184+08:00  INFO 22124 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T13:48:13.190+08:00  INFO 22124 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T13:48:13.191+08:00  INFO 22124 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T13:48:13.191+08:00  INFO 22124 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T13:48:13.191+08:00  INFO 22124 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T13:48:13.191+08:00  INFO 22124 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T13:48:13.192+08:00  INFO 22124 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T13:48:13.192+08:00  INFO 22124 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T13:48:13.839+08:00  INFO 22124 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@544e6b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b430541, org.springframework.security.web.context.SecurityContextHolderFilter@319058ce, org.springframework.security.web.header.HeaderWriterFilter@35b58254, org.springframework.security.web.authentication.logout.LogoutFilter@6b32b678, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71cc0e35, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b6c740b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65a66a75, org.springframework.security.web.session.SessionManagementFilter@44a9971f, org.springframework.security.web.access.ExceptionTranslationFilter@640a6d4b, org.springframework.security.web.access.intercept.AuthorizationFilter@72b53f27]
2024-10-07T13:48:14.180+08:00  INFO 22124 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T13:48:14.181+08:00  INFO 22124 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T13:48:14.182+08:00  INFO 22124 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T13:48:14.182+08:00  INFO 22124 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T13:48:14.182+08:00  INFO 22124 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T13:48:14.182+08:00  INFO 22124 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:48:14.182+08:00  INFO 22124 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:48:14.182+08:00  INFO 22124 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:48:14.182+08:00  INFO 22124 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:48:14.182+08:00  INFO 22124 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T13:48:14.183+08:00  INFO 22124 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T13:48:14.208+08:00  INFO 22124 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#52d9f36b:0/SimpleConnection@3d00e981 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=58938]
2024-10-07T13:48:14.262+08:00  INFO 22124 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.662 seconds (process running for 2.979)
2024-10-07T13:48:14.265+08:00  INFO 22124 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:48:14
2024-10-07T13:48:15.614+08:00 ERROR 22124 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] o.s.a.r.l.SimpleMessageListenerContainer : Consumer received fatal exception during processing

org.springframework.amqp.rabbit.listener.exception.FatalListenerExecutionException: Illegal null id in message. Failed to manage retry for message: (Body:'[serialized object]' MessageProperties [headers={}, contentType=application/x-java-serialized-object, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=true, receivedExchange=message.direct, receivedRoutingKey=messageDirect, deliveryTag=1, consumerTag=amq.ctag-gE7qgchByW5oE_iBSFbnpg, consumerQueue=message.queue])
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.checkStatefulRetry(AbstractMessageListenerContainer.java:1557) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1548) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.lambda$executeListener$8(AbstractMessageListenerContainer.java:1506) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at io.micrometer.observation.Observation.observe(Observation.java:499) ~[micrometer-observation-1.12.5.jar:1.12.5]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListener(AbstractMessageListenerContainer.java:1506) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.doReceiveAndExecute(SimpleMessageListenerContainer.java:1082) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer.receiveAndExecute(SimpleMessageListenerContainer.java:1018) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.mainLoop(SimpleMessageListenerContainer.java:1420) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1322) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at java.base/java.lang.Thread.run(Thread.java:842) ~[na:na]
Caused by: org.springframework.amqp.rabbit.support.ListenerExecutionFailedException: Listener method 'public void com.supply.consumer.MessageConsumer.listenMessageQueue(java.lang.String)' threw exception
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:287) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandlerAndProcessResult(MessagingMessageListenerAdapter.java:225) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:149) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doInvokeListener(AbstractMessageListenerContainer.java:1682) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.actualInvokeListener(AbstractMessageListenerContainer.java:1604) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.retry.interceptor.StatefulRetryOperationsInterceptor$StatefulMethodInvocationRetryCallback.doWithRetry(StatefulRetryOperationsInterceptor.java:209) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:335) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:257) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.retry.interceptor.StatefulRetryOperationsInterceptor.invoke(StatefulRetryOperationsInterceptor.java:166) ~[spring-retry-2.0.5.jar:na]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.4.jar:6.0.4]
	at org.springframework.amqp.rabbit.listener.$Proxy129.invokeListener(Unknown Source) ~[na:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.invokeListener(AbstractMessageListenerContainer.java:1592) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:1583) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.executeListenerAndHandleException(AbstractMessageListenerContainer.java:1528) ~[spring-rabbit-3.1.4.jar:3.1.4]
	... 8 common frames omitted
Caused by: java.lang.NullPointerException: Cannot invoke "jakarta.websocket.Session.getBasicRemote()" because "toUserSession" is null
	at com.supply.websocket.ChatEndPoint.sendMessageToUser(ChatEndPoint.java:116) ~[classes/:na]
	at com.supply.consumer.MessageConsumer.listenMessageQueue(MessageConsumer.java:87) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169) ~[spring-messaging-6.1.6.jar:6.1.6]
	at org.springframework.amqp.rabbit.listener.adapter.KotlinAwareInvocableHandlerMethod.doInvoke(KotlinAwareInvocableHandlerMethod.java:45) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119) ~[spring-messaging-6.1.6.jar:6.1.6]
	at org.springframework.amqp.rabbit.listener.adapter.HandlerAdapter.invoke(HandlerAdapter.java:75) ~[spring-rabbit-3.1.4.jar:3.1.4]
	at org.springframework.amqp.rabbit.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:278) ~[spring-rabbit-3.1.4.jar:3.1.4]
	... 29 common frames omitted

2024-10-07T13:48:15.620+08:00 ERROR 22124 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] o.s.a.r.l.SimpleMessageListenerContainer : Stopping container from aborted consumer
2024-10-07T13:48:15.620+08:00  INFO 22124 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:48:15.620+08:00  INFO 22124 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:48:30.426+08:00  INFO 22124 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:48:30.427+08:00  INFO 22124 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:48:30.428+08:00  INFO 22124 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:48:31.395+08:00  INFO 22124 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:48:31.395+08:00  INFO 22124 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:48:31.411+08:00  INFO 22124 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:48:34.138+08:00  INFO 7248 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 7248 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T13:48:34.139+08:00  INFO 7248 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T13:48:34.653+08:00  INFO 7248 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T13:48:34.655+08:00  INFO 7248 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T13:48:34.673+08:00  INFO 7248 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2024-10-07T13:48:34.823+08:00  INFO 7248 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T13:48:34.823+08:00  INFO 7248 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:48:34.824+08:00  INFO 7248 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:48:34.824+08:00  INFO 7248 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:48:34.825+08:00  INFO 7248 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:48:34.825+08:00  INFO 7248 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T13:48:34.825+08:00  INFO 7248 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T13:48:34.825+08:00  INFO 7248 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:48:34.825+08:00  INFO 7248 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:48:34.838+08:00  INFO 7248 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T13:48:34.845+08:00  INFO 7248 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T13:48:34.846+08:00  INFO 7248 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T13:48:35.129+08:00  INFO 7248 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T13:48:35.140+08:00  INFO 7248 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T13:48:35.141+08:00  INFO 7248 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T13:48:35.180+08:00  INFO 7248 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T13:48:35.180+08:00  INFO 7248 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1015 ms
2024-10-07T13:48:35.416+08:00  INFO 7248 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T13:48:35.422+08:00  INFO 7248 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T13:48:35.422+08:00  INFO 7248 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T13:48:35.422+08:00  INFO 7248 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T13:48:35.423+08:00  INFO 7248 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T13:48:35.423+08:00  INFO 7248 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T13:48:35.424+08:00  INFO 7248 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T13:48:35.424+08:00  INFO 7248 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T13:48:36.058+08:00  INFO 7248 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@544e6b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b430541, org.springframework.security.web.context.SecurityContextHolderFilter@319058ce, org.springframework.security.web.header.HeaderWriterFilter@35b58254, org.springframework.security.web.authentication.logout.LogoutFilter@6b32b678, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71cc0e35, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b6c740b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65a66a75, org.springframework.security.web.session.SessionManagementFilter@44a9971f, org.springframework.security.web.access.ExceptionTranslationFilter@640a6d4b, org.springframework.security.web.access.intercept.AuthorizationFilter@72b53f27]
2024-10-07T13:48:36.403+08:00  INFO 7248 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T13:48:36.404+08:00  INFO 7248 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T13:48:36.404+08:00  INFO 7248 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T13:48:36.404+08:00  INFO 7248 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T13:48:36.404+08:00  INFO 7248 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T13:48:36.404+08:00  INFO 7248 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:48:36.404+08:00  INFO 7248 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:48:36.404+08:00  INFO 7248 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:48:36.404+08:00  INFO 7248 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:48:36.404+08:00  INFO 7248 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T13:48:36.405+08:00  INFO 7248 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T13:48:36.431+08:00  INFO 7248 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#52d9f36b:0/SimpleConnection@3d00e981 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=58974]
2024-10-07T13:48:36.476+08:00  INFO 7248 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.596 seconds (process running for 2.923)
2024-10-07T13:48:36.492+08:00  INFO 7248 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:48:36
2024-10-07T13:48:36.497+08:00  INFO 7248 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:48:36
2024-10-07T13:49:33.977+08:00  INFO 7248 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:49:33.979+08:00  INFO 7248 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:49:33.979+08:00  INFO 7248 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:49:33.980+08:00  INFO 7248 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:49:34.892+08:00  INFO 7248 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:49:34.892+08:00  INFO 7248 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:49:34.908+08:00  INFO 7248 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:49:34.908+08:00  INFO 7248 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:49:37.765+08:00  INFO 21744 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 21744 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T13:49:37.766+08:00  INFO 21744 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T13:49:38.286+08:00  INFO 21744 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T13:49:38.287+08:00  INFO 21744 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T13:49:38.306+08:00  INFO 21744 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2024-10-07T13:49:38.460+08:00  INFO 21744 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T13:49:38.460+08:00  INFO 21744 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:49:38.461+08:00  INFO 21744 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:49:38.461+08:00  INFO 21744 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:49:38.462+08:00  INFO 21744 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:49:38.462+08:00  INFO 21744 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T13:49:38.462+08:00  INFO 21744 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T13:49:38.462+08:00  INFO 21744 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:49:38.462+08:00  INFO 21744 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:49:38.474+08:00  INFO 21744 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T13:49:38.481+08:00  INFO 21744 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T13:49:38.482+08:00  INFO 21744 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T13:49:38.762+08:00  INFO 21744 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T13:49:38.769+08:00  INFO 21744 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T13:49:38.769+08:00  INFO 21744 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T13:49:38.815+08:00  INFO 21744 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T13:49:38.815+08:00  INFO 21744 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1023 ms
2024-10-07T13:49:39.044+08:00  INFO 21744 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T13:49:39.051+08:00  INFO 21744 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T13:49:39.051+08:00  INFO 21744 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T13:49:39.051+08:00  INFO 21744 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T13:49:39.052+08:00  INFO 21744 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T13:49:39.052+08:00  INFO 21744 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T13:49:39.052+08:00  INFO 21744 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T13:49:39.053+08:00  INFO 21744 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T13:49:39.699+08:00  INFO 21744 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@544e6b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b430541, org.springframework.security.web.context.SecurityContextHolderFilter@319058ce, org.springframework.security.web.header.HeaderWriterFilter@35b58254, org.springframework.security.web.authentication.logout.LogoutFilter@6b32b678, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71cc0e35, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b6c740b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65a66a75, org.springframework.security.web.session.SessionManagementFilter@44a9971f, org.springframework.security.web.access.ExceptionTranslationFilter@640a6d4b, org.springframework.security.web.access.intercept.AuthorizationFilter@72b53f27]
2024-10-07T13:49:40.039+08:00  INFO 21744 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T13:49:40.041+08:00  INFO 21744 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T13:49:40.041+08:00  INFO 21744 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T13:49:40.041+08:00  INFO 21744 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T13:49:40.041+08:00  INFO 21744 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T13:49:40.041+08:00  INFO 21744 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:49:40.041+08:00  INFO 21744 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:49:40.041+08:00  INFO 21744 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:49:40.041+08:00  INFO 21744 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:49:40.041+08:00  INFO 21744 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T13:49:40.042+08:00  INFO 21744 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T13:49:40.068+08:00  INFO 21744 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#52d9f36b:0/SimpleConnection@2e51ede1 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=59000]
2024-10-07T13:49:40.114+08:00  INFO 21744 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.612 seconds (process running for 2.945)
2024-10-07T13:49:43.951+08:00  INFO 21744 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T13:49:43.951+08:00  INFO 21744 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T13:49:43.952+08:00  INFO 21744 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-07T13:49:44.303+08:00  INFO 21744 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 3 验证通过
2024-10-07T13:49:44.323+08:00  INFO 21744 --- [http-nio-10102-exec-1] com.supply.websocket.ChatEndPoint        : 用户 3 已连接
2024-10-07T13:49:44.347+08:00  INFO 21744 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:49:44
2024-10-07T13:50:54.404+08:00  INFO 21744 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:50:54.405+08:00  INFO 21744 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:50:54.406+08:00  INFO 21744 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:50:54.407+08:00  INFO 21744 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:50:54.696+08:00  INFO 21744 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:50:54.696+08:00  INFO 21744 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:50:54.696+08:00  INFO 21744 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:50:55.005+08:00  INFO 21744 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:50:55.141+08:00  INFO 21744 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 3 已下线
2024-10-07T13:50:57.766+08:00  INFO 22352 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 22352 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T13:50:57.767+08:00  INFO 22352 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T13:50:58.305+08:00  INFO 22352 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T13:50:58.307+08:00  INFO 22352 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T13:50:58.325+08:00  INFO 22352 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2024-10-07T13:50:58.478+08:00  INFO 22352 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T13:50:58.478+08:00  INFO 22352 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:50:58.479+08:00  INFO 22352 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:50:58.479+08:00  INFO 22352 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:50:58.480+08:00  INFO 22352 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:50:58.480+08:00  INFO 22352 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T13:50:58.480+08:00  INFO 22352 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T13:50:58.480+08:00  INFO 22352 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:50:58.480+08:00  INFO 22352 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:50:58.493+08:00  INFO 22352 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T13:50:58.500+08:00  INFO 22352 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T13:50:58.501+08:00  INFO 22352 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T13:50:58.775+08:00  INFO 22352 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T13:50:58.786+08:00  INFO 22352 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T13:50:58.786+08:00  INFO 22352 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T13:50:58.826+08:00  INFO 22352 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T13:50:58.826+08:00  INFO 22352 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1030 ms
2024-10-07T13:50:59.058+08:00  INFO 22352 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T13:50:59.065+08:00  INFO 22352 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T13:50:59.065+08:00  INFO 22352 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T13:50:59.066+08:00  INFO 22352 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T13:50:59.066+08:00  INFO 22352 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T13:50:59.066+08:00  INFO 22352 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T13:50:59.066+08:00  INFO 22352 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T13:50:59.067+08:00  INFO 22352 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T13:50:59.728+08:00  INFO 22352 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@544e6b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b430541, org.springframework.security.web.context.SecurityContextHolderFilter@319058ce, org.springframework.security.web.header.HeaderWriterFilter@35b58254, org.springframework.security.web.authentication.logout.LogoutFilter@6b32b678, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71cc0e35, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b6c740b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65a66a75, org.springframework.security.web.session.SessionManagementFilter@44a9971f, org.springframework.security.web.access.ExceptionTranslationFilter@640a6d4b, org.springframework.security.web.access.intercept.AuthorizationFilter@72b53f27]
2024-10-07T13:51:00.086+08:00  INFO 22352 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T13:51:00.088+08:00  INFO 22352 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T13:51:00.088+08:00  INFO 22352 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T13:51:00.088+08:00  INFO 22352 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T13:51:00.088+08:00  INFO 22352 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T13:51:00.088+08:00  INFO 22352 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:51:00.088+08:00  INFO 22352 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:51:00.088+08:00  INFO 22352 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:51:00.088+08:00  INFO 22352 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:51:00.088+08:00  INFO 22352 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T13:51:00.089+08:00  INFO 22352 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T13:51:00.115+08:00  INFO 22352 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#52d9f36b:0/SimpleConnection@3d00e981 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=59032]
2024-10-07T13:51:00.158+08:00  INFO 22352 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.669 seconds (process running for 2.981)
2024-10-07T13:51:02.622+08:00  INFO 22352 --- [http-nio-10102-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T13:51:02.622+08:00  INFO 22352 --- [http-nio-10102-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T13:51:02.623+08:00  INFO 22352 --- [http-nio-10102-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-07T13:51:02.977+08:00  INFO 22352 --- [http-nio-10102-exec-2] c.s.filter.JwtAuthenticationTokenFilter  : 用户 3 验证通过
2024-10-07T13:51:02.998+08:00  INFO 22352 --- [http-nio-10102-exec-2] com.supply.websocket.ChatEndPoint        : 用户 3 已连接
2024-10-07T13:51:03.024+08:00  INFO 22352 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:51:03
2024-10-07T13:52:08.035+08:00  INFO 22352 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:52:08.036+08:00  INFO 22352 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:52:08.037+08:00  INFO 22352 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:52:08.039+08:00  INFO 22352 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:52:08.651+08:00  INFO 22352 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:52:08.790+08:00  INFO 22352 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:52:08.790+08:00  INFO 22352 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:52:08.820+08:00  INFO 22352 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:52:08.953+08:00  INFO 22352 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 3 已下线
2024-10-07T13:52:11.730+08:00  INFO 10608 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 10608 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T13:52:11.731+08:00  INFO 10608 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T13:52:12.251+08:00  INFO 10608 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T13:52:12.252+08:00  INFO 10608 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T13:52:12.270+08:00  INFO 10608 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2024-10-07T13:52:12.421+08:00  INFO 10608 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T13:52:12.421+08:00  INFO 10608 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:52:12.422+08:00  INFO 10608 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:52:12.422+08:00  INFO 10608 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:52:12.423+08:00  INFO 10608 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:52:12.423+08:00  INFO 10608 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T13:52:12.423+08:00  INFO 10608 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T13:52:12.423+08:00  INFO 10608 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:52:12.423+08:00  INFO 10608 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:52:12.437+08:00  INFO 10608 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T13:52:12.445+08:00  INFO 10608 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T13:52:12.446+08:00  INFO 10608 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T13:52:12.718+08:00  INFO 10608 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T13:52:12.725+08:00  INFO 10608 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T13:52:12.725+08:00  INFO 10608 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T13:52:12.771+08:00  INFO 10608 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T13:52:12.771+08:00  INFO 10608 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1014 ms
2024-10-07T13:52:13.001+08:00  INFO 10608 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T13:52:13.007+08:00  INFO 10608 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T13:52:13.008+08:00  INFO 10608 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T13:52:13.008+08:00  INFO 10608 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T13:52:13.008+08:00  INFO 10608 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T13:52:13.008+08:00  INFO 10608 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T13:52:13.009+08:00  INFO 10608 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T13:52:13.009+08:00  INFO 10608 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T13:52:13.647+08:00  INFO 10608 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@544e6b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b430541, org.springframework.security.web.context.SecurityContextHolderFilter@319058ce, org.springframework.security.web.header.HeaderWriterFilter@35b58254, org.springframework.security.web.authentication.logout.LogoutFilter@6b32b678, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71cc0e35, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b6c740b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65a66a75, org.springframework.security.web.session.SessionManagementFilter@44a9971f, org.springframework.security.web.access.ExceptionTranslationFilter@640a6d4b, org.springframework.security.web.access.intercept.AuthorizationFilter@72b53f27]
2024-10-07T13:52:14.005+08:00  INFO 10608 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T13:52:14.006+08:00  INFO 10608 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T13:52:14.006+08:00  INFO 10608 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T13:52:14.006+08:00  INFO 10608 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T13:52:14.006+08:00  INFO 10608 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T13:52:14.006+08:00  INFO 10608 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:52:14.006+08:00  INFO 10608 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:52:14.007+08:00  INFO 10608 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:52:14.007+08:00  INFO 10608 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:52:14.007+08:00  INFO 10608 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T13:52:14.008+08:00  INFO 10608 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T13:52:14.035+08:00  INFO 10608 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#52d9f36b:0/SimpleConnection@2e51ede1 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=59117]
2024-10-07T13:52:14.082+08:00  INFO 10608 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.611 seconds (process running for 2.936)
2024-10-07T13:52:17.675+08:00  INFO 10608 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T13:52:17.675+08:00  INFO 10608 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T13:52:17.676+08:00  INFO 10608 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-07T13:52:18.035+08:00  INFO 10608 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 3 验证通过
2024-10-07T13:52:18.055+08:00  INFO 10608 --- [http-nio-10102-exec-1] com.supply.websocket.ChatEndPoint        : 用户 3 已连接
2024-10-07T13:52:18.079+08:00  INFO 10608 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:52:18
2024-10-07T13:55:01.082+08:00  INFO 10608 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:55:01.083+08:00  INFO 10608 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:55:01.084+08:00  INFO 10608 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:55:01.085+08:00  INFO 10608 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:55:01.675+08:00  INFO 10608 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:55:01.675+08:00  INFO 10608 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:55:01.767+08:00  INFO 10608 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:55:01.782+08:00  INFO 10608 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:55:01.919+08:00  INFO 10608 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 3 已下线
2024-10-07T13:55:04.767+08:00  INFO 3388 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 3388 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T13:55:04.769+08:00  INFO 3388 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T13:55:05.355+08:00  INFO 3388 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T13:55:05.356+08:00  INFO 3388 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T13:55:05.374+08:00  INFO 3388 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2024-10-07T13:55:05.527+08:00  INFO 3388 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T13:55:05.528+08:00  INFO 3388 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:55:05.528+08:00  INFO 3388 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:55:05.529+08:00  INFO 3388 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:55:05.529+08:00  INFO 3388 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:55:05.529+08:00  INFO 3388 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T13:55:05.529+08:00  INFO 3388 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T13:55:05.529+08:00  INFO 3388 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:55:05.529+08:00  INFO 3388 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:55:05.542+08:00  INFO 3388 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T13:55:05.548+08:00  INFO 3388 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T13:55:05.549+08:00  INFO 3388 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T13:55:05.821+08:00  INFO 3388 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T13:55:05.828+08:00  INFO 3388 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T13:55:05.829+08:00  INFO 3388 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T13:55:05.872+08:00  INFO 3388 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T13:55:05.873+08:00  INFO 3388 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1076 ms
2024-10-07T13:55:06.105+08:00  INFO 3388 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T13:55:06.114+08:00  INFO 3388 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T13:55:06.115+08:00  INFO 3388 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T13:55:06.115+08:00  INFO 3388 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T13:55:06.115+08:00  INFO 3388 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T13:55:06.115+08:00  INFO 3388 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T13:55:06.116+08:00  INFO 3388 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T13:55:06.117+08:00  INFO 3388 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T13:55:06.802+08:00  INFO 3388 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@544e6b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b430541, org.springframework.security.web.context.SecurityContextHolderFilter@319058ce, org.springframework.security.web.header.HeaderWriterFilter@35b58254, org.springframework.security.web.authentication.logout.LogoutFilter@6b32b678, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71cc0e35, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b6c740b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65a66a75, org.springframework.security.web.session.SessionManagementFilter@44a9971f, org.springframework.security.web.access.ExceptionTranslationFilter@640a6d4b, org.springframework.security.web.access.intercept.AuthorizationFilter@72b53f27]
2024-10-07T13:55:07.146+08:00  INFO 3388 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T13:55:07.148+08:00  INFO 3388 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T13:55:07.148+08:00  INFO 3388 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T13:55:07.148+08:00  INFO 3388 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T13:55:07.148+08:00  INFO 3388 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T13:55:07.148+08:00  INFO 3388 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:55:07.148+08:00  INFO 3388 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:55:07.148+08:00  INFO 3388 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:55:07.148+08:00  INFO 3388 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:55:07.149+08:00  INFO 3388 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T13:55:07.150+08:00  INFO 3388 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T13:55:07.175+08:00  INFO 3388 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#52d9f36b:0/SimpleConnection@2e51ede1 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=59211]
2024-10-07T13:55:07.222+08:00  INFO 3388 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.72 seconds (process running for 3.046)
2024-10-07T13:55:08.888+08:00  INFO 3388 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T13:55:08.888+08:00  INFO 3388 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T13:55:08.889+08:00  INFO 3388 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-07T13:55:09.236+08:00  INFO 3388 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 3 验证通过
2024-10-07T13:55:09.255+08:00  INFO 3388 --- [http-nio-10102-exec-1] com.supply.websocket.ChatEndPoint        : 用户 3 已连接
2024-10-07T13:55:09.279+08:00  INFO 3388 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:55:09
2024-10-07T13:55:40.157+08:00  INFO 3388 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:55:40.158+08:00  INFO 3388 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:55:40.159+08:00  INFO 3388 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:55:40.160+08:00  INFO 3388 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:55:40.486+08:00  INFO 3388 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:55:40.486+08:00  INFO 3388 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:55:40.486+08:00  INFO 3388 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:55:40.562+08:00  INFO 3388 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:55:40.695+08:00  INFO 3388 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 3 已下线
2024-10-07T13:55:43.433+08:00  INFO 7100 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 7100 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T13:55:43.434+08:00  INFO 7100 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T13:55:43.954+08:00  INFO 7100 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T13:55:43.955+08:00  INFO 7100 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T13:55:43.974+08:00  INFO 7100 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2024-10-07T13:55:44.125+08:00  INFO 7100 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T13:55:44.125+08:00  INFO 7100 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:55:44.126+08:00  INFO 7100 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:55:44.126+08:00  INFO 7100 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:55:44.127+08:00  INFO 7100 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:55:44.127+08:00  INFO 7100 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T13:55:44.127+08:00  INFO 7100 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T13:55:44.127+08:00  INFO 7100 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:55:44.127+08:00  INFO 7100 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:55:44.140+08:00  INFO 7100 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T13:55:44.148+08:00  INFO 7100 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T13:55:44.149+08:00  INFO 7100 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T13:55:44.430+08:00  INFO 7100 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T13:55:44.436+08:00  INFO 7100 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T13:55:44.437+08:00  INFO 7100 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T13:55:44.481+08:00  INFO 7100 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T13:55:44.481+08:00  INFO 7100 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1021 ms
2024-10-07T13:55:44.713+08:00  INFO 7100 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T13:55:44.719+08:00  INFO 7100 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T13:55:44.719+08:00  INFO 7100 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T13:55:44.719+08:00  INFO 7100 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T13:55:44.720+08:00  INFO 7100 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T13:55:44.720+08:00  INFO 7100 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T13:55:44.720+08:00  INFO 7100 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T13:55:44.721+08:00  INFO 7100 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T13:55:45.358+08:00  INFO 7100 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@544e6b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b430541, org.springframework.security.web.context.SecurityContextHolderFilter@319058ce, org.springframework.security.web.header.HeaderWriterFilter@35b58254, org.springframework.security.web.authentication.logout.LogoutFilter@6b32b678, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71cc0e35, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b6c740b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65a66a75, org.springframework.security.web.session.SessionManagementFilter@44a9971f, org.springframework.security.web.access.ExceptionTranslationFilter@640a6d4b, org.springframework.security.web.access.intercept.AuthorizationFilter@72b53f27]
2024-10-07T13:55:45.710+08:00  INFO 7100 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T13:55:45.712+08:00  INFO 7100 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T13:55:45.712+08:00  INFO 7100 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T13:55:45.712+08:00  INFO 7100 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T13:55:45.712+08:00  INFO 7100 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T13:55:45.712+08:00  INFO 7100 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:55:45.712+08:00  INFO 7100 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:55:45.712+08:00  INFO 7100 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:55:45.712+08:00  INFO 7100 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:55:45.712+08:00  INFO 7100 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T13:55:45.713+08:00  INFO 7100 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T13:55:45.740+08:00  INFO 7100 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#52d9f36b:0/SimpleConnection@3d00e981 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=59238]
2024-10-07T13:55:45.787+08:00  INFO 7100 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.62 seconds (process running for 2.943)
2024-10-07T13:55:47.455+08:00  INFO 7100 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T13:55:47.455+08:00  INFO 7100 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T13:55:47.456+08:00  INFO 7100 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-07T13:55:47.803+08:00  INFO 7100 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 3 验证通过
2024-10-07T13:55:47.824+08:00  INFO 7100 --- [http-nio-10102-exec-1] com.supply.websocket.ChatEndPoint        : 用户 3 已连接
2024-10-07T13:55:47.854+08:00  INFO 7100 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:55:47
2024-10-07T13:56:21.390+08:00  INFO 7100 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:56:21.391+08:00  INFO 7100 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:56:21.392+08:00  INFO 7100 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:56:21.393+08:00  INFO 7100 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:56:22.037+08:00  INFO 7100 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:56:22.095+08:00  INFO 7100 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:56:22.095+08:00  INFO 7100 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:56:22.157+08:00  INFO 7100 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:56:22.293+08:00  INFO 7100 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 3 已下线
2024-10-07T13:56:25.060+08:00  INFO 3544 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 3544 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T13:56:25.061+08:00  INFO 3544 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T13:56:25.643+08:00  INFO 3544 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T13:56:25.645+08:00  INFO 3544 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T13:56:25.664+08:00  INFO 3544 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2024-10-07T13:56:25.815+08:00  INFO 3544 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T13:56:25.815+08:00  INFO 3544 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:56:25.816+08:00  INFO 3544 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:56:25.816+08:00  INFO 3544 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:56:25.817+08:00  INFO 3544 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:56:25.817+08:00  INFO 3544 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T13:56:25.817+08:00  INFO 3544 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T13:56:25.817+08:00  INFO 3544 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:56:25.817+08:00  INFO 3544 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:56:25.829+08:00  INFO 3544 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T13:56:25.836+08:00  INFO 3544 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T13:56:25.837+08:00  INFO 3544 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T13:56:26.105+08:00  INFO 3544 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T13:56:26.118+08:00  INFO 3544 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T13:56:26.118+08:00  INFO 3544 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T13:56:26.160+08:00  INFO 3544 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T13:56:26.160+08:00  INFO 3544 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1066 ms
2024-10-07T13:56:26.391+08:00  INFO 3544 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T13:56:26.397+08:00  INFO 3544 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T13:56:26.398+08:00  INFO 3544 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T13:56:26.399+08:00  INFO 3544 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T13:56:26.399+08:00  INFO 3544 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T13:56:26.399+08:00  INFO 3544 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T13:56:26.400+08:00  INFO 3544 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T13:56:26.400+08:00  INFO 3544 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T13:56:27.028+08:00  INFO 3544 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5b430541, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@65a66a75, org.springframework.security.web.context.SecurityContextHolderFilter@3909308c, org.springframework.security.web.header.HeaderWriterFilter@73baf7f0, org.springframework.security.web.authentication.logout.LogoutFilter@1b6683c4, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3b6c740b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8091d80, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5a07ae2f, org.springframework.security.web.session.SessionManagementFilter@2e2cd42c, org.springframework.security.web.access.ExceptionTranslationFilter@1238a074, org.springframework.security.web.access.intercept.AuthorizationFilter@1be4a7e3]
2024-10-07T13:56:27.375+08:00  INFO 3544 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T13:56:27.377+08:00  INFO 3544 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T13:56:27.377+08:00  INFO 3544 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T13:56:27.378+08:00  INFO 3544 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T13:56:27.378+08:00  INFO 3544 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T13:56:27.378+08:00  INFO 3544 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:56:27.378+08:00  INFO 3544 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:56:27.378+08:00  INFO 3544 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:56:27.378+08:00  INFO 3544 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:56:27.378+08:00  INFO 3544 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T13:56:27.379+08:00  INFO 3544 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T13:56:27.405+08:00  INFO 3544 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#52d9f36b:0/SimpleConnection@6265a548 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=59266]
2024-10-07T13:56:27.450+08:00  INFO 3544 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.673 seconds (process running for 2.992)
2024-10-07T13:56:29.067+08:00  INFO 3544 --- [http-nio-10102-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T13:56:29.067+08:00  INFO 3544 --- [http-nio-10102-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T13:56:29.068+08:00  INFO 3544 --- [http-nio-10102-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-07T13:56:29.436+08:00  INFO 3544 --- [http-nio-10102-exec-2] c.s.filter.JwtAuthenticationTokenFilter  : 用户 3 验证通过
2024-10-07T13:56:29.457+08:00  INFO 3544 --- [http-nio-10102-exec-2] com.supply.websocket.ChatEndPoint        : 用户 3 已连接
2024-10-07T13:56:29.482+08:00  INFO 3544 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:56:29
2024-10-07T13:56:29.495+08:00  INFO 3544 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-10-07T13:56:29.585+08:00  INFO 3544 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7db03ba3
2024-10-07T13:56:29.587+08:00  INFO 3544 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-10-07T13:56:29.591+08:00 DEBUG 3544 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] c.s.mapper.ChatMapper.getQueueByUserId   : ==>  Preparing: select id from chat_queue where (user_id1 = ? and user_id2 = ?) or (user_id1 = ? and user_id2 = ?)
2024-10-07T13:56:29.606+08:00 DEBUG 3544 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] c.s.mapper.ChatMapper.getQueueByUserId   : ==> Parameters: 5(Long), 3(Long), 3(Long), 5(Long)
2024-10-07T13:56:29.622+08:00 DEBUG 3544 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] c.s.mapper.ChatMapper.getQueueByUserId   : <==      Total: 1
2024-10-07T13:56:29.630+08:00  INFO 3544 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.websocket.ChatEndPoint        : 成功发送消息给用户 3
2024-10-07T13:56:29.632+08:00  INFO 3544 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 接收到store.queue的消息：{"information":"hello","queueId":3,"receiveUserId":3,"sendTime":"2024-10-07T13:22:14.941625300","sendUserId":5}, 2024-10-07 13:56:29
2024-10-07T13:56:29.633+08:00 DEBUG 3544 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] c.s.m.ChatMapper.storeChatInformation    : ==>  Preparing: insert into chat_information(queue_id,information,image,send_user_id,receive_user_id,send_time) VALUES(?,?,?,?,?,?)
2024-10-07T13:56:29.634+08:00 DEBUG 3544 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] c.s.m.ChatMapper.storeChatInformation    : ==> Parameters: 3(Long), hello(String), null, 5(Long), 3(Long), 2024-10-07T13:22:14.941625300(LocalDateTime)
2024-10-07T13:56:29.640+08:00 DEBUG 3544 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] c.s.m.ChatMapper.storeChatInformation    : <==    Updates: 1
2024-10-07T13:56:29.640+08:00  INFO 3544 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 成功存储聊天信息：ChatInformation(id=null, queueId=3, sendUserId=5, receiveUserId=3, information=hello, image=null, sendTime=2024-10-07T13:22:14.941625300)
2024-10-07T13:57:07.195+08:00  INFO 3544 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:57:07.196+08:00  INFO 3544 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:57:07.197+08:00  INFO 3544 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:57:07.198+08:00  INFO 3544 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:57:07.717+08:00  INFO 3544 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:57:07.717+08:00  INFO 3544 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:57:07.902+08:00  INFO 3544 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:57:07.949+08:00  INFO 3544 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:57:08.078+08:00  INFO 3544 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-10-07T13:57:08.081+08:00  INFO 3544 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-10-07T13:57:08.086+08:00  INFO 3544 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 3 已下线
2024-10-07T13:57:10.769+08:00  INFO 9184 --- [main] com.supply.SupplyApplication             : Starting SupplyApplication using Java 17.0.11 with PID 9184 (D:\Java projects\drug-supply-system\drug-server\target\classes started by jjjj in D:\Java projects\drug-supply-system)
2024-10-07T13:57:10.771+08:00  INFO 9184 --- [main] com.supply.SupplyApplication             : The following 1 profile is active: "local"
2024-10-07T13:57:11.288+08:00  INFO 9184 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2024-10-07T13:57:11.290+08:00  INFO 9184 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2024-10-07T13:57:11.310+08:00  INFO 9184 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2024-10-07T13:57:11.461+08:00  INFO 9184 --- [main] ptablePropertiesBeanFactoryPostProcessor : Post-processing PropertySource instances
2024-10-07T13:57:11.462+08:00  INFO 9184 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:57:11.462+08:00  INFO 9184 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:57:11.463+08:00  INFO 9184 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletContextInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:57:11.463+08:00  INFO 9184 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemProperties [org.springframework.core.env.PropertiesPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:57:11.463+08:00  INFO 9184 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource systemEnvironment [org.springframework.boot.env.SystemEnvironmentPropertySourceEnvironmentPostProcessor$OriginAwareSystemEnvironmentPropertySource] to EncryptableSystemEnvironmentPropertySourceWrapper
2024-10-07T13:57:11.463+08:00  INFO 9184 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource random [org.springframework.boot.env.RandomValuePropertySource] to EncryptablePropertySourceWrapper
2024-10-07T13:57:11.463+08:00  INFO 9184 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:57:11.463+08:00  INFO 9184 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' [org.springframework.boot.env.OriginTrackedMapPropertySource] to EncryptableMapPropertySourceWrapper
2024-10-07T13:57:11.476+08:00  INFO 9184 --- [main] c.u.j.filter.DefaultLazyPropertyFilter   : Property Filter custom Bean not found with name 'encryptablePropertyFilter'. Initializing Default Property Filter
2024-10-07T13:57:11.482+08:00  INFO 9184 --- [main] c.u.j.r.DefaultLazyPropertyResolver      : Property Resolver custom Bean not found with name 'encryptablePropertyResolver'. Initializing Default Property Resolver
2024-10-07T13:57:11.484+08:00  INFO 9184 --- [main] c.u.j.d.DefaultLazyPropertyDetector      : Property Detector custom Bean not found with name 'encryptablePropertyDetector'. Initializing Default Property Detector
2024-10-07T13:57:11.767+08:00  INFO 9184 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 10102 (http)
2024-10-07T13:57:11.775+08:00  INFO 9184 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-10-07T13:57:11.775+08:00  INFO 9184 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.20]
2024-10-07T13:57:11.822+08:00  INFO 9184 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-10-07T13:57:11.822+08:00  INFO 9184 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1026 ms
2024-10-07T13:57:12.058+08:00  INFO 9184 --- [main] c.u.j.encryptor.DefaultLazyEncryptor     : String Encryptor custom Bean not found with name 'jasyptStringEncryptor'. Initializing Default String Encryptor
2024-10-07T13:57:12.067+08:00  INFO 9184 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.key-obtention-iterations, using default value: 1000
2024-10-07T13:57:12.068+08:00  INFO 9184 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.pool-size, using default value: 1
2024-10-07T13:57:12.068+08:00  INFO 9184 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-name, using default value: null
2024-10-07T13:57:12.068+08:00  INFO 9184 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.provider-class-name, using default value: null
2024-10-07T13:57:12.069+08:00  INFO 9184 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.salt-generator-classname, using default value: org.jasypt.salt.RandomSaltGenerator
2024-10-07T13:57:12.069+08:00  INFO 9184 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.iv-generator-classname, using default value: org.jasypt.iv.RandomIvGenerator
2024-10-07T13:57:12.070+08:00  INFO 9184 --- [main] c.u.j.c.StringEncryptorBuilder           : Encryptor config not found for property jasypt.encryptor.string-output-type, using default value: base64
2024-10-07T13:57:12.724+08:00  INFO 9184 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@544e6b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b430541, org.springframework.security.web.context.SecurityContextHolderFilter@319058ce, org.springframework.security.web.header.HeaderWriterFilter@35b58254, org.springframework.security.web.authentication.logout.LogoutFilter@6b32b678, com.supply.filter.JwtAuthenticationTokenFilter@173b1af1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71cc0e35, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b6c740b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65a66a75, org.springframework.security.web.session.SessionManagementFilter@44a9971f, org.springframework.security.web.access.ExceptionTranslationFilter@640a6d4b, org.springframework.security.web.access.intercept.AuthorizationFilter@72b53f27]
2024-10-07T13:57:13.085+08:00  INFO 9184 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 10102 (http) with context path ''
2024-10-07T13:57:13.087+08:00  INFO 9184 --- [main] u.j.c.RefreshScopeRefreshedEventListener : Refreshing cached encryptable property sources on ServletWebServerInitializedEvent
2024-10-07T13:57:13.087+08:00  INFO 9184 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemProperties refreshed
2024-10-07T13:57:13.087+08:00  INFO 9184 --- [main] CachingDelegateEncryptablePropertySource : Property Source systemEnvironment refreshed
2024-10-07T13:57:13.087+08:00  INFO 9184 --- [main] CachingDelegateEncryptablePropertySource : Property Source random refreshed
2024-10-07T13:57:13.087+08:00  INFO 9184 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application-local.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:57:13.087+08:00  INFO 9184 --- [main] CachingDelegateEncryptablePropertySource : Property Source Config resource 'class path resource [application.yaml]' via location 'optional:classpath:/' refreshed
2024-10-07T13:57:13.087+08:00  INFO 9184 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource configurationProperties [class org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertySource
2024-10-07T13:57:13.087+08:00  INFO 9184 --- [main] c.u.j.EncryptablePropertySourceConverter : Skipping PropertySource servletConfigInitParams [class org.springframework.core.env.PropertySource$StubPropertySource
2024-10-07T13:57:13.087+08:00  INFO 9184 --- [main] c.u.j.EncryptablePropertySourceConverter : Converting PropertySource servletContextInitParams [org.springframework.web.context.support.ServletContextPropertySource] to EncryptableEnumerablePropertySourceWrapper
2024-10-07T13:57:13.088+08:00  INFO 9184 --- [main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [192.168.65.150:5672]
2024-10-07T13:57:13.115+08:00  INFO 9184 --- [main] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#52d9f36b:0/SimpleConnection@3d00e981 [delegate=amqp://drug@192.168.65.150:5672//drug, localPort=59308]
2024-10-07T13:57:13.214+08:00  INFO 9184 --- [main] com.supply.SupplyApplication             : Started SupplyApplication in 2.706 seconds (process running for 3.03)
2024-10-07T13:57:17.910+08:00  INFO 9184 --- [http-nio-10102-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-07T13:57:17.910+08:00  INFO 9184 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-10-07T13:57:17.911+08:00  INFO 9184 --- [http-nio-10102-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-10-07T13:57:18.262+08:00  INFO 9184 --- [http-nio-10102-exec-1] c.s.filter.JwtAuthenticationTokenFilter  : 用户 3 验证通过
2024-10-07T13:57:18.283+08:00  INFO 9184 --- [http-nio-10102-exec-1] com.supply.websocket.ChatEndPoint        : 用户 3 已连接
2024-10-07T13:57:18.308+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：3, 2024-10-07 13:57:18
2024-10-07T13:57:18.324+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-10-07T13:57:18.411+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6a563a11
2024-10-07T13:57:18.412+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-10-07T13:57:18.417+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] c.s.mapper.ChatMapper.getQueueByUserId   : ==>  Preparing: select id from chat_queue where (user_id1 = ? and user_id2 = ?) or (user_id1 = ? and user_id2 = ?)
2024-10-07T13:57:18.431+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] c.s.mapper.ChatMapper.getQueueByUserId   : ==> Parameters: 5(Long), 3(Long), 3(Long), 5(Long)
2024-10-07T13:57:18.447+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] c.s.mapper.ChatMapper.getQueueByUserId   : <==      Total: 1
2024-10-07T13:57:18.455+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.websocket.ChatEndPoint        : 成功发送消息给用户 3
2024-10-07T13:57:18.456+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 接收到store.queue的消息：{"information":"hello","queueId":3,"receiveUserId":3,"sendTime":"2024-10-07T13:22:14.941625300","sendUserId":5}, 2024-10-07 13:57:18
2024-10-07T13:57:18.458+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] c.s.m.ChatMapper.storeChatInformation    : ==>  Preparing: insert into chat_information(queue_id,information,image,send_user_id,receive_user_id,send_time) VALUES(?,?,?,?,?,?)
2024-10-07T13:57:18.459+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] c.s.m.ChatMapper.storeChatInformation    : ==> Parameters: 3(Long), hello(String), null, 5(Long), 3(Long), 2024-10-07T13:22:14.941625300(LocalDateTime)
2024-10-07T13:57:18.464+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] c.s.m.ChatMapper.storeChatInformation    : <==    Updates: 1
2024-10-07T13:57:18.465+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 成功存储聊天信息：ChatInformation(id=null, queueId=3, sendUserId=5, receiveUserId=3, information=hello, image=null, sendTime=2024-10-07T13:22:14.941625300)
2024-10-07T13:57:59.904+08:00  INFO 9184 --- [http-nio-10102-exec-3] c.s.filter.JwtAuthenticationTokenFilter  : 用户 5 验证通过
2024-10-07T13:57:59.905+08:00  INFO 9184 --- [http-nio-10102-exec-3] com.supply.websocket.ChatEndPoint        : 用户 5 已连接
2024-10-07T13:57:59.907+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：5, 2024-10-07 13:57:59
2024-10-07T13:58:06.003+08:00 DEBUG 9184 --- [http-nio-10102-exec-2] c.s.mapper.ChatMapper.getQueueByUserId   : ==>  Preparing: select id from chat_queue where (user_id1 = ? and user_id2 = ?) or (user_id1 = ? and user_id2 = ?)
2024-10-07T13:58:06.004+08:00 DEBUG 9184 --- [http-nio-10102-exec-2] c.s.mapper.ChatMapper.getQueueByUserId   : ==> Parameters: 3(Long), 5(Long), 5(Long), 3(Long)
2024-10-07T13:58:06.005+08:00 DEBUG 9184 --- [http-nio-10102-exec-2] c.s.mapper.ChatMapper.getQueueByUserId   : <==      Total: 1
2024-10-07T13:58:06.005+08:00  INFO 9184 --- [http-nio-10102-exec-2] com.supply.websocket.ChatEndPoint        : 成功发送消息给用户 5
2024-10-07T13:58:06.007+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 接收到store.queue的消息：{"information":"hello","queueId":3,"receiveUserId":5,"sendTime":"2024-10-07T13:58:06.002222200","sendUserId":3}, 2024-10-07 13:58:06
2024-10-07T13:58:06.008+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] c.s.m.ChatMapper.storeChatInformation    : ==>  Preparing: insert into chat_information(queue_id,information,image,send_user_id,receive_user_id,send_time) VALUES(?,?,?,?,?,?)
2024-10-07T13:58:06.008+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] c.s.m.ChatMapper.storeChatInformation    : ==> Parameters: 3(Long), hello(String), null, 3(Long), 5(Long), 2024-10-07T13:58:06.002222200(LocalDateTime)
2024-10-07T13:58:06.011+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] c.s.m.ChatMapper.storeChatInformation    : <==    Updates: 1
2024-10-07T13:58:06.012+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 成功存储聊天信息：ChatInformation(id=null, queueId=3, sendUserId=3, receiveUserId=5, information=hello, image=null, sendTime=2024-10-07T13:58:06.002222200)
2024-10-07T13:58:08.379+08:00 DEBUG 9184 --- [http-nio-10102-exec-4] c.s.mapper.ChatMapper.getQueueByUserId   : ==>  Preparing: select id from chat_queue where (user_id1 = ? and user_id2 = ?) or (user_id1 = ? and user_id2 = ?)
2024-10-07T13:58:08.380+08:00 DEBUG 9184 --- [http-nio-10102-exec-4] c.s.mapper.ChatMapper.getQueueByUserId   : ==> Parameters: 5(Long), 3(Long), 3(Long), 5(Long)
2024-10-07T13:58:08.381+08:00 DEBUG 9184 --- [http-nio-10102-exec-4] c.s.mapper.ChatMapper.getQueueByUserId   : <==      Total: 1
2024-10-07T13:58:08.382+08:00  INFO 9184 --- [http-nio-10102-exec-4] com.supply.websocket.ChatEndPoint        : 成功发送消息给用户 3
2024-10-07T13:58:08.383+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 接收到store.queue的消息：{"information":"hello","queueId":3,"receiveUserId":3,"sendTime":"2024-10-07T13:58:08.378690100","sendUserId":5}, 2024-10-07 13:58:08
2024-10-07T13:58:08.384+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] c.s.m.ChatMapper.storeChatInformation    : ==>  Preparing: insert into chat_information(queue_id,information,image,send_user_id,receive_user_id,send_time) VALUES(?,?,?,?,?,?)
2024-10-07T13:58:08.385+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] c.s.m.ChatMapper.storeChatInformation    : ==> Parameters: 3(Long), hello(String), null, 5(Long), 3(Long), 2024-10-07T13:58:08.378690100(LocalDateTime)
2024-10-07T13:58:08.410+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] c.s.m.ChatMapper.storeChatInformation    : <==    Updates: 1
2024-10-07T13:58:08.410+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 成功存储聊天信息：ChatInformation(id=null, queueId=3, sendUserId=5, receiveUserId=3, information=hello, image=null, sendTime=2024-10-07T13:58:08.378690100)
2024-10-07T13:58:13.719+08:00  INFO 9184 --- [http-nio-10102-exec-5] com.supply.websocket.ChatEndPoint        : 用户 5 已下线
2024-10-07T13:58:13.722+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] com.supply.consumer.MessageConsumer      : 接收到finish.queue的消息：5,2024-10-07 13:58:13
2024-10-07T13:58:13.728+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.ChatMapper.getAllQueueByUserId     : ==>  Preparing: select * from chat_queue where user_id1 = ? or user_id2 = ?
2024-10-07T13:58:13.729+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.ChatMapper.getAllQueueByUserId     : ==> Parameters: 5(Long), 5(Long)
2024-10-07T13:58:13.732+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.ChatMapper.getAllQueueByUserId     : <==      Total: 1
2024-10-07T13:58:13.733+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.C.getChatInformationByQueueId      : ==>  Preparing: select * from chat_information where queue_id = ? limit 5
2024-10-07T13:58:13.733+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.C.getChatInformationByQueueId      : ==> Parameters: 3(Long)
2024-10-07T13:58:13.736+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-1] c.s.m.C.getChatInformationByQueueId      : <==      Total: 5
2024-10-07T13:58:20.924+08:00  WARN 9184 --- [http-nio-10102-exec-6] com.supply.websocket.ChatEndPoint        : 用户 5 不在线，无法发送消息，进行消息缓存
2024-10-07T13:58:21.512+08:00  WARN 9184 --- [http-nio-10102-exec-7] com.supply.websocket.ChatEndPoint        : 用户 5 不在线，无法发送消息，进行消息缓存
2024-10-07T13:58:21.961+08:00  WARN 9184 --- [http-nio-10102-exec-9] com.supply.websocket.ChatEndPoint        : 用户 5 不在线，无法发送消息，进行消息缓存
2024-10-07T13:58:41.433+08:00  INFO 9184 --- [http-nio-10102-exec-8] c.s.filter.JwtAuthenticationTokenFilter  : 用户 5 验证通过
2024-10-07T13:58:41.435+08:00  INFO 9184 --- [http-nio-10102-exec-8] com.supply.websocket.ChatEndPoint        : 用户 5 已连接
2024-10-07T13:58:41.438+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.consumer.MessageConsumer      : 接收到message.queue的消息：5, 2024-10-07 13:58:41
2024-10-07T13:58:41.440+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] c.s.mapper.ChatMapper.getQueueByUserId   : ==>  Preparing: select id from chat_queue where (user_id1 = ? and user_id2 = ?) or (user_id1 = ? and user_id2 = ?)
2024-10-07T13:58:41.441+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] c.s.mapper.ChatMapper.getQueueByUserId   : ==> Parameters: 3(Long), 5(Long), 5(Long), 3(Long)
2024-10-07T13:58:41.443+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] c.s.mapper.ChatMapper.getQueueByUserId   : <==      Total: 1
2024-10-07T13:58:41.444+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.websocket.ChatEndPoint        : 成功发送消息给用户 5
2024-10-07T13:58:41.445+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] c.s.mapper.ChatMapper.getQueueByUserId   : ==>  Preparing: select id from chat_queue where (user_id1 = ? and user_id2 = ?) or (user_id1 = ? and user_id2 = ?)
2024-10-07T13:58:41.446+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] c.s.mapper.ChatMapper.getQueueByUserId   : ==> Parameters: 3(Long), 5(Long), 5(Long), 3(Long)
2024-10-07T13:58:41.446+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 接收到store.queue的消息：{"information":"hello","queueId":3,"receiveUserId":5,"sendTime":"2024-10-07T13:58:20.919473700","sendUserId":3}, 2024-10-07 13:58:41
2024-10-07T13:58:41.447+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] c.s.mapper.ChatMapper.getQueueByUserId   : <==      Total: 1
2024-10-07T13:58:41.447+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] c.s.m.ChatMapper.storeChatInformation    : ==>  Preparing: insert into chat_information(queue_id,information,image,send_user_id,receive_user_id,send_time) VALUES(?,?,?,?,?,?)
2024-10-07T13:58:41.447+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] c.s.m.ChatMapper.storeChatInformation    : ==> Parameters: 3(Long), hello(String), null, 3(Long), 5(Long), 2024-10-07T13:58:20.919473700(LocalDateTime)
2024-10-07T13:58:41.448+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.websocket.ChatEndPoint        : 成功发送消息给用户 5
2024-10-07T13:58:41.449+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] c.s.mapper.ChatMapper.getQueueByUserId   : ==>  Preparing: select id from chat_queue where (user_id1 = ? and user_id2 = ?) or (user_id1 = ? and user_id2 = ?)
2024-10-07T13:58:41.449+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] c.s.mapper.ChatMapper.getQueueByUserId   : ==> Parameters: 3(Long), 5(Long), 5(Long), 3(Long)
2024-10-07T13:58:41.450+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] c.s.mapper.ChatMapper.getQueueByUserId   : <==      Total: 1
2024-10-07T13:58:41.450+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-1] com.supply.websocket.ChatEndPoint        : 成功发送消息给用户 5
2024-10-07T13:58:41.451+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] c.s.m.ChatMapper.storeChatInformation    : <==    Updates: 1
2024-10-07T13:58:41.451+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 成功存储聊天信息：ChatInformation(id=null, queueId=3, sendUserId=3, receiveUserId=5, information=hello, image=null, sendTime=2024-10-07T13:58:20.919473700)
2024-10-07T13:58:41.452+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 接收到store.queue的消息：{"information":"hello","queueId":3,"receiveUserId":5,"sendTime":"2024-10-07T13:58:21.511188700","sendUserId":3}, 2024-10-07 13:58:41
2024-10-07T13:58:41.453+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] c.s.m.ChatMapper.storeChatInformation    : ==>  Preparing: insert into chat_information(queue_id,information,image,send_user_id,receive_user_id,send_time) VALUES(?,?,?,?,?,?)
2024-10-07T13:58:41.453+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] c.s.m.ChatMapper.storeChatInformation    : ==> Parameters: 3(Long), hello(String), null, 3(Long), 5(Long), 2024-10-07T13:58:21.511188700(LocalDateTime)
2024-10-07T13:58:41.456+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] c.s.m.ChatMapper.storeChatInformation    : <==    Updates: 1
2024-10-07T13:58:41.456+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 成功存储聊天信息：ChatInformation(id=null, queueId=3, sendUserId=3, receiveUserId=5, information=hello, image=null, sendTime=2024-10-07T13:58:21.511188700)
2024-10-07T13:58:41.458+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 接收到store.queue的消息：{"information":"hello","queueId":3,"receiveUserId":5,"sendTime":"2024-10-07T13:58:21.960892500","sendUserId":3}, 2024-10-07 13:58:41
2024-10-07T13:58:41.458+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] c.s.m.ChatMapper.storeChatInformation    : ==>  Preparing: insert into chat_information(queue_id,information,image,send_user_id,receive_user_id,send_time) VALUES(?,?,?,?,?,?)
2024-10-07T13:58:41.458+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] c.s.m.ChatMapper.storeChatInformation    : ==> Parameters: 3(Long), hello(String), null, 3(Long), 5(Long), 2024-10-07T13:58:21.960892500(LocalDateTime)
2024-10-07T13:58:41.461+08:00 DEBUG 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] c.s.m.ChatMapper.storeChatInformation    : <==    Updates: 1
2024-10-07T13:58:41.461+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-1] com.supply.consumer.MessageConsumer      : 成功存储聊天信息：ChatInformation(id=null, queueId=3, sendUserId=3, receiveUserId=5, information=hello, image=null, sendTime=2024-10-07T13:58:21.960892500)
2024-10-07T13:59:04.835+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:59:04.836+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:59:04.837+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:59:04.838+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-10-07T13:59:05.019+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#1-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:59:05.544+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#3-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:59:05.559+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#2-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:59:05.821+08:00  INFO 9184 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-10-07T13:59:05.951+08:00  INFO 9184 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-10-07T13:59:05.955+08:00  INFO 9184 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-10-07T13:59:05.960+08:00  INFO 9184 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 5 已下线
2024-10-07T13:59:05.960+08:00  INFO 9184 --- [SpringApplicationShutdownHook] com.supply.websocket.ChatEndPoint        : 用户 3 已下线
